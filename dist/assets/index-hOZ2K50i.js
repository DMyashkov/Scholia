var ny=e=>{throw TypeError(e)};var kf=(e,t,r)=>t.has(e)||ny("Cannot "+r);var T=(e,t,r)=>(kf(e,t,"read from private field"),r?r.call(e):t.get(e)),de=(e,t,r)=>t.has(e)?ny("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,r),se=(e,t,r,n)=>(kf(e,t,"write to private field"),n?n.call(e,r):t.set(e,r),r),xe=(e,t,r)=>(kf(e,t,"access private method"),r);var oc=(e,t,r,n)=>({set _(s){se(e,t,s,r)},get _(){return T(e,t,n)}});function UN(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const s in n)if(s!=="default"&&!(s in e)){const i=Object.getOwnPropertyDescriptor(n,s);i&&Object.defineProperty(e,s,i.get?i:{enumerable:!0,get:()=>n[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(s){if(s.ep)return;s.ep=!0;const i=r(s);fetch(s.href,i)}})();function zx(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Bx={exports:{}},gd={},Wx={exports:{}},Ee={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Pl=Symbol.for("react.element"),zN=Symbol.for("react.portal"),BN=Symbol.for("react.fragment"),WN=Symbol.for("react.strict_mode"),VN=Symbol.for("react.profiler"),qN=Symbol.for("react.provider"),KN=Symbol.for("react.context"),HN=Symbol.for("react.forward_ref"),GN=Symbol.for("react.suspense"),QN=Symbol.for("react.memo"),YN=Symbol.for("react.lazy"),sy=Symbol.iterator;function ZN(e){return e===null||typeof e!="object"?null:(e=sy&&e[sy]||e["@@iterator"],typeof e=="function"?e:null)}var Vx={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},qx=Object.assign,Kx={};function Xo(e,t,r){this.props=e,this.context=t,this.refs=Kx,this.updater=r||Vx}Xo.prototype.isReactComponent={};Xo.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Xo.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Hx(){}Hx.prototype=Xo.prototype;function Um(e,t,r){this.props=e,this.context=t,this.refs=Kx,this.updater=r||Vx}var zm=Um.prototype=new Hx;zm.constructor=Um;qx(zm,Xo.prototype);zm.isPureReactComponent=!0;var iy=Array.isArray,Gx=Object.prototype.hasOwnProperty,Bm={current:null},Qx={key:!0,ref:!0,__self:!0,__source:!0};function Yx(e,t,r){var n,s={},i=null,o=null;if(t!=null)for(n in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(i=""+t.key),t)Gx.call(t,n)&&!Qx.hasOwnProperty(n)&&(s[n]=t[n]);var a=arguments.length-2;if(a===1)s.children=r;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];s.children=l}if(e&&e.defaultProps)for(n in a=e.defaultProps,a)s[n]===void 0&&(s[n]=a[n]);return{$$typeof:Pl,type:e,key:i,ref:o,props:s,_owner:Bm.current}}function XN(e,t){return{$$typeof:Pl,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Wm(e){return typeof e=="object"&&e!==null&&e.$$typeof===Pl}function JN(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var oy=/\/+/g;function Ef(e,t){return typeof e=="object"&&e!==null&&e.key!=null?JN(""+e.key):t.toString(36)}function Wc(e,t,r,n,s){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case Pl:case zN:o=!0}}if(o)return o=e,s=s(o),e=n===""?"."+Ef(o,0):n,iy(s)?(r="",e!=null&&(r=e.replace(oy,"$&/")+"/"),Wc(s,t,r,"",function(c){return c})):s!=null&&(Wm(s)&&(s=XN(s,r+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(oy,"$&/")+"/")+e)),t.push(s)),1;if(o=0,n=n===""?".":n+":",iy(e))for(var a=0;a<e.length;a++){i=e[a];var l=n+Ef(i,a);o+=Wc(i,t,r,l,s)}else if(l=ZN(e),typeof l=="function")for(e=l.call(e),a=0;!(i=e.next()).done;)i=i.value,l=n+Ef(i,a++),o+=Wc(i,t,r,l,s);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function ac(e,t,r){if(e==null)return e;var n=[],s=0;return Wc(e,n,"","",function(i){return t.call(r,i,s++)}),n}function eT(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Ot={current:null},Vc={transition:null},tT={ReactCurrentDispatcher:Ot,ReactCurrentBatchConfig:Vc,ReactCurrentOwner:Bm};function Zx(){throw Error("act(...) is not supported in production builds of React.")}Ee.Children={map:ac,forEach:function(e,t,r){ac(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return ac(e,function(){t++}),t},toArray:function(e){return ac(e,function(t){return t})||[]},only:function(e){if(!Wm(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Ee.Component=Xo;Ee.Fragment=BN;Ee.Profiler=VN;Ee.PureComponent=Um;Ee.StrictMode=WN;Ee.Suspense=GN;Ee.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tT;Ee.act=Zx;Ee.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=qx({},e.props),s=e.key,i=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,o=Bm.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var a=e.type.defaultProps;for(l in t)Gx.call(t,l)&&!Qx.hasOwnProperty(l)&&(n[l]=t[l]===void 0&&a!==void 0?a[l]:t[l])}var l=arguments.length-2;if(l===1)n.children=r;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];n.children=a}return{$$typeof:Pl,type:e.type,key:s,ref:i,props:n,_owner:o}};Ee.createContext=function(e){return e={$$typeof:KN,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:qN,_context:e},e.Consumer=e};Ee.createElement=Yx;Ee.createFactory=function(e){var t=Yx.bind(null,e);return t.type=e,t};Ee.createRef=function(){return{current:null}};Ee.forwardRef=function(e){return{$$typeof:HN,render:e}};Ee.isValidElement=Wm;Ee.lazy=function(e){return{$$typeof:YN,_payload:{_status:-1,_result:e},_init:eT}};Ee.memo=function(e,t){return{$$typeof:QN,type:e,compare:t===void 0?null:t}};Ee.startTransition=function(e){var t=Vc.transition;Vc.transition={};try{e()}finally{Vc.transition=t}};Ee.unstable_act=Zx;Ee.useCallback=function(e,t){return Ot.current.useCallback(e,t)};Ee.useContext=function(e){return Ot.current.useContext(e)};Ee.useDebugValue=function(){};Ee.useDeferredValue=function(e){return Ot.current.useDeferredValue(e)};Ee.useEffect=function(e,t){return Ot.current.useEffect(e,t)};Ee.useId=function(){return Ot.current.useId()};Ee.useImperativeHandle=function(e,t,r){return Ot.current.useImperativeHandle(e,t,r)};Ee.useInsertionEffect=function(e,t){return Ot.current.useInsertionEffect(e,t)};Ee.useLayoutEffect=function(e,t){return Ot.current.useLayoutEffect(e,t)};Ee.useMemo=function(e,t){return Ot.current.useMemo(e,t)};Ee.useReducer=function(e,t,r){return Ot.current.useReducer(e,t,r)};Ee.useRef=function(e){return Ot.current.useRef(e)};Ee.useState=function(e){return Ot.current.useState(e)};Ee.useSyncExternalStore=function(e,t,r){return Ot.current.useSyncExternalStore(e,t,r)};Ee.useTransition=function(){return Ot.current.useTransition()};Ee.version="18.3.1";Wx.exports=Ee;var m=Wx.exports;const Y=zx(m),Vm=UN({__proto__:null,default:Y},[m]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rT=m,nT=Symbol.for("react.element"),sT=Symbol.for("react.fragment"),iT=Object.prototype.hasOwnProperty,oT=rT.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,aT={key:!0,ref:!0,__self:!0,__source:!0};function Xx(e,t,r){var n,s={},i=null,o=null;r!==void 0&&(i=""+r),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(o=t.ref);for(n in t)iT.call(t,n)&&!aT.hasOwnProperty(n)&&(s[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)s[n]===void 0&&(s[n]=t[n]);return{$$typeof:nT,type:e,key:i,ref:o,props:s,_owner:oT.current}}gd.Fragment=sT;gd.jsx=Xx;gd.jsxs=Xx;Bx.exports=gd;var d=Bx.exports,Jx={exports:{}},or={},eb={exports:{}},tb={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(j,k){var A=j.length;j.push(k);e:for(;0<A;){var U=A-1>>>1,M=j[U];if(0<s(M,k))j[U]=k,j[A]=M,A=U;else break e}}function r(j){return j.length===0?null:j[0]}function n(j){if(j.length===0)return null;var k=j[0],A=j.pop();if(A!==k){j[0]=A;e:for(var U=0,M=j.length,Q=M>>>1;U<Q;){var q=2*(U+1)-1,X=j[q],z=q+1,F=j[z];if(0>s(X,A))z<M&&0>s(F,X)?(j[U]=F,j[z]=A,U=z):(j[U]=X,j[q]=A,U=q);else if(z<M&&0>s(F,A))j[U]=F,j[z]=A,U=z;else break e}}return k}function s(j,k){var A=j.sortIndex-k.sortIndex;return A!==0?A:j.id-k.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var o=Date,a=o.now();e.unstable_now=function(){return o.now()-a}}var l=[],c=[],u=1,f=null,p=3,h=!1,x=!1,v=!1,y=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function b(j){for(var k=r(c);k!==null;){if(k.callback===null)n(c);else if(k.startTime<=j)n(c),k.sortIndex=k.expirationTime,t(l,k);else break;k=r(c)}}function _(j){if(v=!1,b(j),!x)if(r(l)!==null)x=!0,O(S);else{var k=r(c);k!==null&&$(_,k.startTime-j)}}function S(j,k){x=!1,v&&(v=!1,g(R),R=-1),h=!0;var A=p;try{for(b(k),f=r(l);f!==null&&(!(f.expirationTime>k)||j&&!W());){var U=f.callback;if(typeof U=="function"){f.callback=null,p=f.priorityLevel;var M=U(f.expirationTime<=k);k=e.unstable_now(),typeof M=="function"?f.callback=M:f===r(l)&&n(l),b(k)}else n(l);f=r(l)}if(f!==null)var Q=!0;else{var q=r(c);q!==null&&$(_,q.startTime-k),Q=!1}return Q}finally{f=null,p=A,h=!1}}var C=!1,E=null,R=-1,P=5,D=-1;function W(){return!(e.unstable_now()-D<P)}function B(){if(E!==null){var j=e.unstable_now();D=j;var k=!0;try{k=E(!0,j)}finally{k?Z():(C=!1,E=null)}}else C=!1}var Z;if(typeof w=="function")Z=function(){w(B)};else if(typeof MessageChannel<"u"){var N=new MessageChannel,L=N.port2;N.port1.onmessage=B,Z=function(){L.postMessage(null)}}else Z=function(){y(B,0)};function O(j){E=j,C||(C=!0,Z())}function $(j,k){R=y(function(){j(e.unstable_now())},k)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(j){j.callback=null},e.unstable_continueExecution=function(){x||h||(x=!0,O(S))},e.unstable_forceFrameRate=function(j){0>j||125<j?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<j?Math.floor(1e3/j):5},e.unstable_getCurrentPriorityLevel=function(){return p},e.unstable_getFirstCallbackNode=function(){return r(l)},e.unstable_next=function(j){switch(p){case 1:case 2:case 3:var k=3;break;default:k=p}var A=p;p=k;try{return j()}finally{p=A}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(j,k){switch(j){case 1:case 2:case 3:case 4:case 5:break;default:j=3}var A=p;p=j;try{return k()}finally{p=A}},e.unstable_scheduleCallback=function(j,k,A){var U=e.unstable_now();switch(typeof A=="object"&&A!==null?(A=A.delay,A=typeof A=="number"&&0<A?U+A:U):A=U,j){case 1:var M=-1;break;case 2:M=250;break;case 5:M=1073741823;break;case 4:M=1e4;break;default:M=5e3}return M=A+M,j={id:u++,callback:k,priorityLevel:j,startTime:A,expirationTime:M,sortIndex:-1},A>U?(j.sortIndex=A,t(c,j),r(l)===null&&j===r(c)&&(v?(g(R),R=-1):v=!0,$(_,A-U))):(j.sortIndex=M,t(l,j),x||h||(x=!0,O(S))),j},e.unstable_shouldYield=W,e.unstable_wrapCallback=function(j){var k=p;return function(){var A=p;p=k;try{return j.apply(this,arguments)}finally{p=A}}}})(tb);eb.exports=tb;var lT=eb.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cT=m,nr=lT;function V(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var rb=new Set,Ba={};function Ci(e,t){Oo(e,t),Oo(e+"Capture",t)}function Oo(e,t){for(Ba[e]=t,e=0;e<t.length;e++)rb.add(t[e])}var En=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ah=Object.prototype.hasOwnProperty,uT=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,ay={},ly={};function dT(e){return Ah.call(ly,e)?!0:Ah.call(ay,e)?!1:uT.test(e)?ly[e]=!0:(ay[e]=!0,!1)}function fT(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function hT(e,t,r,n){if(t===null||typeof t>"u"||fT(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Dt(e,t,r,n,s,i,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=s,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=o}var gt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){gt[e]=new Dt(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];gt[t]=new Dt(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){gt[e]=new Dt(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){gt[e]=new Dt(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){gt[e]=new Dt(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){gt[e]=new Dt(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){gt[e]=new Dt(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){gt[e]=new Dt(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){gt[e]=new Dt(e,5,!1,e.toLowerCase(),null,!1,!1)});var qm=/[\-:]([a-z])/g;function Km(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(qm,Km);gt[t]=new Dt(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(qm,Km);gt[t]=new Dt(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(qm,Km);gt[t]=new Dt(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){gt[e]=new Dt(e,1,!1,e.toLowerCase(),null,!1,!1)});gt.xlinkHref=new Dt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){gt[e]=new Dt(e,1,!1,e.toLowerCase(),null,!0,!0)});function Hm(e,t,r,n){var s=gt.hasOwnProperty(t)?gt[t]:null;(s!==null?s.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(hT(t,r,s,n)&&(r=null),n||s===null?dT(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):s.mustUseProperty?e[s.propertyName]=r===null?s.type===3?!1:"":r:(t=s.attributeName,n=s.attributeNamespace,r===null?e.removeAttribute(t):(s=s.type,r=s===3||s===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var Dn=cT.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,lc=Symbol.for("react.element"),Qi=Symbol.for("react.portal"),Yi=Symbol.for("react.fragment"),Gm=Symbol.for("react.strict_mode"),Ph=Symbol.for("react.profiler"),nb=Symbol.for("react.provider"),sb=Symbol.for("react.context"),Qm=Symbol.for("react.forward_ref"),Oh=Symbol.for("react.suspense"),Dh=Symbol.for("react.suspense_list"),Ym=Symbol.for("react.memo"),Kn=Symbol.for("react.lazy"),ib=Symbol.for("react.offscreen"),cy=Symbol.iterator;function aa(e){return e===null||typeof e!="object"?null:(e=cy&&e[cy]||e["@@iterator"],typeof e=="function"?e:null)}var Qe=Object.assign,Cf;function wa(e){if(Cf===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);Cf=t&&t[1]||""}return`
`+Cf+e}var Nf=!1;function Tf(e,t){if(!e||Nf)return"";Nf=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var n=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){n=c}e.call(t.prototype)}else{try{throw Error()}catch(c){n=c}e()}}catch(c){if(c&&n&&typeof c.stack=="string"){for(var s=c.stack.split(`
`),i=n.stack.split(`
`),o=s.length-1,a=i.length-1;1<=o&&0<=a&&s[o]!==i[a];)a--;for(;1<=o&&0<=a;o--,a--)if(s[o]!==i[a]){if(o!==1||a!==1)do if(o--,a--,0>a||s[o]!==i[a]){var l=`
`+s[o].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=o&&0<=a);break}}}finally{Nf=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?wa(e):""}function pT(e){switch(e.tag){case 5:return wa(e.type);case 16:return wa("Lazy");case 13:return wa("Suspense");case 19:return wa("SuspenseList");case 0:case 2:case 15:return e=Tf(e.type,!1),e;case 11:return e=Tf(e.type.render,!1),e;case 1:return e=Tf(e.type,!0),e;default:return""}}function Ih(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Yi:return"Fragment";case Qi:return"Portal";case Ph:return"Profiler";case Gm:return"StrictMode";case Oh:return"Suspense";case Dh:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case sb:return(e.displayName||"Context")+".Consumer";case nb:return(e._context.displayName||"Context")+".Provider";case Qm:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Ym:return t=e.displayName||null,t!==null?t:Ih(e.type)||"Memo";case Kn:t=e._payload,e=e._init;try{return Ih(e(t))}catch{}}return null}function mT(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ih(t);case 8:return t===Gm?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Rs(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function ob(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function gT(e){var t=ob(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var s=r.get,i=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(o){n=""+o,i.call(this,o)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function cc(e){e._valueTracker||(e._valueTracker=gT(e))}function ab(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=ob(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function pu(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Mh(e,t){var r=t.checked;return Qe({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function uy(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=Rs(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function lb(e,t){t=t.checked,t!=null&&Hm(e,"checked",t,!1)}function $h(e,t){lb(e,t);var r=Rs(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Lh(e,t.type,r):t.hasOwnProperty("defaultValue")&&Lh(e,t.type,Rs(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function dy(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function Lh(e,t,r){(t!=="number"||pu(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var xa=Array.isArray;function lo(e,t,r,n){if(e=e.options,t){t={};for(var s=0;s<r.length;s++)t["$"+r[s]]=!0;for(r=0;r<e.length;r++)s=t.hasOwnProperty("$"+e[r].value),e[r].selected!==s&&(e[r].selected=s),s&&n&&(e[r].defaultSelected=!0)}else{for(r=""+Rs(r),t=null,s=0;s<e.length;s++){if(e[s].value===r){e[s].selected=!0,n&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function Fh(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(V(91));return Qe({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function fy(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(V(92));if(xa(r)){if(1<r.length)throw Error(V(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:Rs(r)}}function cb(e,t){var r=Rs(t.value),n=Rs(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function hy(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function ub(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Uh(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?ub(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var uc,db=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,s){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(uc=uc||document.createElement("div"),uc.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=uc.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Wa(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var Ra={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},vT=["Webkit","ms","Moz","O"];Object.keys(Ra).forEach(function(e){vT.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Ra[t]=Ra[e]})});function fb(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||Ra.hasOwnProperty(e)&&Ra[e]?(""+t).trim():t+"px"}function hb(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,s=fb(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,s):e[r]=s}}var yT=Qe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function zh(e,t){if(t){if(yT[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(V(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(V(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(V(61))}if(t.style!=null&&typeof t.style!="object")throw Error(V(62))}}function Bh(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Wh=null;function Zm(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Vh=null,co=null,uo=null;function py(e){if(e=Il(e)){if(typeof Vh!="function")throw Error(V(280));var t=e.stateNode;t&&(t=bd(t),Vh(e.stateNode,e.type,t))}}function pb(e){co?uo?uo.push(e):uo=[e]:co=e}function mb(){if(co){var e=co,t=uo;if(uo=co=null,py(e),t)for(e=0;e<t.length;e++)py(t[e])}}function gb(e,t){return e(t)}function vb(){}var Rf=!1;function yb(e,t,r){if(Rf)return e(t,r);Rf=!0;try{return gb(e,t,r)}finally{Rf=!1,(co!==null||uo!==null)&&(vb(),mb())}}function Va(e,t){var r=e.stateNode;if(r===null)return null;var n=bd(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(V(231,t,typeof r));return r}var qh=!1;if(En)try{var la={};Object.defineProperty(la,"passive",{get:function(){qh=!0}}),window.addEventListener("test",la,la),window.removeEventListener("test",la,la)}catch{qh=!1}function wT(e,t,r,n,s,i,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(r,c)}catch(u){this.onError(u)}}var ja=!1,mu=null,gu=!1,Kh=null,xT={onError:function(e){ja=!0,mu=e}};function bT(e,t,r,n,s,i,o,a,l){ja=!1,mu=null,wT.apply(xT,arguments)}function _T(e,t,r,n,s,i,o,a,l){if(bT.apply(this,arguments),ja){if(ja){var c=mu;ja=!1,mu=null}else throw Error(V(198));gu||(gu=!0,Kh=c)}}function Ni(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function wb(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function my(e){if(Ni(e)!==e)throw Error(V(188))}function ST(e){var t=e.alternate;if(!t){if(t=Ni(e),t===null)throw Error(V(188));return t!==e?null:e}for(var r=e,n=t;;){var s=r.return;if(s===null)break;var i=s.alternate;if(i===null){if(n=s.return,n!==null){r=n;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===r)return my(s),e;if(i===n)return my(s),t;i=i.sibling}throw Error(V(188))}if(r.return!==n.return)r=s,n=i;else{for(var o=!1,a=s.child;a;){if(a===r){o=!0,r=s,n=i;break}if(a===n){o=!0,n=s,r=i;break}a=a.sibling}if(!o){for(a=i.child;a;){if(a===r){o=!0,r=i,n=s;break}if(a===n){o=!0,n=i,r=s;break}a=a.sibling}if(!o)throw Error(V(189))}}if(r.alternate!==n)throw Error(V(190))}if(r.tag!==3)throw Error(V(188));return r.stateNode.current===r?e:t}function xb(e){return e=ST(e),e!==null?bb(e):null}function bb(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=bb(e);if(t!==null)return t;e=e.sibling}return null}var _b=nr.unstable_scheduleCallback,gy=nr.unstable_cancelCallback,kT=nr.unstable_shouldYield,ET=nr.unstable_requestPaint,tt=nr.unstable_now,CT=nr.unstable_getCurrentPriorityLevel,Xm=nr.unstable_ImmediatePriority,Sb=nr.unstable_UserBlockingPriority,vu=nr.unstable_NormalPriority,NT=nr.unstable_LowPriority,kb=nr.unstable_IdlePriority,vd=null,Zr=null;function TT(e){if(Zr&&typeof Zr.onCommitFiberRoot=="function")try{Zr.onCommitFiberRoot(vd,e,void 0,(e.current.flags&128)===128)}catch{}}var Mr=Math.clz32?Math.clz32:AT,RT=Math.log,jT=Math.LN2;function AT(e){return e>>>=0,e===0?32:31-(RT(e)/jT|0)|0}var dc=64,fc=4194304;function ba(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function yu(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,s=e.suspendedLanes,i=e.pingedLanes,o=r&268435455;if(o!==0){var a=o&~s;a!==0?n=ba(a):(i&=o,i!==0&&(n=ba(i)))}else o=r&~s,o!==0?n=ba(o):i!==0&&(n=ba(i));if(n===0)return 0;if(t!==0&&t!==n&&!(t&s)&&(s=n&-n,i=t&-t,s>=i||s===16&&(i&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-Mr(t),s=1<<r,n|=e[r],t&=~s;return n}function PT(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function OT(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,s=e.expirationTimes,i=e.pendingLanes;0<i;){var o=31-Mr(i),a=1<<o,l=s[o];l===-1?(!(a&r)||a&n)&&(s[o]=PT(a,t)):l<=t&&(e.expiredLanes|=a),i&=~a}}function Hh(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Eb(){var e=dc;return dc<<=1,!(dc&4194240)&&(dc=64),e}function jf(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function Ol(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Mr(t),e[t]=r}function DT(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var s=31-Mr(r),i=1<<s;t[s]=0,n[s]=-1,e[s]=-1,r&=~i}}function Jm(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-Mr(r),s=1<<n;s&t|e[n]&t&&(e[n]|=t),r&=~s}}var Me=0;function Cb(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Nb,eg,Tb,Rb,jb,Gh=!1,hc=[],vs=null,ys=null,ws=null,qa=new Map,Ka=new Map,Zn=[],IT="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function vy(e,t){switch(e){case"focusin":case"focusout":vs=null;break;case"dragenter":case"dragleave":ys=null;break;case"mouseover":case"mouseout":ws=null;break;case"pointerover":case"pointerout":qa.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ka.delete(t.pointerId)}}function ca(e,t,r,n,s,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:i,targetContainers:[s]},t!==null&&(t=Il(t),t!==null&&eg(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function MT(e,t,r,n,s){switch(t){case"focusin":return vs=ca(vs,e,t,r,n,s),!0;case"dragenter":return ys=ca(ys,e,t,r,n,s),!0;case"mouseover":return ws=ca(ws,e,t,r,n,s),!0;case"pointerover":var i=s.pointerId;return qa.set(i,ca(qa.get(i)||null,e,t,r,n,s)),!0;case"gotpointercapture":return i=s.pointerId,Ka.set(i,ca(Ka.get(i)||null,e,t,r,n,s)),!0}return!1}function Ab(e){var t=Qs(e.target);if(t!==null){var r=Ni(t);if(r!==null){if(t=r.tag,t===13){if(t=wb(r),t!==null){e.blockedOn=t,jb(e.priority,function(){Tb(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function qc(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=Qh(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);Wh=n,r.target.dispatchEvent(n),Wh=null}else return t=Il(r),t!==null&&eg(t),e.blockedOn=r,!1;t.shift()}return!0}function yy(e,t,r){qc(e)&&r.delete(t)}function $T(){Gh=!1,vs!==null&&qc(vs)&&(vs=null),ys!==null&&qc(ys)&&(ys=null),ws!==null&&qc(ws)&&(ws=null),qa.forEach(yy),Ka.forEach(yy)}function ua(e,t){e.blockedOn===t&&(e.blockedOn=null,Gh||(Gh=!0,nr.unstable_scheduleCallback(nr.unstable_NormalPriority,$T)))}function Ha(e){function t(s){return ua(s,e)}if(0<hc.length){ua(hc[0],e);for(var r=1;r<hc.length;r++){var n=hc[r];n.blockedOn===e&&(n.blockedOn=null)}}for(vs!==null&&ua(vs,e),ys!==null&&ua(ys,e),ws!==null&&ua(ws,e),qa.forEach(t),Ka.forEach(t),r=0;r<Zn.length;r++)n=Zn[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<Zn.length&&(r=Zn[0],r.blockedOn===null);)Ab(r),r.blockedOn===null&&Zn.shift()}var fo=Dn.ReactCurrentBatchConfig,wu=!0;function LT(e,t,r,n){var s=Me,i=fo.transition;fo.transition=null;try{Me=1,tg(e,t,r,n)}finally{Me=s,fo.transition=i}}function FT(e,t,r,n){var s=Me,i=fo.transition;fo.transition=null;try{Me=4,tg(e,t,r,n)}finally{Me=s,fo.transition=i}}function tg(e,t,r,n){if(wu){var s=Qh(e,t,r,n);if(s===null)Uf(e,t,n,xu,r),vy(e,n);else if(MT(s,e,t,r,n))n.stopPropagation();else if(vy(e,n),t&4&&-1<IT.indexOf(e)){for(;s!==null;){var i=Il(s);if(i!==null&&Nb(i),i=Qh(e,t,r,n),i===null&&Uf(e,t,n,xu,r),i===s)break;s=i}s!==null&&n.stopPropagation()}else Uf(e,t,n,null,r)}}var xu=null;function Qh(e,t,r,n){if(xu=null,e=Zm(n),e=Qs(e),e!==null)if(t=Ni(e),t===null)e=null;else if(r=t.tag,r===13){if(e=wb(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return xu=e,null}function Pb(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(CT()){case Xm:return 1;case Sb:return 4;case vu:case NT:return 16;case kb:return 536870912;default:return 16}default:return 16}}var ds=null,rg=null,Kc=null;function Ob(){if(Kc)return Kc;var e,t=rg,r=t.length,n,s="value"in ds?ds.value:ds.textContent,i=s.length;for(e=0;e<r&&t[e]===s[e];e++);var o=r-e;for(n=1;n<=o&&t[r-n]===s[i-n];n++);return Kc=s.slice(e,1<n?1-n:void 0)}function Hc(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function pc(){return!0}function wy(){return!1}function ar(e){function t(r,n,s,i,o){this._reactName=r,this._targetInst=s,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var a in e)e.hasOwnProperty(a)&&(r=e[a],this[a]=r?r(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?pc:wy,this.isPropagationStopped=wy,this}return Qe(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=pc)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=pc)},persist:function(){},isPersistent:pc}),t}var Jo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ng=ar(Jo),Dl=Qe({},Jo,{view:0,detail:0}),UT=ar(Dl),Af,Pf,da,yd=Qe({},Dl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:sg,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==da&&(da&&e.type==="mousemove"?(Af=e.screenX-da.screenX,Pf=e.screenY-da.screenY):Pf=Af=0,da=e),Af)},movementY:function(e){return"movementY"in e?e.movementY:Pf}}),xy=ar(yd),zT=Qe({},yd,{dataTransfer:0}),BT=ar(zT),WT=Qe({},Dl,{relatedTarget:0}),Of=ar(WT),VT=Qe({},Jo,{animationName:0,elapsedTime:0,pseudoElement:0}),qT=ar(VT),KT=Qe({},Jo,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),HT=ar(KT),GT=Qe({},Jo,{data:0}),by=ar(GT),QT={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},YT={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ZT={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function XT(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=ZT[e])?!!t[e]:!1}function sg(){return XT}var JT=Qe({},Dl,{key:function(e){if(e.key){var t=QT[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Hc(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?YT[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:sg,charCode:function(e){return e.type==="keypress"?Hc(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Hc(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),eR=ar(JT),tR=Qe({},yd,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),_y=ar(tR),rR=Qe({},Dl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:sg}),nR=ar(rR),sR=Qe({},Jo,{propertyName:0,elapsedTime:0,pseudoElement:0}),iR=ar(sR),oR=Qe({},yd,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),aR=ar(oR),lR=[9,13,27,32],ig=En&&"CompositionEvent"in window,Aa=null;En&&"documentMode"in document&&(Aa=document.documentMode);var cR=En&&"TextEvent"in window&&!Aa,Db=En&&(!ig||Aa&&8<Aa&&11>=Aa),Sy=" ",ky=!1;function Ib(e,t){switch(e){case"keyup":return lR.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Mb(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Zi=!1;function uR(e,t){switch(e){case"compositionend":return Mb(t);case"keypress":return t.which!==32?null:(ky=!0,Sy);case"textInput":return e=t.data,e===Sy&&ky?null:e;default:return null}}function dR(e,t){if(Zi)return e==="compositionend"||!ig&&Ib(e,t)?(e=Ob(),Kc=rg=ds=null,Zi=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Db&&t.locale!=="ko"?null:t.data;default:return null}}var fR={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ey(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!fR[e.type]:t==="textarea"}function $b(e,t,r,n){pb(n),t=bu(t,"onChange"),0<t.length&&(r=new ng("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var Pa=null,Ga=null;function hR(e){Gb(e,0)}function wd(e){var t=eo(e);if(ab(t))return e}function pR(e,t){if(e==="change")return t}var Lb=!1;if(En){var Df;if(En){var If="oninput"in document;if(!If){var Cy=document.createElement("div");Cy.setAttribute("oninput","return;"),If=typeof Cy.oninput=="function"}Df=If}else Df=!1;Lb=Df&&(!document.documentMode||9<document.documentMode)}function Ny(){Pa&&(Pa.detachEvent("onpropertychange",Fb),Ga=Pa=null)}function Fb(e){if(e.propertyName==="value"&&wd(Ga)){var t=[];$b(t,Ga,e,Zm(e)),yb(hR,t)}}function mR(e,t,r){e==="focusin"?(Ny(),Pa=t,Ga=r,Pa.attachEvent("onpropertychange",Fb)):e==="focusout"&&Ny()}function gR(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return wd(Ga)}function vR(e,t){if(e==="click")return wd(t)}function yR(e,t){if(e==="input"||e==="change")return wd(t)}function wR(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Lr=typeof Object.is=="function"?Object.is:wR;function Qa(e,t){if(Lr(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var s=r[n];if(!Ah.call(t,s)||!Lr(e[s],t[s]))return!1}return!0}function Ty(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Ry(e,t){var r=Ty(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Ty(r)}}function Ub(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Ub(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function zb(){for(var e=window,t=pu();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=pu(e.document)}return t}function og(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function xR(e){var t=zb(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&Ub(r.ownerDocument.documentElement,r)){if(n!==null&&og(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=r.textContent.length,i=Math.min(n.start,s);n=n.end===void 0?i:Math.min(n.end,s),!e.extend&&i>n&&(s=n,n=i,i=s),s=Ry(r,i);var o=Ry(r,n);s&&o&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),i>n?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var bR=En&&"documentMode"in document&&11>=document.documentMode,Xi=null,Yh=null,Oa=null,Zh=!1;function jy(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Zh||Xi==null||Xi!==pu(n)||(n=Xi,"selectionStart"in n&&og(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Oa&&Qa(Oa,n)||(Oa=n,n=bu(Yh,"onSelect"),0<n.length&&(t=new ng("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=Xi)))}function mc(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var Ji={animationend:mc("Animation","AnimationEnd"),animationiteration:mc("Animation","AnimationIteration"),animationstart:mc("Animation","AnimationStart"),transitionend:mc("Transition","TransitionEnd")},Mf={},Bb={};En&&(Bb=document.createElement("div").style,"AnimationEvent"in window||(delete Ji.animationend.animation,delete Ji.animationiteration.animation,delete Ji.animationstart.animation),"TransitionEvent"in window||delete Ji.transitionend.transition);function xd(e){if(Mf[e])return Mf[e];if(!Ji[e])return e;var t=Ji[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in Bb)return Mf[e]=t[r];return e}var Wb=xd("animationend"),Vb=xd("animationiteration"),qb=xd("animationstart"),Kb=xd("transitionend"),Hb=new Map,Ay="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Is(e,t){Hb.set(e,t),Ci(t,[e])}for(var $f=0;$f<Ay.length;$f++){var Lf=Ay[$f],_R=Lf.toLowerCase(),SR=Lf[0].toUpperCase()+Lf.slice(1);Is(_R,"on"+SR)}Is(Wb,"onAnimationEnd");Is(Vb,"onAnimationIteration");Is(qb,"onAnimationStart");Is("dblclick","onDoubleClick");Is("focusin","onFocus");Is("focusout","onBlur");Is(Kb,"onTransitionEnd");Oo("onMouseEnter",["mouseout","mouseover"]);Oo("onMouseLeave",["mouseout","mouseover"]);Oo("onPointerEnter",["pointerout","pointerover"]);Oo("onPointerLeave",["pointerout","pointerover"]);Ci("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ci("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ci("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ci("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ci("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ci("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var _a="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),kR=new Set("cancel close invalid load scroll toggle".split(" ").concat(_a));function Py(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,_T(n,t,void 0,e),e.currentTarget=null}function Gb(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],s=n.event;n=n.listeners;e:{var i=void 0;if(t)for(var o=n.length-1;0<=o;o--){var a=n[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==i&&s.isPropagationStopped())break e;Py(s,a,c),i=l}else for(o=0;o<n.length;o++){if(a=n[o],l=a.instance,c=a.currentTarget,a=a.listener,l!==i&&s.isPropagationStopped())break e;Py(s,a,c),i=l}}}if(gu)throw e=Kh,gu=!1,Kh=null,e}function ze(e,t){var r=t[rp];r===void 0&&(r=t[rp]=new Set);var n=e+"__bubble";r.has(n)||(Qb(t,e,2,!1),r.add(n))}function Ff(e,t,r){var n=0;t&&(n|=4),Qb(r,e,n,t)}var gc="_reactListening"+Math.random().toString(36).slice(2);function Ya(e){if(!e[gc]){e[gc]=!0,rb.forEach(function(r){r!=="selectionchange"&&(kR.has(r)||Ff(r,!1,e),Ff(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[gc]||(t[gc]=!0,Ff("selectionchange",!1,t))}}function Qb(e,t,r,n){switch(Pb(t)){case 1:var s=LT;break;case 4:s=FT;break;default:s=tg}r=s.bind(null,t,r,e),s=void 0,!qh||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),n?s!==void 0?e.addEventListener(t,r,{capture:!0,passive:s}):e.addEventListener(t,r,!0):s!==void 0?e.addEventListener(t,r,{passive:s}):e.addEventListener(t,r,!1)}function Uf(e,t,r,n,s){var i=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var a=n.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(o===4)for(o=n.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===s||l.nodeType===8&&l.parentNode===s))return;o=o.return}for(;a!==null;){if(o=Qs(a),o===null)return;if(l=o.tag,l===5||l===6){n=i=o;continue e}a=a.parentNode}}n=n.return}yb(function(){var c=i,u=Zm(r),f=[];e:{var p=Hb.get(e);if(p!==void 0){var h=ng,x=e;switch(e){case"keypress":if(Hc(r)===0)break e;case"keydown":case"keyup":h=eR;break;case"focusin":x="focus",h=Of;break;case"focusout":x="blur",h=Of;break;case"beforeblur":case"afterblur":h=Of;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":h=xy;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":h=BT;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":h=nR;break;case Wb:case Vb:case qb:h=qT;break;case Kb:h=iR;break;case"scroll":h=UT;break;case"wheel":h=aR;break;case"copy":case"cut":case"paste":h=HT;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":h=_y}var v=(t&4)!==0,y=!v&&e==="scroll",g=v?p!==null?p+"Capture":null:p;v=[];for(var w=c,b;w!==null;){b=w;var _=b.stateNode;if(b.tag===5&&_!==null&&(b=_,g!==null&&(_=Va(w,g),_!=null&&v.push(Za(w,_,b)))),y)break;w=w.return}0<v.length&&(p=new h(p,x,null,r,u),f.push({event:p,listeners:v}))}}if(!(t&7)){e:{if(p=e==="mouseover"||e==="pointerover",h=e==="mouseout"||e==="pointerout",p&&r!==Wh&&(x=r.relatedTarget||r.fromElement)&&(Qs(x)||x[Cn]))break e;if((h||p)&&(p=u.window===u?u:(p=u.ownerDocument)?p.defaultView||p.parentWindow:window,h?(x=r.relatedTarget||r.toElement,h=c,x=x?Qs(x):null,x!==null&&(y=Ni(x),x!==y||x.tag!==5&&x.tag!==6)&&(x=null)):(h=null,x=c),h!==x)){if(v=xy,_="onMouseLeave",g="onMouseEnter",w="mouse",(e==="pointerout"||e==="pointerover")&&(v=_y,_="onPointerLeave",g="onPointerEnter",w="pointer"),y=h==null?p:eo(h),b=x==null?p:eo(x),p=new v(_,w+"leave",h,r,u),p.target=y,p.relatedTarget=b,_=null,Qs(u)===c&&(v=new v(g,w+"enter",x,r,u),v.target=b,v.relatedTarget=y,_=v),y=_,h&&x)t:{for(v=h,g=x,w=0,b=v;b;b=Di(b))w++;for(b=0,_=g;_;_=Di(_))b++;for(;0<w-b;)v=Di(v),w--;for(;0<b-w;)g=Di(g),b--;for(;w--;){if(v===g||g!==null&&v===g.alternate)break t;v=Di(v),g=Di(g)}v=null}else v=null;h!==null&&Oy(f,p,h,v,!1),x!==null&&y!==null&&Oy(f,y,x,v,!0)}}e:{if(p=c?eo(c):window,h=p.nodeName&&p.nodeName.toLowerCase(),h==="select"||h==="input"&&p.type==="file")var S=pR;else if(Ey(p))if(Lb)S=yR;else{S=gR;var C=mR}else(h=p.nodeName)&&h.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(S=vR);if(S&&(S=S(e,c))){$b(f,S,r,u);break e}C&&C(e,p,c),e==="focusout"&&(C=p._wrapperState)&&C.controlled&&p.type==="number"&&Lh(p,"number",p.value)}switch(C=c?eo(c):window,e){case"focusin":(Ey(C)||C.contentEditable==="true")&&(Xi=C,Yh=c,Oa=null);break;case"focusout":Oa=Yh=Xi=null;break;case"mousedown":Zh=!0;break;case"contextmenu":case"mouseup":case"dragend":Zh=!1,jy(f,r,u);break;case"selectionchange":if(bR)break;case"keydown":case"keyup":jy(f,r,u)}var E;if(ig)e:{switch(e){case"compositionstart":var R="onCompositionStart";break e;case"compositionend":R="onCompositionEnd";break e;case"compositionupdate":R="onCompositionUpdate";break e}R=void 0}else Zi?Ib(e,r)&&(R="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(R="onCompositionStart");R&&(Db&&r.locale!=="ko"&&(Zi||R!=="onCompositionStart"?R==="onCompositionEnd"&&Zi&&(E=Ob()):(ds=u,rg="value"in ds?ds.value:ds.textContent,Zi=!0)),C=bu(c,R),0<C.length&&(R=new by(R,e,null,r,u),f.push({event:R,listeners:C}),E?R.data=E:(E=Mb(r),E!==null&&(R.data=E)))),(E=cR?uR(e,r):dR(e,r))&&(c=bu(c,"onBeforeInput"),0<c.length&&(u=new by("onBeforeInput","beforeinput",null,r,u),f.push({event:u,listeners:c}),u.data=E))}Gb(f,t)})}function Za(e,t,r){return{instance:e,listener:t,currentTarget:r}}function bu(e,t){for(var r=t+"Capture",n=[];e!==null;){var s=e,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=Va(e,r),i!=null&&n.unshift(Za(e,i,s)),i=Va(e,t),i!=null&&n.push(Za(e,i,s))),e=e.return}return n}function Di(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Oy(e,t,r,n,s){for(var i=t._reactName,o=[];r!==null&&r!==n;){var a=r,l=a.alternate,c=a.stateNode;if(l!==null&&l===n)break;a.tag===5&&c!==null&&(a=c,s?(l=Va(r,i),l!=null&&o.unshift(Za(r,l,a))):s||(l=Va(r,i),l!=null&&o.push(Za(r,l,a)))),r=r.return}o.length!==0&&e.push({event:t,listeners:o})}var ER=/\r\n?/g,CR=/\u0000|\uFFFD/g;function Dy(e){return(typeof e=="string"?e:""+e).replace(ER,`
`).replace(CR,"")}function vc(e,t,r){if(t=Dy(t),Dy(e)!==t&&r)throw Error(V(425))}function _u(){}var Xh=null,Jh=null;function ep(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var tp=typeof setTimeout=="function"?setTimeout:void 0,NR=typeof clearTimeout=="function"?clearTimeout:void 0,Iy=typeof Promise=="function"?Promise:void 0,TR=typeof queueMicrotask=="function"?queueMicrotask:typeof Iy<"u"?function(e){return Iy.resolve(null).then(e).catch(RR)}:tp;function RR(e){setTimeout(function(){throw e})}function zf(e,t){var r=t,n=0;do{var s=r.nextSibling;if(e.removeChild(r),s&&s.nodeType===8)if(r=s.data,r==="/$"){if(n===0){e.removeChild(s),Ha(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=s}while(r);Ha(t)}function xs(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function My(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var ea=Math.random().toString(36).slice(2),Gr="__reactFiber$"+ea,Xa="__reactProps$"+ea,Cn="__reactContainer$"+ea,rp="__reactEvents$"+ea,jR="__reactListeners$"+ea,AR="__reactHandles$"+ea;function Qs(e){var t=e[Gr];if(t)return t;for(var r=e.parentNode;r;){if(t=r[Cn]||r[Gr]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=My(e);e!==null;){if(r=e[Gr])return r;e=My(e)}return t}e=r,r=e.parentNode}return null}function Il(e){return e=e[Gr]||e[Cn],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function eo(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(V(33))}function bd(e){return e[Xa]||null}var np=[],to=-1;function Ms(e){return{current:e}}function Be(e){0>to||(e.current=np[to],np[to]=null,to--)}function Fe(e,t){to++,np[to]=e.current,e.current=t}var js={},_t=Ms(js),Vt=Ms(!1),mi=js;function Do(e,t){var r=e.type.contextTypes;if(!r)return js;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in r)s[i]=t[i];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function qt(e){return e=e.childContextTypes,e!=null}function Su(){Be(Vt),Be(_t)}function $y(e,t,r){if(_t.current!==js)throw Error(V(168));Fe(_t,t),Fe(Vt,r)}function Yb(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var s in n)if(!(s in t))throw Error(V(108,mT(e)||"Unknown",s));return Qe({},r,n)}function ku(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||js,mi=_t.current,Fe(_t,e),Fe(Vt,Vt.current),!0}function Ly(e,t,r){var n=e.stateNode;if(!n)throw Error(V(169));r?(e=Yb(e,t,mi),n.__reactInternalMemoizedMergedChildContext=e,Be(Vt),Be(_t),Fe(_t,e)):Be(Vt),Fe(Vt,r)}var gn=null,_d=!1,Bf=!1;function Zb(e){gn===null?gn=[e]:gn.push(e)}function PR(e){_d=!0,Zb(e)}function $s(){if(!Bf&&gn!==null){Bf=!0;var e=0,t=Me;try{var r=gn;for(Me=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}gn=null,_d=!1}catch(s){throw gn!==null&&(gn=gn.slice(e+1)),_b(Xm,$s),s}finally{Me=t,Bf=!1}}return null}var ro=[],no=0,Eu=null,Cu=0,dr=[],fr=0,gi=null,wn=1,xn="";function Ws(e,t){ro[no++]=Cu,ro[no++]=Eu,Eu=e,Cu=t}function Xb(e,t,r){dr[fr++]=wn,dr[fr++]=xn,dr[fr++]=gi,gi=e;var n=wn;e=xn;var s=32-Mr(n)-1;n&=~(1<<s),r+=1;var i=32-Mr(t)+s;if(30<i){var o=s-s%5;i=(n&(1<<o)-1).toString(32),n>>=o,s-=o,wn=1<<32-Mr(t)+s|r<<s|n,xn=i+e}else wn=1<<i|r<<s|n,xn=e}function ag(e){e.return!==null&&(Ws(e,1),Xb(e,1,0))}function lg(e){for(;e===Eu;)Eu=ro[--no],ro[no]=null,Cu=ro[--no],ro[no]=null;for(;e===gi;)gi=dr[--fr],dr[fr]=null,xn=dr[--fr],dr[fr]=null,wn=dr[--fr],dr[fr]=null}var tr=null,er=null,Ve=!1,Dr=null;function Jb(e,t){var r=hr(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function Fy(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,tr=e,er=xs(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,tr=e,er=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=gi!==null?{id:wn,overflow:xn}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=hr(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,tr=e,er=null,!0):!1;default:return!1}}function sp(e){return(e.mode&1)!==0&&(e.flags&128)===0}function ip(e){if(Ve){var t=er;if(t){var r=t;if(!Fy(e,t)){if(sp(e))throw Error(V(418));t=xs(r.nextSibling);var n=tr;t&&Fy(e,t)?Jb(n,r):(e.flags=e.flags&-4097|2,Ve=!1,tr=e)}}else{if(sp(e))throw Error(V(418));e.flags=e.flags&-4097|2,Ve=!1,tr=e}}}function Uy(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;tr=e}function yc(e){if(e!==tr)return!1;if(!Ve)return Uy(e),Ve=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!ep(e.type,e.memoizedProps)),t&&(t=er)){if(sp(e))throw e_(),Error(V(418));for(;t;)Jb(e,t),t=xs(t.nextSibling)}if(Uy(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(V(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){er=xs(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}er=null}}else er=tr?xs(e.stateNode.nextSibling):null;return!0}function e_(){for(var e=er;e;)e=xs(e.nextSibling)}function Io(){er=tr=null,Ve=!1}function cg(e){Dr===null?Dr=[e]:Dr.push(e)}var OR=Dn.ReactCurrentBatchConfig;function fa(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(V(309));var n=r.stateNode}if(!n)throw Error(V(147,e));var s=n,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(o){var a=s.refs;o===null?delete a[i]:a[i]=o},t._stringRef=i,t)}if(typeof e!="string")throw Error(V(284));if(!r._owner)throw Error(V(290,e))}return e}function wc(e,t){throw e=Object.prototype.toString.call(t),Error(V(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function zy(e){var t=e._init;return t(e._payload)}function t_(e){function t(g,w){if(e){var b=g.deletions;b===null?(g.deletions=[w],g.flags|=16):b.push(w)}}function r(g,w){if(!e)return null;for(;w!==null;)t(g,w),w=w.sibling;return null}function n(g,w){for(g=new Map;w!==null;)w.key!==null?g.set(w.key,w):g.set(w.index,w),w=w.sibling;return g}function s(g,w){return g=ks(g,w),g.index=0,g.sibling=null,g}function i(g,w,b){return g.index=b,e?(b=g.alternate,b!==null?(b=b.index,b<w?(g.flags|=2,w):b):(g.flags|=2,w)):(g.flags|=1048576,w)}function o(g){return e&&g.alternate===null&&(g.flags|=2),g}function a(g,w,b,_){return w===null||w.tag!==6?(w=Qf(b,g.mode,_),w.return=g,w):(w=s(w,b),w.return=g,w)}function l(g,w,b,_){var S=b.type;return S===Yi?u(g,w,b.props.children,_,b.key):w!==null&&(w.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===Kn&&zy(S)===w.type)?(_=s(w,b.props),_.ref=fa(g,w,b),_.return=g,_):(_=eu(b.type,b.key,b.props,null,g.mode,_),_.ref=fa(g,w,b),_.return=g,_)}function c(g,w,b,_){return w===null||w.tag!==4||w.stateNode.containerInfo!==b.containerInfo||w.stateNode.implementation!==b.implementation?(w=Yf(b,g.mode,_),w.return=g,w):(w=s(w,b.children||[]),w.return=g,w)}function u(g,w,b,_,S){return w===null||w.tag!==7?(w=ui(b,g.mode,_,S),w.return=g,w):(w=s(w,b),w.return=g,w)}function f(g,w,b){if(typeof w=="string"&&w!==""||typeof w=="number")return w=Qf(""+w,g.mode,b),w.return=g,w;if(typeof w=="object"&&w!==null){switch(w.$$typeof){case lc:return b=eu(w.type,w.key,w.props,null,g.mode,b),b.ref=fa(g,null,w),b.return=g,b;case Qi:return w=Yf(w,g.mode,b),w.return=g,w;case Kn:var _=w._init;return f(g,_(w._payload),b)}if(xa(w)||aa(w))return w=ui(w,g.mode,b,null),w.return=g,w;wc(g,w)}return null}function p(g,w,b,_){var S=w!==null?w.key:null;if(typeof b=="string"&&b!==""||typeof b=="number")return S!==null?null:a(g,w,""+b,_);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case lc:return b.key===S?l(g,w,b,_):null;case Qi:return b.key===S?c(g,w,b,_):null;case Kn:return S=b._init,p(g,w,S(b._payload),_)}if(xa(b)||aa(b))return S!==null?null:u(g,w,b,_,null);wc(g,b)}return null}function h(g,w,b,_,S){if(typeof _=="string"&&_!==""||typeof _=="number")return g=g.get(b)||null,a(w,g,""+_,S);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case lc:return g=g.get(_.key===null?b:_.key)||null,l(w,g,_,S);case Qi:return g=g.get(_.key===null?b:_.key)||null,c(w,g,_,S);case Kn:var C=_._init;return h(g,w,b,C(_._payload),S)}if(xa(_)||aa(_))return g=g.get(b)||null,u(w,g,_,S,null);wc(w,_)}return null}function x(g,w,b,_){for(var S=null,C=null,E=w,R=w=0,P=null;E!==null&&R<b.length;R++){E.index>R?(P=E,E=null):P=E.sibling;var D=p(g,E,b[R],_);if(D===null){E===null&&(E=P);break}e&&E&&D.alternate===null&&t(g,E),w=i(D,w,R),C===null?S=D:C.sibling=D,C=D,E=P}if(R===b.length)return r(g,E),Ve&&Ws(g,R),S;if(E===null){for(;R<b.length;R++)E=f(g,b[R],_),E!==null&&(w=i(E,w,R),C===null?S=E:C.sibling=E,C=E);return Ve&&Ws(g,R),S}for(E=n(g,E);R<b.length;R++)P=h(E,g,R,b[R],_),P!==null&&(e&&P.alternate!==null&&E.delete(P.key===null?R:P.key),w=i(P,w,R),C===null?S=P:C.sibling=P,C=P);return e&&E.forEach(function(W){return t(g,W)}),Ve&&Ws(g,R),S}function v(g,w,b,_){var S=aa(b);if(typeof S!="function")throw Error(V(150));if(b=S.call(b),b==null)throw Error(V(151));for(var C=S=null,E=w,R=w=0,P=null,D=b.next();E!==null&&!D.done;R++,D=b.next()){E.index>R?(P=E,E=null):P=E.sibling;var W=p(g,E,D.value,_);if(W===null){E===null&&(E=P);break}e&&E&&W.alternate===null&&t(g,E),w=i(W,w,R),C===null?S=W:C.sibling=W,C=W,E=P}if(D.done)return r(g,E),Ve&&Ws(g,R),S;if(E===null){for(;!D.done;R++,D=b.next())D=f(g,D.value,_),D!==null&&(w=i(D,w,R),C===null?S=D:C.sibling=D,C=D);return Ve&&Ws(g,R),S}for(E=n(g,E);!D.done;R++,D=b.next())D=h(E,g,R,D.value,_),D!==null&&(e&&D.alternate!==null&&E.delete(D.key===null?R:D.key),w=i(D,w,R),C===null?S=D:C.sibling=D,C=D);return e&&E.forEach(function(B){return t(g,B)}),Ve&&Ws(g,R),S}function y(g,w,b,_){if(typeof b=="object"&&b!==null&&b.type===Yi&&b.key===null&&(b=b.props.children),typeof b=="object"&&b!==null){switch(b.$$typeof){case lc:e:{for(var S=b.key,C=w;C!==null;){if(C.key===S){if(S=b.type,S===Yi){if(C.tag===7){r(g,C.sibling),w=s(C,b.props.children),w.return=g,g=w;break e}}else if(C.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===Kn&&zy(S)===C.type){r(g,C.sibling),w=s(C,b.props),w.ref=fa(g,C,b),w.return=g,g=w;break e}r(g,C);break}else t(g,C);C=C.sibling}b.type===Yi?(w=ui(b.props.children,g.mode,_,b.key),w.return=g,g=w):(_=eu(b.type,b.key,b.props,null,g.mode,_),_.ref=fa(g,w,b),_.return=g,g=_)}return o(g);case Qi:e:{for(C=b.key;w!==null;){if(w.key===C)if(w.tag===4&&w.stateNode.containerInfo===b.containerInfo&&w.stateNode.implementation===b.implementation){r(g,w.sibling),w=s(w,b.children||[]),w.return=g,g=w;break e}else{r(g,w);break}else t(g,w);w=w.sibling}w=Yf(b,g.mode,_),w.return=g,g=w}return o(g);case Kn:return C=b._init,y(g,w,C(b._payload),_)}if(xa(b))return x(g,w,b,_);if(aa(b))return v(g,w,b,_);wc(g,b)}return typeof b=="string"&&b!==""||typeof b=="number"?(b=""+b,w!==null&&w.tag===6?(r(g,w.sibling),w=s(w,b),w.return=g,g=w):(r(g,w),w=Qf(b,g.mode,_),w.return=g,g=w),o(g)):r(g,w)}return y}var Mo=t_(!0),r_=t_(!1),Nu=Ms(null),Tu=null,so=null,ug=null;function dg(){ug=so=Tu=null}function fg(e){var t=Nu.current;Be(Nu),e._currentValue=t}function op(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function ho(e,t){Tu=e,ug=so=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Bt=!0),e.firstContext=null)}function gr(e){var t=e._currentValue;if(ug!==e)if(e={context:e,memoizedValue:t,next:null},so===null){if(Tu===null)throw Error(V(308));so=e,Tu.dependencies={lanes:0,firstContext:e}}else so=so.next=e;return t}var Ys=null;function hg(e){Ys===null?Ys=[e]:Ys.push(e)}function n_(e,t,r,n){var s=t.interleaved;return s===null?(r.next=r,hg(t)):(r.next=s.next,s.next=r),t.interleaved=r,Nn(e,n)}function Nn(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var Hn=!1;function pg(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function s_(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Sn(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function bs(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,Re&2){var s=n.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),n.pending=t,Nn(e,r)}return s=n.interleaved,s===null?(t.next=t,hg(n)):(t.next=s.next,s.next=t),n.interleaved=t,Nn(e,r)}function Gc(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,Jm(e,r)}}function By(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var s=null,i=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};i===null?s=i=o:i=i.next=o,r=r.next}while(r!==null);i===null?s=i=t:i=i.next=t}else s=i=t;r={baseState:n.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function Ru(e,t,r,n){var s=e.updateQueue;Hn=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var l=a,c=l.next;l.next=null,o===null?i=c:o.next=c,o=l;var u=e.alternate;u!==null&&(u=u.updateQueue,a=u.lastBaseUpdate,a!==o&&(a===null?u.firstBaseUpdate=c:a.next=c,u.lastBaseUpdate=l))}if(i!==null){var f=s.baseState;o=0,u=c=l=null,a=i;do{var p=a.lane,h=a.eventTime;if((n&p)===p){u!==null&&(u=u.next={eventTime:h,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var x=e,v=a;switch(p=t,h=r,v.tag){case 1:if(x=v.payload,typeof x=="function"){f=x.call(h,f,p);break e}f=x;break e;case 3:x.flags=x.flags&-65537|128;case 0:if(x=v.payload,p=typeof x=="function"?x.call(h,f,p):x,p==null)break e;f=Qe({},f,p);break e;case 2:Hn=!0}}a.callback!==null&&a.lane!==0&&(e.flags|=64,p=s.effects,p===null?s.effects=[a]:p.push(a))}else h={eventTime:h,lane:p,tag:a.tag,payload:a.payload,callback:a.callback,next:null},u===null?(c=u=h,l=f):u=u.next=h,o|=p;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;p=a,a=p.next,p.next=null,s.lastBaseUpdate=p,s.shared.pending=null}}while(!0);if(u===null&&(l=f),s.baseState=l,s.firstBaseUpdate=c,s.lastBaseUpdate=u,t=s.shared.interleaved,t!==null){s=t;do o|=s.lane,s=s.next;while(s!==t)}else i===null&&(s.shared.lanes=0);yi|=o,e.lanes=o,e.memoizedState=f}}function Wy(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],s=n.callback;if(s!==null){if(n.callback=null,n=r,typeof s!="function")throw Error(V(191,s));s.call(n)}}}var Ml={},Xr=Ms(Ml),Ja=Ms(Ml),el=Ms(Ml);function Zs(e){if(e===Ml)throw Error(V(174));return e}function mg(e,t){switch(Fe(el,t),Fe(Ja,e),Fe(Xr,Ml),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Uh(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Uh(t,e)}Be(Xr),Fe(Xr,t)}function $o(){Be(Xr),Be(Ja),Be(el)}function i_(e){Zs(el.current);var t=Zs(Xr.current),r=Uh(t,e.type);t!==r&&(Fe(Ja,e),Fe(Xr,r))}function gg(e){Ja.current===e&&(Be(Xr),Be(Ja))}var He=Ms(0);function ju(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Wf=[];function vg(){for(var e=0;e<Wf.length;e++)Wf[e]._workInProgressVersionPrimary=null;Wf.length=0}var Qc=Dn.ReactCurrentDispatcher,Vf=Dn.ReactCurrentBatchConfig,vi=0,Ge=null,at=null,ut=null,Au=!1,Da=!1,tl=0,DR=0;function yt(){throw Error(V(321))}function yg(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!Lr(e[r],t[r]))return!1;return!0}function wg(e,t,r,n,s,i){if(vi=i,Ge=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Qc.current=e===null||e.memoizedState===null?LR:FR,e=r(n,s),Da){i=0;do{if(Da=!1,tl=0,25<=i)throw Error(V(301));i+=1,ut=at=null,t.updateQueue=null,Qc.current=UR,e=r(n,s)}while(Da)}if(Qc.current=Pu,t=at!==null&&at.next!==null,vi=0,ut=at=Ge=null,Au=!1,t)throw Error(V(300));return e}function xg(){var e=tl!==0;return tl=0,e}function Vr(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ut===null?Ge.memoizedState=ut=e:ut=ut.next=e,ut}function vr(){if(at===null){var e=Ge.alternate;e=e!==null?e.memoizedState:null}else e=at.next;var t=ut===null?Ge.memoizedState:ut.next;if(t!==null)ut=t,at=e;else{if(e===null)throw Error(V(310));at=e,e={memoizedState:at.memoizedState,baseState:at.baseState,baseQueue:at.baseQueue,queue:at.queue,next:null},ut===null?Ge.memoizedState=ut=e:ut=ut.next=e}return ut}function rl(e,t){return typeof t=="function"?t(e):t}function qf(e){var t=vr(),r=t.queue;if(r===null)throw Error(V(311));r.lastRenderedReducer=e;var n=at,s=n.baseQueue,i=r.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}n.baseQueue=s=i,r.pending=null}if(s!==null){i=s.next,n=n.baseState;var a=o=null,l=null,c=i;do{var u=c.lane;if((vi&u)===u)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),n=c.hasEagerState?c.eagerState:e(n,c.action);else{var f={lane:u,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=f,o=n):l=l.next=f,Ge.lanes|=u,yi|=u}c=c.next}while(c!==null&&c!==i);l===null?o=n:l.next=a,Lr(n,t.memoizedState)||(Bt=!0),t.memoizedState=n,t.baseState=o,t.baseQueue=l,r.lastRenderedState=n}if(e=r.interleaved,e!==null){s=e;do i=s.lane,Ge.lanes|=i,yi|=i,s=s.next;while(s!==e)}else s===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function Kf(e){var t=vr(),r=t.queue;if(r===null)throw Error(V(311));r.lastRenderedReducer=e;var n=r.dispatch,s=r.pending,i=t.memoizedState;if(s!==null){r.pending=null;var o=s=s.next;do i=e(i,o.action),o=o.next;while(o!==s);Lr(i,t.memoizedState)||(Bt=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),r.lastRenderedState=i}return[i,n]}function o_(){}function a_(e,t){var r=Ge,n=vr(),s=t(),i=!Lr(n.memoizedState,s);if(i&&(n.memoizedState=s,Bt=!0),n=n.queue,bg(u_.bind(null,r,n,e),[e]),n.getSnapshot!==t||i||ut!==null&&ut.memoizedState.tag&1){if(r.flags|=2048,nl(9,c_.bind(null,r,n,s,t),void 0,null),dt===null)throw Error(V(349));vi&30||l_(r,t,s)}return s}function l_(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=Ge.updateQueue,t===null?(t={lastEffect:null,stores:null},Ge.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function c_(e,t,r,n){t.value=r,t.getSnapshot=n,d_(t)&&f_(e)}function u_(e,t,r){return r(function(){d_(t)&&f_(e)})}function d_(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!Lr(e,r)}catch{return!0}}function f_(e){var t=Nn(e,1);t!==null&&$r(t,e,1,-1)}function Vy(e){var t=Vr();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:rl,lastRenderedState:e},t.queue=e,e=e.dispatch=$R.bind(null,Ge,e),[t.memoizedState,e]}function nl(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=Ge.updateQueue,t===null?(t={lastEffect:null,stores:null},Ge.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function h_(){return vr().memoizedState}function Yc(e,t,r,n){var s=Vr();Ge.flags|=e,s.memoizedState=nl(1|t,r,void 0,n===void 0?null:n)}function Sd(e,t,r,n){var s=vr();n=n===void 0?null:n;var i=void 0;if(at!==null){var o=at.memoizedState;if(i=o.destroy,n!==null&&yg(n,o.deps)){s.memoizedState=nl(t,r,i,n);return}}Ge.flags|=e,s.memoizedState=nl(1|t,r,i,n)}function qy(e,t){return Yc(8390656,8,e,t)}function bg(e,t){return Sd(2048,8,e,t)}function p_(e,t){return Sd(4,2,e,t)}function m_(e,t){return Sd(4,4,e,t)}function g_(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function v_(e,t,r){return r=r!=null?r.concat([e]):null,Sd(4,4,g_.bind(null,t,e),r)}function _g(){}function y_(e,t){var r=vr();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&yg(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function w_(e,t){var r=vr();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&yg(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function x_(e,t,r){return vi&21?(Lr(r,t)||(r=Eb(),Ge.lanes|=r,yi|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Bt=!0),e.memoizedState=r)}function IR(e,t){var r=Me;Me=r!==0&&4>r?r:4,e(!0);var n=Vf.transition;Vf.transition={};try{e(!1),t()}finally{Me=r,Vf.transition=n}}function b_(){return vr().memoizedState}function MR(e,t,r){var n=Ss(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},__(e))S_(t,r);else if(r=n_(e,t,r,n),r!==null){var s=At();$r(r,e,n,s),k_(r,t,n)}}function $R(e,t,r){var n=Ss(e),s={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(__(e))S_(t,s);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var o=t.lastRenderedState,a=i(o,r);if(s.hasEagerState=!0,s.eagerState=a,Lr(a,o)){var l=t.interleaved;l===null?(s.next=s,hg(t)):(s.next=l.next,l.next=s),t.interleaved=s;return}}catch{}finally{}r=n_(e,t,s,n),r!==null&&(s=At(),$r(r,e,n,s),k_(r,t,n))}}function __(e){var t=e.alternate;return e===Ge||t!==null&&t===Ge}function S_(e,t){Da=Au=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function k_(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,Jm(e,r)}}var Pu={readContext:gr,useCallback:yt,useContext:yt,useEffect:yt,useImperativeHandle:yt,useInsertionEffect:yt,useLayoutEffect:yt,useMemo:yt,useReducer:yt,useRef:yt,useState:yt,useDebugValue:yt,useDeferredValue:yt,useTransition:yt,useMutableSource:yt,useSyncExternalStore:yt,useId:yt,unstable_isNewReconciler:!1},LR={readContext:gr,useCallback:function(e,t){return Vr().memoizedState=[e,t===void 0?null:t],e},useContext:gr,useEffect:qy,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,Yc(4194308,4,g_.bind(null,t,e),r)},useLayoutEffect:function(e,t){return Yc(4194308,4,e,t)},useInsertionEffect:function(e,t){return Yc(4,2,e,t)},useMemo:function(e,t){var r=Vr();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=Vr();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=MR.bind(null,Ge,e),[n.memoizedState,e]},useRef:function(e){var t=Vr();return e={current:e},t.memoizedState=e},useState:Vy,useDebugValue:_g,useDeferredValue:function(e){return Vr().memoizedState=e},useTransition:function(){var e=Vy(!1),t=e[0];return e=IR.bind(null,e[1]),Vr().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=Ge,s=Vr();if(Ve){if(r===void 0)throw Error(V(407));r=r()}else{if(r=t(),dt===null)throw Error(V(349));vi&30||l_(n,t,r)}s.memoizedState=r;var i={value:r,getSnapshot:t};return s.queue=i,qy(u_.bind(null,n,i,e),[e]),n.flags|=2048,nl(9,c_.bind(null,n,i,r,t),void 0,null),r},useId:function(){var e=Vr(),t=dt.identifierPrefix;if(Ve){var r=xn,n=wn;r=(n&~(1<<32-Mr(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=tl++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=DR++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},FR={readContext:gr,useCallback:y_,useContext:gr,useEffect:bg,useImperativeHandle:v_,useInsertionEffect:p_,useLayoutEffect:m_,useMemo:w_,useReducer:qf,useRef:h_,useState:function(){return qf(rl)},useDebugValue:_g,useDeferredValue:function(e){var t=vr();return x_(t,at.memoizedState,e)},useTransition:function(){var e=qf(rl)[0],t=vr().memoizedState;return[e,t]},useMutableSource:o_,useSyncExternalStore:a_,useId:b_,unstable_isNewReconciler:!1},UR={readContext:gr,useCallback:y_,useContext:gr,useEffect:bg,useImperativeHandle:v_,useInsertionEffect:p_,useLayoutEffect:m_,useMemo:w_,useReducer:Kf,useRef:h_,useState:function(){return Kf(rl)},useDebugValue:_g,useDeferredValue:function(e){var t=vr();return at===null?t.memoizedState=e:x_(t,at.memoizedState,e)},useTransition:function(){var e=Kf(rl)[0],t=vr().memoizedState;return[e,t]},useMutableSource:o_,useSyncExternalStore:a_,useId:b_,unstable_isNewReconciler:!1};function Tr(e,t){if(e&&e.defaultProps){t=Qe({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function ap(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:Qe({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var kd={isMounted:function(e){return(e=e._reactInternals)?Ni(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=At(),s=Ss(e),i=Sn(n,s);i.payload=t,r!=null&&(i.callback=r),t=bs(e,i,s),t!==null&&($r(t,e,s,n),Gc(t,e,s))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=At(),s=Ss(e),i=Sn(n,s);i.tag=1,i.payload=t,r!=null&&(i.callback=r),t=bs(e,i,s),t!==null&&($r(t,e,s,n),Gc(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=At(),n=Ss(e),s=Sn(r,n);s.tag=2,t!=null&&(s.callback=t),t=bs(e,s,n),t!==null&&($r(t,e,n,r),Gc(t,e,n))}};function Ky(e,t,r,n,s,i,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,i,o):t.prototype&&t.prototype.isPureReactComponent?!Qa(r,n)||!Qa(s,i):!0}function E_(e,t,r){var n=!1,s=js,i=t.contextType;return typeof i=="object"&&i!==null?i=gr(i):(s=qt(t)?mi:_t.current,n=t.contextTypes,i=(n=n!=null)?Do(e,s):js),t=new t(r,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=kd,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=i),t}function Hy(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&kd.enqueueReplaceState(t,t.state,null)}function lp(e,t,r,n){var s=e.stateNode;s.props=r,s.state=e.memoizedState,s.refs={},pg(e);var i=t.contextType;typeof i=="object"&&i!==null?s.context=gr(i):(i=qt(t)?mi:_t.current,s.context=Do(e,i)),s.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(ap(e,t,i,r),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&kd.enqueueReplaceState(s,s.state,null),Ru(e,r,s,n),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function Lo(e,t){try{var r="",n=t;do r+=pT(n),n=n.return;while(n);var s=r}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:s,digest:null}}function Hf(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function cp(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var zR=typeof WeakMap=="function"?WeakMap:Map;function C_(e,t,r){r=Sn(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){Du||(Du=!0,wp=n),cp(e,t)},r}function N_(e,t,r){r=Sn(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var s=t.value;r.payload=function(){return n(s)},r.callback=function(){cp(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(r.callback=function(){cp(e,t),typeof n!="function"&&(_s===null?_s=new Set([this]):_s.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),r}function Gy(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new zR;var s=new Set;n.set(t,s)}else s=n.get(t),s===void 0&&(s=new Set,n.set(t,s));s.has(r)||(s.add(r),e=tj.bind(null,e,t,r),t.then(e,e))}function Qy(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Yy(e,t,r,n,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=Sn(-1,1),t.tag=2,bs(r,t,1))),r.lanes|=1),e)}var BR=Dn.ReactCurrentOwner,Bt=!1;function Nt(e,t,r,n){t.child=e===null?r_(t,null,r,n):Mo(t,e.child,r,n)}function Zy(e,t,r,n,s){r=r.render;var i=t.ref;return ho(t,s),n=wg(e,t,r,n,i,s),r=xg(),e!==null&&!Bt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Tn(e,t,s)):(Ve&&r&&ag(t),t.flags|=1,Nt(e,t,n,s),t.child)}function Xy(e,t,r,n,s){if(e===null){var i=r.type;return typeof i=="function"&&!jg(i)&&i.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=i,T_(e,t,i,n,s)):(e=eu(r.type,null,n,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&s)){var o=i.memoizedProps;if(r=r.compare,r=r!==null?r:Qa,r(o,n)&&e.ref===t.ref)return Tn(e,t,s)}return t.flags|=1,e=ks(i,n),e.ref=t.ref,e.return=t,t.child=e}function T_(e,t,r,n,s){if(e!==null){var i=e.memoizedProps;if(Qa(i,n)&&e.ref===t.ref)if(Bt=!1,t.pendingProps=n=i,(e.lanes&s)!==0)e.flags&131072&&(Bt=!0);else return t.lanes=e.lanes,Tn(e,t,s)}return up(e,t,r,n,s)}function R_(e,t,r){var n=t.pendingProps,s=n.children,i=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Fe(oo,Gt),Gt|=r;else{if(!(r&1073741824))return e=i!==null?i.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Fe(oo,Gt),Gt|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=i!==null?i.baseLanes:r,Fe(oo,Gt),Gt|=n}else i!==null?(n=i.baseLanes|r,t.memoizedState=null):n=r,Fe(oo,Gt),Gt|=n;return Nt(e,t,s,r),t.child}function j_(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function up(e,t,r,n,s){var i=qt(r)?mi:_t.current;return i=Do(t,i),ho(t,s),r=wg(e,t,r,n,i,s),n=xg(),e!==null&&!Bt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Tn(e,t,s)):(Ve&&n&&ag(t),t.flags|=1,Nt(e,t,r,s),t.child)}function Jy(e,t,r,n,s){if(qt(r)){var i=!0;ku(t)}else i=!1;if(ho(t,s),t.stateNode===null)Zc(e,t),E_(t,r,n),lp(t,r,n,s),n=!0;else if(e===null){var o=t.stateNode,a=t.memoizedProps;o.props=a;var l=o.context,c=r.contextType;typeof c=="object"&&c!==null?c=gr(c):(c=qt(r)?mi:_t.current,c=Do(t,c));var u=r.getDerivedStateFromProps,f=typeof u=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==n||l!==c)&&Hy(t,o,n,c),Hn=!1;var p=t.memoizedState;o.state=p,Ru(t,n,o,s),l=t.memoizedState,a!==n||p!==l||Vt.current||Hn?(typeof u=="function"&&(ap(t,r,u,n),l=t.memoizedState),(a=Hn||Ky(t,r,a,n,p,l,c))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=l),o.props=n,o.state=l,o.context=c,n=a):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{o=t.stateNode,s_(e,t),a=t.memoizedProps,c=t.type===t.elementType?a:Tr(t.type,a),o.props=c,f=t.pendingProps,p=o.context,l=r.contextType,typeof l=="object"&&l!==null?l=gr(l):(l=qt(r)?mi:_t.current,l=Do(t,l));var h=r.getDerivedStateFromProps;(u=typeof h=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==f||p!==l)&&Hy(t,o,n,l),Hn=!1,p=t.memoizedState,o.state=p,Ru(t,n,o,s);var x=t.memoizedState;a!==f||p!==x||Vt.current||Hn?(typeof h=="function"&&(ap(t,r,h,n),x=t.memoizedState),(c=Hn||Ky(t,r,c,n,p,x,l)||!1)?(u||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,x,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,x,l)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=x),o.props=n,o.state=x,o.context=l,n=c):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),n=!1)}return dp(e,t,r,n,i,s)}function dp(e,t,r,n,s,i){j_(e,t);var o=(t.flags&128)!==0;if(!n&&!o)return s&&Ly(t,r,!1),Tn(e,t,i);n=t.stateNode,BR.current=t;var a=o&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&o?(t.child=Mo(t,e.child,null,i),t.child=Mo(t,null,a,i)):Nt(e,t,a,i),t.memoizedState=n.state,s&&Ly(t,r,!0),t.child}function A_(e){var t=e.stateNode;t.pendingContext?$y(e,t.pendingContext,t.pendingContext!==t.context):t.context&&$y(e,t.context,!1),mg(e,t.containerInfo)}function e0(e,t,r,n,s){return Io(),cg(s),t.flags|=256,Nt(e,t,r,n),t.child}var fp={dehydrated:null,treeContext:null,retryLane:0};function hp(e){return{baseLanes:e,cachePool:null,transitions:null}}function P_(e,t,r){var n=t.pendingProps,s=He.current,i=!1,o=(t.flags&128)!==0,a;if((a=o)||(a=e!==null&&e.memoizedState===null?!1:(s&2)!==0),a?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),Fe(He,s&1),e===null)return ip(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=n.children,e=n.fallback,i?(n=t.mode,i=t.child,o={mode:"hidden",children:o},!(n&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=Nd(o,n,0,null),e=ui(e,n,r,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=hp(r),t.memoizedState=fp,e):Sg(t,o));if(s=e.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return WR(e,t,o,n,a,s,r);if(i){i=n.fallback,o=t.mode,s=e.child,a=s.sibling;var l={mode:"hidden",children:n.children};return!(o&1)&&t.child!==s?(n=t.child,n.childLanes=0,n.pendingProps=l,t.deletions=null):(n=ks(s,l),n.subtreeFlags=s.subtreeFlags&14680064),a!==null?i=ks(a,i):(i=ui(i,o,r,null),i.flags|=2),i.return=t,n.return=t,n.sibling=i,t.child=n,n=i,i=t.child,o=e.child.memoizedState,o=o===null?hp(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=e.childLanes&~r,t.memoizedState=fp,n}return i=e.child,e=i.sibling,n=ks(i,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function Sg(e,t){return t=Nd({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function xc(e,t,r,n){return n!==null&&cg(n),Mo(t,e.child,null,r),e=Sg(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function WR(e,t,r,n,s,i,o){if(r)return t.flags&256?(t.flags&=-257,n=Hf(Error(V(422))),xc(e,t,o,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=n.fallback,s=t.mode,n=Nd({mode:"visible",children:n.children},s,0,null),i=ui(i,s,o,null),i.flags|=2,n.return=t,i.return=t,n.sibling=i,t.child=n,t.mode&1&&Mo(t,e.child,null,o),t.child.memoizedState=hp(o),t.memoizedState=fp,i);if(!(t.mode&1))return xc(e,t,o,null);if(s.data==="$!"){if(n=s.nextSibling&&s.nextSibling.dataset,n)var a=n.dgst;return n=a,i=Error(V(419)),n=Hf(i,n,void 0),xc(e,t,o,n)}if(a=(o&e.childLanes)!==0,Bt||a){if(n=dt,n!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(n.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,Nn(e,s),$r(n,e,s,-1))}return Rg(),n=Hf(Error(V(421))),xc(e,t,o,n)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=rj.bind(null,e),s._reactRetry=t,null):(e=i.treeContext,er=xs(s.nextSibling),tr=t,Ve=!0,Dr=null,e!==null&&(dr[fr++]=wn,dr[fr++]=xn,dr[fr++]=gi,wn=e.id,xn=e.overflow,gi=t),t=Sg(t,n.children),t.flags|=4096,t)}function t0(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),op(e.return,t,r)}function Gf(e,t,r,n,s){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:s}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=n,i.tail=r,i.tailMode=s)}function O_(e,t,r){var n=t.pendingProps,s=n.revealOrder,i=n.tail;if(Nt(e,t,n.children,r),n=He.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&t0(e,r,t);else if(e.tag===19)t0(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(Fe(He,n),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(r=t.child,s=null;r!==null;)e=r.alternate,e!==null&&ju(e)===null&&(s=r),r=r.sibling;r=s,r===null?(s=t.child,t.child=null):(s=r.sibling,r.sibling=null),Gf(t,!1,s,r,i);break;case"backwards":for(r=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&ju(e)===null){t.child=s;break}e=s.sibling,s.sibling=r,r=s,s=e}Gf(t,!0,r,null,i);break;case"together":Gf(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Zc(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Tn(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),yi|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(V(153));if(t.child!==null){for(e=t.child,r=ks(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=ks(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function VR(e,t,r){switch(t.tag){case 3:A_(t),Io();break;case 5:i_(t);break;case 1:qt(t.type)&&ku(t);break;case 4:mg(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,s=t.memoizedProps.value;Fe(Nu,n._currentValue),n._currentValue=s;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(Fe(He,He.current&1),t.flags|=128,null):r&t.child.childLanes?P_(e,t,r):(Fe(He,He.current&1),e=Tn(e,t,r),e!==null?e.sibling:null);Fe(He,He.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return O_(e,t,r);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),Fe(He,He.current),n)break;return null;case 22:case 23:return t.lanes=0,R_(e,t,r)}return Tn(e,t,r)}var D_,pp,I_,M_;D_=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};pp=function(){};I_=function(e,t,r,n){var s=e.memoizedProps;if(s!==n){e=t.stateNode,Zs(Xr.current);var i=null;switch(r){case"input":s=Mh(e,s),n=Mh(e,n),i=[];break;case"select":s=Qe({},s,{value:void 0}),n=Qe({},n,{value:void 0}),i=[];break;case"textarea":s=Fh(e,s),n=Fh(e,n),i=[];break;default:typeof s.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=_u)}zh(r,n);var o;r=null;for(c in s)if(!n.hasOwnProperty(c)&&s.hasOwnProperty(c)&&s[c]!=null)if(c==="style"){var a=s[c];for(o in a)a.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Ba.hasOwnProperty(c)?i||(i=[]):(i=i||[]).push(c,null));for(c in n){var l=n[c];if(a=s!=null?s[c]:void 0,n.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(r||(r={}),r[o]=l[o])}else r||(i||(i=[]),i.push(c,r)),r=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(i=i||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(i=i||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Ba.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&ze("scroll",e),i||a===l||(i=[])):(i=i||[]).push(c,l))}r&&(i=i||[]).push("style",r);var c=i;(t.updateQueue=c)&&(t.flags|=4)}};M_=function(e,t,r,n){r!==n&&(t.flags|=4)};function ha(e,t){if(!Ve)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function wt(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags&14680064,n|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags,n|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function qR(e,t,r){var n=t.pendingProps;switch(lg(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return wt(t),null;case 1:return qt(t.type)&&Su(),wt(t),null;case 3:return n=t.stateNode,$o(),Be(Vt),Be(_t),vg(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(yc(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Dr!==null&&(_p(Dr),Dr=null))),pp(e,t),wt(t),null;case 5:gg(t);var s=Zs(el.current);if(r=t.type,e!==null&&t.stateNode!=null)I_(e,t,r,n,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(V(166));return wt(t),null}if(e=Zs(Xr.current),yc(t)){n=t.stateNode,r=t.type;var i=t.memoizedProps;switch(n[Gr]=t,n[Xa]=i,e=(t.mode&1)!==0,r){case"dialog":ze("cancel",n),ze("close",n);break;case"iframe":case"object":case"embed":ze("load",n);break;case"video":case"audio":for(s=0;s<_a.length;s++)ze(_a[s],n);break;case"source":ze("error",n);break;case"img":case"image":case"link":ze("error",n),ze("load",n);break;case"details":ze("toggle",n);break;case"input":uy(n,i),ze("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!i.multiple},ze("invalid",n);break;case"textarea":fy(n,i),ze("invalid",n)}zh(r,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var a=i[o];o==="children"?typeof a=="string"?n.textContent!==a&&(i.suppressHydrationWarning!==!0&&vc(n.textContent,a,e),s=["children",a]):typeof a=="number"&&n.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&vc(n.textContent,a,e),s=["children",""+a]):Ba.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&ze("scroll",n)}switch(r){case"input":cc(n),dy(n,i,!0);break;case"textarea":cc(n),hy(n);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(n.onclick=_u)}n=s,t.updateQueue=n,n!==null&&(t.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=ub(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=o.createElement(r,{is:n.is}):(e=o.createElement(r),r==="select"&&(o=e,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):e=o.createElementNS(e,r),e[Gr]=t,e[Xa]=n,D_(e,t,!1,!1),t.stateNode=e;e:{switch(o=Bh(r,n),r){case"dialog":ze("cancel",e),ze("close",e),s=n;break;case"iframe":case"object":case"embed":ze("load",e),s=n;break;case"video":case"audio":for(s=0;s<_a.length;s++)ze(_a[s],e);s=n;break;case"source":ze("error",e),s=n;break;case"img":case"image":case"link":ze("error",e),ze("load",e),s=n;break;case"details":ze("toggle",e),s=n;break;case"input":uy(e,n),s=Mh(e,n),ze("invalid",e);break;case"option":s=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},s=Qe({},n,{value:void 0}),ze("invalid",e);break;case"textarea":fy(e,n),s=Fh(e,n),ze("invalid",e);break;default:s=n}zh(r,s),a=s;for(i in a)if(a.hasOwnProperty(i)){var l=a[i];i==="style"?hb(e,l):i==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&db(e,l)):i==="children"?typeof l=="string"?(r!=="textarea"||l!=="")&&Wa(e,l):typeof l=="number"&&Wa(e,""+l):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Ba.hasOwnProperty(i)?l!=null&&i==="onScroll"&&ze("scroll",e):l!=null&&Hm(e,i,l,o))}switch(r){case"input":cc(e),dy(e,n,!1);break;case"textarea":cc(e),hy(e);break;case"option":n.value!=null&&e.setAttribute("value",""+Rs(n.value));break;case"select":e.multiple=!!n.multiple,i=n.value,i!=null?lo(e,!!n.multiple,i,!1):n.defaultValue!=null&&lo(e,!!n.multiple,n.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=_u)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return wt(t),null;case 6:if(e&&t.stateNode!=null)M_(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(V(166));if(r=Zs(el.current),Zs(Xr.current),yc(t)){if(n=t.stateNode,r=t.memoizedProps,n[Gr]=t,(i=n.nodeValue!==r)&&(e=tr,e!==null))switch(e.tag){case 3:vc(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&vc(n.nodeValue,r,(e.mode&1)!==0)}i&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[Gr]=t,t.stateNode=n}return wt(t),null;case 13:if(Be(He),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Ve&&er!==null&&t.mode&1&&!(t.flags&128))e_(),Io(),t.flags|=98560,i=!1;else if(i=yc(t),n!==null&&n.dehydrated!==null){if(e===null){if(!i)throw Error(V(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(V(317));i[Gr]=t}else Io(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;wt(t),i=!1}else Dr!==null&&(_p(Dr),Dr=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||He.current&1?ct===0&&(ct=3):Rg())),t.updateQueue!==null&&(t.flags|=4),wt(t),null);case 4:return $o(),pp(e,t),e===null&&Ya(t.stateNode.containerInfo),wt(t),null;case 10:return fg(t.type._context),wt(t),null;case 17:return qt(t.type)&&Su(),wt(t),null;case 19:if(Be(He),i=t.memoizedState,i===null)return wt(t),null;if(n=(t.flags&128)!==0,o=i.rendering,o===null)if(n)ha(i,!1);else{if(ct!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=ju(e),o!==null){for(t.flags|=128,ha(i,!1),n=o.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)i=r,e=n,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,e=o.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return Fe(He,He.current&1|2),t.child}e=e.sibling}i.tail!==null&&tt()>Fo&&(t.flags|=128,n=!0,ha(i,!1),t.lanes=4194304)}else{if(!n)if(e=ju(o),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),ha(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!Ve)return wt(t),null}else 2*tt()-i.renderingStartTime>Fo&&r!==1073741824&&(t.flags|=128,n=!0,ha(i,!1),t.lanes=4194304);i.isBackwards?(o.sibling=t.child,t.child=o):(r=i.last,r!==null?r.sibling=o:t.child=o,i.last=o)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=tt(),t.sibling=null,r=He.current,Fe(He,n?r&1|2:r&1),t):(wt(t),null);case 22:case 23:return Tg(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?Gt&1073741824&&(wt(t),t.subtreeFlags&6&&(t.flags|=8192)):wt(t),null;case 24:return null;case 25:return null}throw Error(V(156,t.tag))}function KR(e,t){switch(lg(t),t.tag){case 1:return qt(t.type)&&Su(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return $o(),Be(Vt),Be(_t),vg(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return gg(t),null;case 13:if(Be(He),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(V(340));Io()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Be(He),null;case 4:return $o(),null;case 10:return fg(t.type._context),null;case 22:case 23:return Tg(),null;case 24:return null;default:return null}}var bc=!1,bt=!1,HR=typeof WeakSet=="function"?WeakSet:Set,ae=null;function io(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){et(e,t,n)}else r.current=null}function mp(e,t,r){try{r()}catch(n){et(e,t,n)}}var r0=!1;function GR(e,t){if(Xh=wu,e=zb(),og(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var s=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{r.nodeType,i.nodeType}catch{r=null;break e}var o=0,a=-1,l=-1,c=0,u=0,f=e,p=null;t:for(;;){for(var h;f!==r||s!==0&&f.nodeType!==3||(a=o+s),f!==i||n!==0&&f.nodeType!==3||(l=o+n),f.nodeType===3&&(o+=f.nodeValue.length),(h=f.firstChild)!==null;)p=f,f=h;for(;;){if(f===e)break t;if(p===r&&++c===s&&(a=o),p===i&&++u===n&&(l=o),(h=f.nextSibling)!==null)break;f=p,p=f.parentNode}f=h}r=a===-1||l===-1?null:{start:a,end:l}}else r=null}r=r||{start:0,end:0}}else r=null;for(Jh={focusedElem:e,selectionRange:r},wu=!1,ae=t;ae!==null;)if(t=ae,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,ae=e;else for(;ae!==null;){t=ae;try{var x=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(x!==null){var v=x.memoizedProps,y=x.memoizedState,g=t.stateNode,w=g.getSnapshotBeforeUpdate(t.elementType===t.type?v:Tr(t.type,v),y);g.__reactInternalSnapshotBeforeUpdate=w}break;case 3:var b=t.stateNode.containerInfo;b.nodeType===1?b.textContent="":b.nodeType===9&&b.documentElement&&b.removeChild(b.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(V(163))}}catch(_){et(t,t.return,_)}if(e=t.sibling,e!==null){e.return=t.return,ae=e;break}ae=t.return}return x=r0,r0=!1,x}function Ia(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var s=n=n.next;do{if((s.tag&e)===e){var i=s.destroy;s.destroy=void 0,i!==void 0&&mp(t,r,i)}s=s.next}while(s!==n)}}function Ed(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function gp(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function $_(e){var t=e.alternate;t!==null&&(e.alternate=null,$_(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Gr],delete t[Xa],delete t[rp],delete t[jR],delete t[AR])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function L_(e){return e.tag===5||e.tag===3||e.tag===4}function n0(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||L_(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function vp(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=_u));else if(n!==4&&(e=e.child,e!==null))for(vp(e,t,r),e=e.sibling;e!==null;)vp(e,t,r),e=e.sibling}function yp(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(yp(e,t,r),e=e.sibling;e!==null;)yp(e,t,r),e=e.sibling}var pt=null,Pr=!1;function zn(e,t,r){for(r=r.child;r!==null;)F_(e,t,r),r=r.sibling}function F_(e,t,r){if(Zr&&typeof Zr.onCommitFiberUnmount=="function")try{Zr.onCommitFiberUnmount(vd,r)}catch{}switch(r.tag){case 5:bt||io(r,t);case 6:var n=pt,s=Pr;pt=null,zn(e,t,r),pt=n,Pr=s,pt!==null&&(Pr?(e=pt,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):pt.removeChild(r.stateNode));break;case 18:pt!==null&&(Pr?(e=pt,r=r.stateNode,e.nodeType===8?zf(e.parentNode,r):e.nodeType===1&&zf(e,r),Ha(e)):zf(pt,r.stateNode));break;case 4:n=pt,s=Pr,pt=r.stateNode.containerInfo,Pr=!0,zn(e,t,r),pt=n,Pr=s;break;case 0:case 11:case 14:case 15:if(!bt&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){s=n=n.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&mp(r,t,o),s=s.next}while(s!==n)}zn(e,t,r);break;case 1:if(!bt&&(io(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(a){et(r,t,a)}zn(e,t,r);break;case 21:zn(e,t,r);break;case 22:r.mode&1?(bt=(n=bt)||r.memoizedState!==null,zn(e,t,r),bt=n):zn(e,t,r);break;default:zn(e,t,r)}}function s0(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new HR),t.forEach(function(n){var s=nj.bind(null,e,n);r.has(n)||(r.add(n),n.then(s,s))})}}function Er(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var s=r[n];try{var i=e,o=t,a=o;e:for(;a!==null;){switch(a.tag){case 5:pt=a.stateNode,Pr=!1;break e;case 3:pt=a.stateNode.containerInfo,Pr=!0;break e;case 4:pt=a.stateNode.containerInfo,Pr=!0;break e}a=a.return}if(pt===null)throw Error(V(160));F_(i,o,s),pt=null,Pr=!1;var l=s.alternate;l!==null&&(l.return=null),s.return=null}catch(c){et(s,t,c)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)U_(t,e),t=t.sibling}function U_(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Er(t,e),Wr(e),n&4){try{Ia(3,e,e.return),Ed(3,e)}catch(v){et(e,e.return,v)}try{Ia(5,e,e.return)}catch(v){et(e,e.return,v)}}break;case 1:Er(t,e),Wr(e),n&512&&r!==null&&io(r,r.return);break;case 5:if(Er(t,e),Wr(e),n&512&&r!==null&&io(r,r.return),e.flags&32){var s=e.stateNode;try{Wa(s,"")}catch(v){et(e,e.return,v)}}if(n&4&&(s=e.stateNode,s!=null)){var i=e.memoizedProps,o=r!==null?r.memoizedProps:i,a=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&lb(s,i),Bh(a,o);var c=Bh(a,i);for(o=0;o<l.length;o+=2){var u=l[o],f=l[o+1];u==="style"?hb(s,f):u==="dangerouslySetInnerHTML"?db(s,f):u==="children"?Wa(s,f):Hm(s,u,f,c)}switch(a){case"input":$h(s,i);break;case"textarea":cb(s,i);break;case"select":var p=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var h=i.value;h!=null?lo(s,!!i.multiple,h,!1):p!==!!i.multiple&&(i.defaultValue!=null?lo(s,!!i.multiple,i.defaultValue,!0):lo(s,!!i.multiple,i.multiple?[]:"",!1))}s[Xa]=i}catch(v){et(e,e.return,v)}}break;case 6:if(Er(t,e),Wr(e),n&4){if(e.stateNode===null)throw Error(V(162));s=e.stateNode,i=e.memoizedProps;try{s.nodeValue=i}catch(v){et(e,e.return,v)}}break;case 3:if(Er(t,e),Wr(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{Ha(t.containerInfo)}catch(v){et(e,e.return,v)}break;case 4:Er(t,e),Wr(e);break;case 13:Er(t,e),Wr(e),s=e.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(Cg=tt())),n&4&&s0(e);break;case 22:if(u=r!==null&&r.memoizedState!==null,e.mode&1?(bt=(c=bt)||u,Er(t,e),bt=c):Er(t,e),Wr(e),n&8192){if(c=e.memoizedState!==null,(e.stateNode.isHidden=c)&&!u&&e.mode&1)for(ae=e,u=e.child;u!==null;){for(f=ae=u;ae!==null;){switch(p=ae,h=p.child,p.tag){case 0:case 11:case 14:case 15:Ia(4,p,p.return);break;case 1:io(p,p.return);var x=p.stateNode;if(typeof x.componentWillUnmount=="function"){n=p,r=p.return;try{t=n,x.props=t.memoizedProps,x.state=t.memoizedState,x.componentWillUnmount()}catch(v){et(n,r,v)}}break;case 5:io(p,p.return);break;case 22:if(p.memoizedState!==null){o0(f);continue}}h!==null?(h.return=p,ae=h):o0(f)}u=u.sibling}e:for(u=null,f=e;;){if(f.tag===5){if(u===null){u=f;try{s=f.stateNode,c?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=f.stateNode,l=f.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=fb("display",o))}catch(v){et(e,e.return,v)}}}else if(f.tag===6){if(u===null)try{f.stateNode.nodeValue=c?"":f.memoizedProps}catch(v){et(e,e.return,v)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;u===f&&(u=null),f=f.return}u===f&&(u=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Er(t,e),Wr(e),n&4&&s0(e);break;case 21:break;default:Er(t,e),Wr(e)}}function Wr(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(L_(r)){var n=r;break e}r=r.return}throw Error(V(160))}switch(n.tag){case 5:var s=n.stateNode;n.flags&32&&(Wa(s,""),n.flags&=-33);var i=n0(e);yp(e,i,s);break;case 3:case 4:var o=n.stateNode.containerInfo,a=n0(e);vp(e,a,o);break;default:throw Error(V(161))}}catch(l){et(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function QR(e,t,r){ae=e,z_(e)}function z_(e,t,r){for(var n=(e.mode&1)!==0;ae!==null;){var s=ae,i=s.child;if(s.tag===22&&n){var o=s.memoizedState!==null||bc;if(!o){var a=s.alternate,l=a!==null&&a.memoizedState!==null||bt;a=bc;var c=bt;if(bc=o,(bt=l)&&!c)for(ae=s;ae!==null;)o=ae,l=o.child,o.tag===22&&o.memoizedState!==null?a0(s):l!==null?(l.return=o,ae=l):a0(s);for(;i!==null;)ae=i,z_(i),i=i.sibling;ae=s,bc=a,bt=c}i0(e)}else s.subtreeFlags&8772&&i!==null?(i.return=s,ae=i):i0(e)}}function i0(e){for(;ae!==null;){var t=ae;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:bt||Ed(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!bt)if(r===null)n.componentDidMount();else{var s=t.elementType===t.type?r.memoizedProps:Tr(t.type,r.memoizedProps);n.componentDidUpdate(s,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&Wy(t,i,n);break;case 3:var o=t.updateQueue;if(o!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}Wy(t,o,r)}break;case 5:var a=t.stateNode;if(r===null&&t.flags&4){r=a;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&r.focus();break;case"img":l.src&&(r.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var c=t.alternate;if(c!==null){var u=c.memoizedState;if(u!==null){var f=u.dehydrated;f!==null&&Ha(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(V(163))}bt||t.flags&512&&gp(t)}catch(p){et(t,t.return,p)}}if(t===e){ae=null;break}if(r=t.sibling,r!==null){r.return=t.return,ae=r;break}ae=t.return}}function o0(e){for(;ae!==null;){var t=ae;if(t===e){ae=null;break}var r=t.sibling;if(r!==null){r.return=t.return,ae=r;break}ae=t.return}}function a0(e){for(;ae!==null;){var t=ae;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{Ed(4,t)}catch(l){et(t,r,l)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var s=t.return;try{n.componentDidMount()}catch(l){et(t,s,l)}}var i=t.return;try{gp(t)}catch(l){et(t,i,l)}break;case 5:var o=t.return;try{gp(t)}catch(l){et(t,o,l)}}}catch(l){et(t,t.return,l)}if(t===e){ae=null;break}var a=t.sibling;if(a!==null){a.return=t.return,ae=a;break}ae=t.return}}var YR=Math.ceil,Ou=Dn.ReactCurrentDispatcher,kg=Dn.ReactCurrentOwner,pr=Dn.ReactCurrentBatchConfig,Re=0,dt=null,nt=null,mt=0,Gt=0,oo=Ms(0),ct=0,sl=null,yi=0,Cd=0,Eg=0,Ma=null,zt=null,Cg=0,Fo=1/0,pn=null,Du=!1,wp=null,_s=null,_c=!1,fs=null,Iu=0,$a=0,xp=null,Xc=-1,Jc=0;function At(){return Re&6?tt():Xc!==-1?Xc:Xc=tt()}function Ss(e){return e.mode&1?Re&2&&mt!==0?mt&-mt:OR.transition!==null?(Jc===0&&(Jc=Eb()),Jc):(e=Me,e!==0||(e=window.event,e=e===void 0?16:Pb(e.type)),e):1}function $r(e,t,r,n){if(50<$a)throw $a=0,xp=null,Error(V(185));Ol(e,r,n),(!(Re&2)||e!==dt)&&(e===dt&&(!(Re&2)&&(Cd|=r),ct===4&&Xn(e,mt)),Kt(e,n),r===1&&Re===0&&!(t.mode&1)&&(Fo=tt()+500,_d&&$s()))}function Kt(e,t){var r=e.callbackNode;OT(e,t);var n=yu(e,e===dt?mt:0);if(n===0)r!==null&&gy(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&gy(r),t===1)e.tag===0?PR(l0.bind(null,e)):Zb(l0.bind(null,e)),TR(function(){!(Re&6)&&$s()}),r=null;else{switch(Cb(n)){case 1:r=Xm;break;case 4:r=Sb;break;case 16:r=vu;break;case 536870912:r=kb;break;default:r=vu}r=Q_(r,B_.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function B_(e,t){if(Xc=-1,Jc=0,Re&6)throw Error(V(327));var r=e.callbackNode;if(po()&&e.callbackNode!==r)return null;var n=yu(e,e===dt?mt:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=Mu(e,n);else{t=n;var s=Re;Re|=2;var i=V_();(dt!==e||mt!==t)&&(pn=null,Fo=tt()+500,ci(e,t));do try{JR();break}catch(a){W_(e,a)}while(!0);dg(),Ou.current=i,Re=s,nt!==null?t=0:(dt=null,mt=0,t=ct)}if(t!==0){if(t===2&&(s=Hh(e),s!==0&&(n=s,t=bp(e,s))),t===1)throw r=sl,ci(e,0),Xn(e,n),Kt(e,tt()),r;if(t===6)Xn(e,n);else{if(s=e.current.alternate,!(n&30)&&!ZR(s)&&(t=Mu(e,n),t===2&&(i=Hh(e),i!==0&&(n=i,t=bp(e,i))),t===1))throw r=sl,ci(e,0),Xn(e,n),Kt(e,tt()),r;switch(e.finishedWork=s,e.finishedLanes=n,t){case 0:case 1:throw Error(V(345));case 2:Vs(e,zt,pn);break;case 3:if(Xn(e,n),(n&130023424)===n&&(t=Cg+500-tt(),10<t)){if(yu(e,0)!==0)break;if(s=e.suspendedLanes,(s&n)!==n){At(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=tp(Vs.bind(null,e,zt,pn),t);break}Vs(e,zt,pn);break;case 4:if(Xn(e,n),(n&4194240)===n)break;for(t=e.eventTimes,s=-1;0<n;){var o=31-Mr(n);i=1<<o,o=t[o],o>s&&(s=o),n&=~i}if(n=s,n=tt()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*YR(n/1960))-n,10<n){e.timeoutHandle=tp(Vs.bind(null,e,zt,pn),n);break}Vs(e,zt,pn);break;case 5:Vs(e,zt,pn);break;default:throw Error(V(329))}}}return Kt(e,tt()),e.callbackNode===r?B_.bind(null,e):null}function bp(e,t){var r=Ma;return e.current.memoizedState.isDehydrated&&(ci(e,t).flags|=256),e=Mu(e,t),e!==2&&(t=zt,zt=r,t!==null&&_p(t)),e}function _p(e){zt===null?zt=e:zt.push.apply(zt,e)}function ZR(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var s=r[n],i=s.getSnapshot;s=s.value;try{if(!Lr(i(),s))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Xn(e,t){for(t&=~Eg,t&=~Cd,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-Mr(t),n=1<<r;e[r]=-1,t&=~n}}function l0(e){if(Re&6)throw Error(V(327));po();var t=yu(e,0);if(!(t&1))return Kt(e,tt()),null;var r=Mu(e,t);if(e.tag!==0&&r===2){var n=Hh(e);n!==0&&(t=n,r=bp(e,n))}if(r===1)throw r=sl,ci(e,0),Xn(e,t),Kt(e,tt()),r;if(r===6)throw Error(V(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Vs(e,zt,pn),Kt(e,tt()),null}function Ng(e,t){var r=Re;Re|=1;try{return e(t)}finally{Re=r,Re===0&&(Fo=tt()+500,_d&&$s())}}function wi(e){fs!==null&&fs.tag===0&&!(Re&6)&&po();var t=Re;Re|=1;var r=pr.transition,n=Me;try{if(pr.transition=null,Me=1,e)return e()}finally{Me=n,pr.transition=r,Re=t,!(Re&6)&&$s()}}function Tg(){Gt=oo.current,Be(oo)}function ci(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,NR(r)),nt!==null)for(r=nt.return;r!==null;){var n=r;switch(lg(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&Su();break;case 3:$o(),Be(Vt),Be(_t),vg();break;case 5:gg(n);break;case 4:$o();break;case 13:Be(He);break;case 19:Be(He);break;case 10:fg(n.type._context);break;case 22:case 23:Tg()}r=r.return}if(dt=e,nt=e=ks(e.current,null),mt=Gt=t,ct=0,sl=null,Eg=Cd=yi=0,zt=Ma=null,Ys!==null){for(t=0;t<Ys.length;t++)if(r=Ys[t],n=r.interleaved,n!==null){r.interleaved=null;var s=n.next,i=r.pending;if(i!==null){var o=i.next;i.next=s,n.next=o}r.pending=n}Ys=null}return e}function W_(e,t){do{var r=nt;try{if(dg(),Qc.current=Pu,Au){for(var n=Ge.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}Au=!1}if(vi=0,ut=at=Ge=null,Da=!1,tl=0,kg.current=null,r===null||r.return===null){ct=1,sl=t,nt=null;break}e:{var i=e,o=r.return,a=r,l=t;if(t=mt,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,u=a,f=u.tag;if(!(u.mode&1)&&(f===0||f===11||f===15)){var p=u.alternate;p?(u.updateQueue=p.updateQueue,u.memoizedState=p.memoizedState,u.lanes=p.lanes):(u.updateQueue=null,u.memoizedState=null)}var h=Qy(o);if(h!==null){h.flags&=-257,Yy(h,o,a,i,t),h.mode&1&&Gy(i,c,t),t=h,l=c;var x=t.updateQueue;if(x===null){var v=new Set;v.add(l),t.updateQueue=v}else x.add(l);break e}else{if(!(t&1)){Gy(i,c,t),Rg();break e}l=Error(V(426))}}else if(Ve&&a.mode&1){var y=Qy(o);if(y!==null){!(y.flags&65536)&&(y.flags|=256),Yy(y,o,a,i,t),cg(Lo(l,a));break e}}i=l=Lo(l,a),ct!==4&&(ct=2),Ma===null?Ma=[i]:Ma.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var g=C_(i,l,t);By(i,g);break e;case 1:a=l;var w=i.type,b=i.stateNode;if(!(i.flags&128)&&(typeof w.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(_s===null||!_s.has(b)))){i.flags|=65536,t&=-t,i.lanes|=t;var _=N_(i,a,t);By(i,_);break e}}i=i.return}while(i!==null)}K_(r)}catch(S){t=S,nt===r&&r!==null&&(nt=r=r.return);continue}break}while(!0)}function V_(){var e=Ou.current;return Ou.current=Pu,e===null?Pu:e}function Rg(){(ct===0||ct===3||ct===2)&&(ct=4),dt===null||!(yi&268435455)&&!(Cd&268435455)||Xn(dt,mt)}function Mu(e,t){var r=Re;Re|=2;var n=V_();(dt!==e||mt!==t)&&(pn=null,ci(e,t));do try{XR();break}catch(s){W_(e,s)}while(!0);if(dg(),Re=r,Ou.current=n,nt!==null)throw Error(V(261));return dt=null,mt=0,ct}function XR(){for(;nt!==null;)q_(nt)}function JR(){for(;nt!==null&&!kT();)q_(nt)}function q_(e){var t=G_(e.alternate,e,Gt);e.memoizedProps=e.pendingProps,t===null?K_(e):nt=t,kg.current=null}function K_(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=KR(r,t),r!==null){r.flags&=32767,nt=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{ct=6,nt=null;return}}else if(r=qR(r,t,Gt),r!==null){nt=r;return}if(t=t.sibling,t!==null){nt=t;return}nt=t=e}while(t!==null);ct===0&&(ct=5)}function Vs(e,t,r){var n=Me,s=pr.transition;try{pr.transition=null,Me=1,ej(e,t,r,n)}finally{pr.transition=s,Me=n}return null}function ej(e,t,r,n){do po();while(fs!==null);if(Re&6)throw Error(V(327));r=e.finishedWork;var s=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(V(177));e.callbackNode=null,e.callbackPriority=0;var i=r.lanes|r.childLanes;if(DT(e,i),e===dt&&(nt=dt=null,mt=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||_c||(_c=!0,Q_(vu,function(){return po(),null})),i=(r.flags&15990)!==0,r.subtreeFlags&15990||i){i=pr.transition,pr.transition=null;var o=Me;Me=1;var a=Re;Re|=4,kg.current=null,GR(e,r),U_(r,e),xR(Jh),wu=!!Xh,Jh=Xh=null,e.current=r,QR(r),ET(),Re=a,Me=o,pr.transition=i}else e.current=r;if(_c&&(_c=!1,fs=e,Iu=s),i=e.pendingLanes,i===0&&(_s=null),TT(r.stateNode),Kt(e,tt()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)s=t[r],n(s.value,{componentStack:s.stack,digest:s.digest});if(Du)throw Du=!1,e=wp,wp=null,e;return Iu&1&&e.tag!==0&&po(),i=e.pendingLanes,i&1?e===xp?$a++:($a=0,xp=e):$a=0,$s(),null}function po(){if(fs!==null){var e=Cb(Iu),t=pr.transition,r=Me;try{if(pr.transition=null,Me=16>e?16:e,fs===null)var n=!1;else{if(e=fs,fs=null,Iu=0,Re&6)throw Error(V(331));var s=Re;for(Re|=4,ae=e.current;ae!==null;){var i=ae,o=i.child;if(ae.flags&16){var a=i.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(ae=c;ae!==null;){var u=ae;switch(u.tag){case 0:case 11:case 15:Ia(8,u,i)}var f=u.child;if(f!==null)f.return=u,ae=f;else for(;ae!==null;){u=ae;var p=u.sibling,h=u.return;if($_(u),u===c){ae=null;break}if(p!==null){p.return=h,ae=p;break}ae=h}}}var x=i.alternate;if(x!==null){var v=x.child;if(v!==null){x.child=null;do{var y=v.sibling;v.sibling=null,v=y}while(v!==null)}}ae=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,ae=o;else e:for(;ae!==null;){if(i=ae,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Ia(9,i,i.return)}var g=i.sibling;if(g!==null){g.return=i.return,ae=g;break e}ae=i.return}}var w=e.current;for(ae=w;ae!==null;){o=ae;var b=o.child;if(o.subtreeFlags&2064&&b!==null)b.return=o,ae=b;else e:for(o=w;ae!==null;){if(a=ae,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Ed(9,a)}}catch(S){et(a,a.return,S)}if(a===o){ae=null;break e}var _=a.sibling;if(_!==null){_.return=a.return,ae=_;break e}ae=a.return}}if(Re=s,$s(),Zr&&typeof Zr.onPostCommitFiberRoot=="function")try{Zr.onPostCommitFiberRoot(vd,e)}catch{}n=!0}return n}finally{Me=r,pr.transition=t}}return!1}function c0(e,t,r){t=Lo(r,t),t=C_(e,t,1),e=bs(e,t,1),t=At(),e!==null&&(Ol(e,1,t),Kt(e,t))}function et(e,t,r){if(e.tag===3)c0(e,e,r);else for(;t!==null;){if(t.tag===3){c0(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(_s===null||!_s.has(n))){e=Lo(r,e),e=N_(t,e,1),t=bs(t,e,1),e=At(),t!==null&&(Ol(t,1,e),Kt(t,e));break}}t=t.return}}function tj(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=At(),e.pingedLanes|=e.suspendedLanes&r,dt===e&&(mt&r)===r&&(ct===4||ct===3&&(mt&130023424)===mt&&500>tt()-Cg?ci(e,0):Eg|=r),Kt(e,t)}function H_(e,t){t===0&&(e.mode&1?(t=fc,fc<<=1,!(fc&130023424)&&(fc=4194304)):t=1);var r=At();e=Nn(e,t),e!==null&&(Ol(e,t,r),Kt(e,r))}function rj(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),H_(e,r)}function nj(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,s=e.memoizedState;s!==null&&(r=s.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(V(314))}n!==null&&n.delete(t),H_(e,r)}var G_;G_=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||Vt.current)Bt=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return Bt=!1,VR(e,t,r);Bt=!!(e.flags&131072)}else Bt=!1,Ve&&t.flags&1048576&&Xb(t,Cu,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;Zc(e,t),e=t.pendingProps;var s=Do(t,_t.current);ho(t,r),s=wg(null,t,n,e,s,r);var i=xg();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,qt(n)?(i=!0,ku(t)):i=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,pg(t),s.updater=kd,t.stateNode=s,s._reactInternals=t,lp(t,n,e,r),t=dp(null,t,n,!0,i,r)):(t.tag=0,Ve&&i&&ag(t),Nt(null,t,s,r),t=t.child),t;case 16:n=t.elementType;e:{switch(Zc(e,t),e=t.pendingProps,s=n._init,n=s(n._payload),t.type=n,s=t.tag=ij(n),e=Tr(n,e),s){case 0:t=up(null,t,n,e,r);break e;case 1:t=Jy(null,t,n,e,r);break e;case 11:t=Zy(null,t,n,e,r);break e;case 14:t=Xy(null,t,n,Tr(n.type,e),r);break e}throw Error(V(306,n,""))}return t;case 0:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:Tr(n,s),up(e,t,n,s,r);case 1:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:Tr(n,s),Jy(e,t,n,s,r);case 3:e:{if(A_(t),e===null)throw Error(V(387));n=t.pendingProps,i=t.memoizedState,s=i.element,s_(e,t),Ru(t,n,null,r);var o=t.memoizedState;if(n=o.element,i.isDehydrated)if(i={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){s=Lo(Error(V(423)),t),t=e0(e,t,n,r,s);break e}else if(n!==s){s=Lo(Error(V(424)),t),t=e0(e,t,n,r,s);break e}else for(er=xs(t.stateNode.containerInfo.firstChild),tr=t,Ve=!0,Dr=null,r=r_(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Io(),n===s){t=Tn(e,t,r);break e}Nt(e,t,n,r)}t=t.child}return t;case 5:return i_(t),e===null&&ip(t),n=t.type,s=t.pendingProps,i=e!==null?e.memoizedProps:null,o=s.children,ep(n,s)?o=null:i!==null&&ep(n,i)&&(t.flags|=32),j_(e,t),Nt(e,t,o,r),t.child;case 6:return e===null&&ip(t),null;case 13:return P_(e,t,r);case 4:return mg(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=Mo(t,null,n,r):Nt(e,t,n,r),t.child;case 11:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:Tr(n,s),Zy(e,t,n,s,r);case 7:return Nt(e,t,t.pendingProps,r),t.child;case 8:return Nt(e,t,t.pendingProps.children,r),t.child;case 12:return Nt(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,s=t.pendingProps,i=t.memoizedProps,o=s.value,Fe(Nu,n._currentValue),n._currentValue=o,i!==null)if(Lr(i.value,o)){if(i.children===s.children&&!Vt.current){t=Tn(e,t,r);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var a=i.dependencies;if(a!==null){o=i.child;for(var l=a.firstContext;l!==null;){if(l.context===n){if(i.tag===1){l=Sn(-1,r&-r),l.tag=2;var c=i.updateQueue;if(c!==null){c=c.shared;var u=c.pending;u===null?l.next=l:(l.next=u.next,u.next=l),c.pending=l}}i.lanes|=r,l=i.alternate,l!==null&&(l.lanes|=r),op(i.return,r,t),a.lanes|=r;break}l=l.next}}else if(i.tag===10)o=i.type===t.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(V(341));o.lanes|=r,a=o.alternate,a!==null&&(a.lanes|=r),op(o,r,t),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===t){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}Nt(e,t,s.children,r),t=t.child}return t;case 9:return s=t.type,n=t.pendingProps.children,ho(t,r),s=gr(s),n=n(s),t.flags|=1,Nt(e,t,n,r),t.child;case 14:return n=t.type,s=Tr(n,t.pendingProps),s=Tr(n.type,s),Xy(e,t,n,s,r);case 15:return T_(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:Tr(n,s),Zc(e,t),t.tag=1,qt(n)?(e=!0,ku(t)):e=!1,ho(t,r),E_(t,n,s),lp(t,n,s,r),dp(null,t,n,!0,e,r);case 19:return O_(e,t,r);case 22:return R_(e,t,r)}throw Error(V(156,t.tag))};function Q_(e,t){return _b(e,t)}function sj(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function hr(e,t,r,n){return new sj(e,t,r,n)}function jg(e){return e=e.prototype,!(!e||!e.isReactComponent)}function ij(e){if(typeof e=="function")return jg(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Qm)return 11;if(e===Ym)return 14}return 2}function ks(e,t){var r=e.alternate;return r===null?(r=hr(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function eu(e,t,r,n,s,i){var o=2;if(n=e,typeof e=="function")jg(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case Yi:return ui(r.children,s,i,t);case Gm:o=8,s|=8;break;case Ph:return e=hr(12,r,t,s|2),e.elementType=Ph,e.lanes=i,e;case Oh:return e=hr(13,r,t,s),e.elementType=Oh,e.lanes=i,e;case Dh:return e=hr(19,r,t,s),e.elementType=Dh,e.lanes=i,e;case ib:return Nd(r,s,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case nb:o=10;break e;case sb:o=9;break e;case Qm:o=11;break e;case Ym:o=14;break e;case Kn:o=16,n=null;break e}throw Error(V(130,e==null?e:typeof e,""))}return t=hr(o,r,t,s),t.elementType=e,t.type=n,t.lanes=i,t}function ui(e,t,r,n){return e=hr(7,e,n,t),e.lanes=r,e}function Nd(e,t,r,n){return e=hr(22,e,n,t),e.elementType=ib,e.lanes=r,e.stateNode={isHidden:!1},e}function Qf(e,t,r){return e=hr(6,e,null,t),e.lanes=r,e}function Yf(e,t,r){return t=hr(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function oj(e,t,r,n,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=jf(0),this.expirationTimes=jf(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=jf(0),this.identifierPrefix=n,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Ag(e,t,r,n,s,i,o,a,l){return e=new oj(e,t,r,a,l),t===1?(t=1,i===!0&&(t|=8)):t=0,i=hr(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},pg(i),e}function aj(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Qi,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function Y_(e){if(!e)return js;e=e._reactInternals;e:{if(Ni(e)!==e||e.tag!==1)throw Error(V(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(qt(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(V(171))}if(e.tag===1){var r=e.type;if(qt(r))return Yb(e,r,t)}return t}function Z_(e,t,r,n,s,i,o,a,l){return e=Ag(r,n,!0,e,s,i,o,a,l),e.context=Y_(null),r=e.current,n=At(),s=Ss(r),i=Sn(n,s),i.callback=t??null,bs(r,i,s),e.current.lanes=s,Ol(e,s,n),Kt(e,n),e}function Td(e,t,r,n){var s=t.current,i=At(),o=Ss(s);return r=Y_(r),t.context===null?t.context=r:t.pendingContext=r,t=Sn(i,o),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=bs(s,t,o),e!==null&&($r(e,s,o,i),Gc(e,s,o)),o}function $u(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function u0(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function Pg(e,t){u0(e,t),(e=e.alternate)&&u0(e,t)}function lj(){return null}var X_=typeof reportError=="function"?reportError:function(e){console.error(e)};function Og(e){this._internalRoot=e}Rd.prototype.render=Og.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(V(409));Td(e,t,null,null)};Rd.prototype.unmount=Og.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;wi(function(){Td(null,e,null,null)}),t[Cn]=null}};function Rd(e){this._internalRoot=e}Rd.prototype.unstable_scheduleHydration=function(e){if(e){var t=Rb();e={blockedOn:null,target:e,priority:t};for(var r=0;r<Zn.length&&t!==0&&t<Zn[r].priority;r++);Zn.splice(r,0,e),r===0&&Ab(e)}};function Dg(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function jd(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function d0(){}function cj(e,t,r,n,s){if(s){if(typeof n=="function"){var i=n;n=function(){var c=$u(o);i.call(c)}}var o=Z_(t,n,e,0,null,!1,!1,"",d0);return e._reactRootContainer=o,e[Cn]=o.current,Ya(e.nodeType===8?e.parentNode:e),wi(),o}for(;s=e.lastChild;)e.removeChild(s);if(typeof n=="function"){var a=n;n=function(){var c=$u(l);a.call(c)}}var l=Ag(e,0,!1,null,null,!1,!1,"",d0);return e._reactRootContainer=l,e[Cn]=l.current,Ya(e.nodeType===8?e.parentNode:e),wi(function(){Td(t,l,r,n)}),l}function Ad(e,t,r,n,s){var i=r._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var a=s;s=function(){var l=$u(o);a.call(l)}}Td(t,o,e,s)}else o=cj(r,t,e,s,n);return $u(o)}Nb=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=ba(t.pendingLanes);r!==0&&(Jm(t,r|1),Kt(t,tt()),!(Re&6)&&(Fo=tt()+500,$s()))}break;case 13:wi(function(){var n=Nn(e,1);if(n!==null){var s=At();$r(n,e,1,s)}}),Pg(e,1)}};eg=function(e){if(e.tag===13){var t=Nn(e,134217728);if(t!==null){var r=At();$r(t,e,134217728,r)}Pg(e,134217728)}};Tb=function(e){if(e.tag===13){var t=Ss(e),r=Nn(e,t);if(r!==null){var n=At();$r(r,e,t,n)}Pg(e,t)}};Rb=function(){return Me};jb=function(e,t){var r=Me;try{return Me=e,t()}finally{Me=r}};Vh=function(e,t,r){switch(t){case"input":if($h(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var s=bd(n);if(!s)throw Error(V(90));ab(n),$h(n,s)}}}break;case"textarea":cb(e,r);break;case"select":t=r.value,t!=null&&lo(e,!!r.multiple,t,!1)}};gb=Ng;vb=wi;var uj={usingClientEntryPoint:!1,Events:[Il,eo,bd,pb,mb,Ng]},pa={findFiberByHostInstance:Qs,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},dj={bundleType:pa.bundleType,version:pa.version,rendererPackageName:pa.rendererPackageName,rendererConfig:pa.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Dn.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=xb(e),e===null?null:e.stateNode},findFiberByHostInstance:pa.findFiberByHostInstance||lj,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Sc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Sc.isDisabled&&Sc.supportsFiber)try{vd=Sc.inject(dj),Zr=Sc}catch{}}or.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=uj;or.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Dg(t))throw Error(V(200));return aj(e,t,null,r)};or.createRoot=function(e,t){if(!Dg(e))throw Error(V(299));var r=!1,n="",s=X_;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=Ag(e,1,!1,null,null,r,!1,n,s),e[Cn]=t.current,Ya(e.nodeType===8?e.parentNode:e),new Og(t)};or.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(V(188)):(e=Object.keys(e).join(","),Error(V(268,e)));return e=xb(t),e=e===null?null:e.stateNode,e};or.flushSync=function(e){return wi(e)};or.hydrate=function(e,t,r){if(!jd(t))throw Error(V(200));return Ad(null,e,t,!0,r)};or.hydrateRoot=function(e,t,r){if(!Dg(e))throw Error(V(405));var n=r!=null&&r.hydratedSources||null,s=!1,i="",o=X_;if(r!=null&&(r.unstable_strictMode===!0&&(s=!0),r.identifierPrefix!==void 0&&(i=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),t=Z_(t,null,e,1,r??null,s,!1,i,o),e[Cn]=t.current,Ya(e),n)for(e=0;e<n.length;e++)r=n[e],s=r._getVersion,s=s(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,s]:t.mutableSourceEagerHydrationData.push(r,s);return new Rd(t)};or.render=function(e,t,r){if(!jd(t))throw Error(V(200));return Ad(null,e,t,!1,r)};or.unmountComponentAtNode=function(e){if(!jd(e))throw Error(V(40));return e._reactRootContainer?(wi(function(){Ad(null,null,e,!1,function(){e._reactRootContainer=null,e[Cn]=null})}),!0):!1};or.unstable_batchedUpdates=Ng;or.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!jd(r))throw Error(V(200));if(e==null||e._reactInternals===void 0)throw Error(V(38));return Ad(e,t,r,!1,n)};or.version="18.3.1-next-f1338f8080-20240426";function J_(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(J_)}catch(e){console.error(e)}}J_(),Jx.exports=or;var $l=Jx.exports;const e1=zx($l);var t1,f0=$l;t1=f0.createRoot,f0.hydrateRoot;const fj=1,hj=1e6;let Zf=0;function pj(){return Zf=(Zf+1)%Number.MAX_SAFE_INTEGER,Zf.toString()}const Xf=new Map,h0=e=>{if(Xf.has(e))return;const t=setTimeout(()=>{Xf.delete(e),La({type:"REMOVE_TOAST",toastId:e})},hj);Xf.set(e,t)},mj=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,fj)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(r=>r.id===t.toast.id?{...r,...t.toast}:r)};case"DISMISS_TOAST":{const{toastId:r}=t;return r?h0(r):e.toasts.forEach(n=>{h0(n.id)}),{...e,toasts:e.toasts.map(n=>n.id===r||r===void 0?{...n,open:!1}:n)}}case"REMOVE_TOAST":return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(r=>r.id!==t.toastId)}}},tu=[];let ru={toasts:[]};function La(e){ru=mj(ru,e),tu.forEach(t=>{t(ru)})}function gj({...e}){const t=pj(),r=s=>La({type:"UPDATE_TOAST",toast:{...s,id:t}}),n=()=>La({type:"DISMISS_TOAST",toastId:t});return La({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:s=>{s||n()}}}),{id:t,dismiss:n,update:r}}function Ig(){const[e,t]=m.useState(ru);return m.useEffect(()=>(tu.push(t),()=>{const r=tu.indexOf(t);r>-1&&tu.splice(r,1)}),[e]),{...e,toast:gj,dismiss:r=>La({type:"DISMISS_TOAST",toastId:r})}}function oe(e,t,{checkForDefaultPrevented:r=!0}={}){return function(s){if(e==null||e(s),r===!1||!s.defaultPrevented)return t==null?void 0:t(s)}}function p0(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function Pd(...e){return t=>{let r=!1;const n=e.map(s=>{const i=p0(s,t);return!r&&typeof i=="function"&&(r=!0),i});if(r)return()=>{for(let s=0;s<n.length;s++){const i=n[s];typeof i=="function"?i():p0(e[s],null)}}}}function De(...e){return m.useCallback(Pd(...e),e)}function vj(e,t){const r=m.createContext(t),n=i=>{const{children:o,...a}=i,l=m.useMemo(()=>a,Object.values(a));return d.jsx(r.Provider,{value:l,children:o})};n.displayName=e+"Provider";function s(i){const o=m.useContext(r);if(o)return o;if(t!==void 0)return t;throw new Error(`\`${i}\` must be used within \`${e}\``)}return[n,s]}function yr(e,t=[]){let r=[];function n(i,o){const a=m.createContext(o),l=r.length;r=[...r,o];const c=f=>{var g;const{scope:p,children:h,...x}=f,v=((g=p==null?void 0:p[e])==null?void 0:g[l])||a,y=m.useMemo(()=>x,Object.values(x));return d.jsx(v.Provider,{value:y,children:h})};c.displayName=i+"Provider";function u(f,p){var v;const h=((v=p==null?void 0:p[e])==null?void 0:v[l])||a,x=m.useContext(h);if(x)return x;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${i}\``)}return[c,u]}const s=()=>{const i=r.map(o=>m.createContext(o));return function(a){const l=(a==null?void 0:a[e])||i;return m.useMemo(()=>({[`__scope${e}`]:{...a,[e]:l}}),[a,l])}};return s.scopeName=e,[n,yj(s,...t)]}function yj(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=n.reduce((a,{useScope:l,scopeName:c})=>{const f=l(i)[`__scope${c}`];return{...a,...f}},{});return m.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return r.scopeName=t.scopeName,r}function Uo(e){const t=xj(e),r=m.forwardRef((n,s)=>{const{children:i,...o}=n,a=m.Children.toArray(i),l=a.find(bj);if(l){const c=l.props.children,u=a.map(f=>f===l?m.Children.count(c)>1?m.Children.only(null):m.isValidElement(c)?c.props.children:null:f);return d.jsx(t,{...o,ref:s,children:m.isValidElement(c)?m.cloneElement(c,void 0,u):null})}return d.jsx(t,{...o,ref:s,children:i})});return r.displayName=`${e}.Slot`,r}var wj=Uo("Slot");function xj(e){const t=m.forwardRef((r,n)=>{const{children:s,...i}=r;if(m.isValidElement(s)){const o=Sj(s),a=_j(i,s.props);return s.type!==m.Fragment&&(a.ref=n?Pd(n,o):o),m.cloneElement(s,a)}return m.Children.count(s)>1?m.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var r1=Symbol("radix.slottable");function n1(e){const t=({children:r})=>d.jsx(d.Fragment,{children:r});return t.displayName=`${e}.Slottable`,t.__radixId=r1,t}function bj(e){return m.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===r1}function _j(e,t){const r={...t};for(const n in t){const s=e[n],i=t[n];/^on[A-Z]/.test(n)?s&&i?r[n]=(...a)=>{const l=i(...a);return s(...a),l}:s&&(r[n]=s):n==="style"?r[n]={...s,...i}:n==="className"&&(r[n]=[s,i].filter(Boolean).join(" "))}return{...e,...r}}function Sj(e){var n,s;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}function Mg(e){const t=e+"CollectionProvider",[r,n]=yr(t),[s,i]=r(t,{collectionRef:{current:null},itemMap:new Map}),o=v=>{const{scope:y,children:g}=v,w=Y.useRef(null),b=Y.useRef(new Map).current;return d.jsx(s,{scope:y,itemMap:b,collectionRef:w,children:g})};o.displayName=t;const a=e+"CollectionSlot",l=Uo(a),c=Y.forwardRef((v,y)=>{const{scope:g,children:w}=v,b=i(a,g),_=De(y,b.collectionRef);return d.jsx(l,{ref:_,children:w})});c.displayName=a;const u=e+"CollectionItemSlot",f="data-radix-collection-item",p=Uo(u),h=Y.forwardRef((v,y)=>{const{scope:g,children:w,...b}=v,_=Y.useRef(null),S=De(y,_),C=i(u,g);return Y.useEffect(()=>(C.itemMap.set(_,{ref:_,...b}),()=>void C.itemMap.delete(_))),d.jsx(p,{[f]:"",ref:S,children:w})});h.displayName=u;function x(v){const y=i(e+"CollectionConsumer",v);return Y.useCallback(()=>{const w=y.collectionRef.current;if(!w)return[];const b=Array.from(w.querySelectorAll(`[${f}]`));return Array.from(y.itemMap.values()).sort((C,E)=>b.indexOf(C.ref.current)-b.indexOf(E.ref.current))},[y.collectionRef,y.itemMap])}return[{Provider:o,Slot:c,ItemSlot:h},x,n]}var kj=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],be=kj.reduce((e,t)=>{const r=Uo(`Primitive.${t}`),n=m.forwardRef((s,i)=>{const{asChild:o,...a}=s,l=o?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),d.jsx(l,{...a,ref:i})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{});function $g(e,t){e&&$l.flushSync(()=>e.dispatchEvent(t))}function st(e){const t=m.useRef(e);return m.useEffect(()=>{t.current=e}),m.useMemo(()=>(...r)=>{var n;return(n=t.current)==null?void 0:n.call(t,...r)},[])}function Ej(e,t=globalThis==null?void 0:globalThis.document){const r=st(e);m.useEffect(()=>{const n=s=>{s.key==="Escape"&&r(s)};return t.addEventListener("keydown",n,{capture:!0}),()=>t.removeEventListener("keydown",n,{capture:!0})},[r,t])}var Cj="DismissableLayer",Sp="dismissableLayer.update",Nj="dismissableLayer.pointerDownOutside",Tj="dismissableLayer.focusOutside",m0,s1=m.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Ll=m.forwardRef((e,t)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:s,onFocusOutside:i,onInteractOutside:o,onDismiss:a,...l}=e,c=m.useContext(s1),[u,f]=m.useState(null),p=(u==null?void 0:u.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,h]=m.useState({}),x=De(t,E=>f(E)),v=Array.from(c.layers),[y]=[...c.layersWithOutsidePointerEventsDisabled].slice(-1),g=v.indexOf(y),w=u?v.indexOf(u):-1,b=c.layersWithOutsidePointerEventsDisabled.size>0,_=w>=g,S=jj(E=>{const R=E.target,P=[...c.branches].some(D=>D.contains(R));!_||P||(s==null||s(E),o==null||o(E),E.defaultPrevented||a==null||a())},p),C=Aj(E=>{const R=E.target;[...c.branches].some(D=>D.contains(R))||(i==null||i(E),o==null||o(E),E.defaultPrevented||a==null||a())},p);return Ej(E=>{w===c.layers.size-1&&(n==null||n(E),!E.defaultPrevented&&a&&(E.preventDefault(),a()))},p),m.useEffect(()=>{if(u)return r&&(c.layersWithOutsidePointerEventsDisabled.size===0&&(m0=p.body.style.pointerEvents,p.body.style.pointerEvents="none"),c.layersWithOutsidePointerEventsDisabled.add(u)),c.layers.add(u),g0(),()=>{r&&c.layersWithOutsidePointerEventsDisabled.size===1&&(p.body.style.pointerEvents=m0)}},[u,p,r,c]),m.useEffect(()=>()=>{u&&(c.layers.delete(u),c.layersWithOutsidePointerEventsDisabled.delete(u),g0())},[u,c]),m.useEffect(()=>{const E=()=>h({});return document.addEventListener(Sp,E),()=>document.removeEventListener(Sp,E)},[]),d.jsx(be.div,{...l,ref:x,style:{pointerEvents:b?_?"auto":"none":void 0,...e.style},onFocusCapture:oe(e.onFocusCapture,C.onFocusCapture),onBlurCapture:oe(e.onBlurCapture,C.onBlurCapture),onPointerDownCapture:oe(e.onPointerDownCapture,S.onPointerDownCapture)})});Ll.displayName=Cj;var Rj="DismissableLayerBranch",i1=m.forwardRef((e,t)=>{const r=m.useContext(s1),n=m.useRef(null),s=De(t,n);return m.useEffect(()=>{const i=n.current;if(i)return r.branches.add(i),()=>{r.branches.delete(i)}},[r.branches]),d.jsx(be.div,{...e,ref:s})});i1.displayName=Rj;function jj(e,t=globalThis==null?void 0:globalThis.document){const r=st(e),n=m.useRef(!1),s=m.useRef(()=>{});return m.useEffect(()=>{const i=a=>{if(a.target&&!n.current){let l=function(){o1(Nj,r,c,{discrete:!0})};const c={originalEvent:a};a.pointerType==="touch"?(t.removeEventListener("click",s.current),s.current=l,t.addEventListener("click",s.current,{once:!0})):l()}else t.removeEventListener("click",s.current);n.current=!1},o=window.setTimeout(()=>{t.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),t.removeEventListener("pointerdown",i),t.removeEventListener("click",s.current)}},[t,r]),{onPointerDownCapture:()=>n.current=!0}}function Aj(e,t=globalThis==null?void 0:globalThis.document){const r=st(e),n=m.useRef(!1);return m.useEffect(()=>{const s=i=>{i.target&&!n.current&&o1(Tj,r,{originalEvent:i},{discrete:!1})};return t.addEventListener("focusin",s),()=>t.removeEventListener("focusin",s)},[t,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function g0(){const e=new CustomEvent(Sp);document.dispatchEvent(e)}function o1(e,t,r,{discrete:n}){const s=r.originalEvent.target,i=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&s.addEventListener(e,t,{once:!0}),n?$g(s,i):s.dispatchEvent(i)}var Pj=Ll,Oj=i1,rn=globalThis!=null&&globalThis.document?m.useLayoutEffect:()=>{},Dj="Portal",Od=m.forwardRef((e,t)=>{var a;const{container:r,...n}=e,[s,i]=m.useState(!1);rn(()=>i(!0),[]);const o=r||s&&((a=globalThis==null?void 0:globalThis.document)==null?void 0:a.body);return o?e1.createPortal(d.jsx(be.div,{...n,ref:t}),o):null});Od.displayName=Dj;function Ij(e,t){return m.useReducer((r,n)=>t[r][n]??r,e)}var It=e=>{const{present:t,children:r}=e,n=Mj(t),s=typeof r=="function"?r({present:n.isPresent}):m.Children.only(r),i=De(n.ref,$j(s));return typeof r=="function"||n.isPresent?m.cloneElement(s,{ref:i}):null};It.displayName="Presence";function Mj(e){const[t,r]=m.useState(),n=m.useRef(null),s=m.useRef(e),i=m.useRef("none"),o=e?"mounted":"unmounted",[a,l]=Ij(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return m.useEffect(()=>{const c=kc(n.current);i.current=a==="mounted"?c:"none"},[a]),rn(()=>{const c=n.current,u=s.current;if(u!==e){const p=i.current,h=kc(c);e?l("MOUNT"):h==="none"||(c==null?void 0:c.display)==="none"?l("UNMOUNT"):l(u&&p!==h?"ANIMATION_OUT":"UNMOUNT"),s.current=e}},[e,l]),rn(()=>{if(t){let c;const u=t.ownerDocument.defaultView??window,f=h=>{const v=kc(n.current).includes(h.animationName);if(h.target===t&&v&&(l("ANIMATION_END"),!s.current)){const y=t.style.animationFillMode;t.style.animationFillMode="forwards",c=u.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=y)})}},p=h=>{h.target===t&&(i.current=kc(n.current))};return t.addEventListener("animationstart",p),t.addEventListener("animationcancel",f),t.addEventListener("animationend",f),()=>{u.clearTimeout(c),t.removeEventListener("animationstart",p),t.removeEventListener("animationcancel",f),t.removeEventListener("animationend",f)}}else l("ANIMATION_END")},[t,l]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:m.useCallback(c=>{n.current=c?getComputedStyle(c):null,r(c)},[])}}function kc(e){return(e==null?void 0:e.animationName)||"none"}function $j(e){var n,s;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var Lj=Vm[" useInsertionEffect ".trim().toString()]||rn;function Ti({prop:e,defaultProp:t,onChange:r=()=>{},caller:n}){const[s,i,o]=Fj({defaultProp:t,onChange:r}),a=e!==void 0,l=a?e:s;{const u=m.useRef(e!==void 0);m.useEffect(()=>{const f=u.current;f!==a&&console.warn(`${n} is changing from ${f?"controlled":"uncontrolled"} to ${a?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),u.current=a},[a,n])}const c=m.useCallback(u=>{var f;if(a){const p=Uj(u)?u(e):u;p!==e&&((f=o.current)==null||f.call(o,p))}else i(u)},[a,e,i,o]);return[l,c]}function Fj({defaultProp:e,onChange:t}){const[r,n]=m.useState(e),s=m.useRef(r),i=m.useRef(t);return Lj(()=>{i.current=t},[t]),m.useEffect(()=>{var o;s.current!==r&&((o=i.current)==null||o.call(i,r),s.current=r)},[r,s]),[r,n,i]}function Uj(e){return typeof e=="function"}var zj=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),Bj="VisuallyHidden",Dd=m.forwardRef((e,t)=>d.jsx(be.span,{...e,ref:t,style:{...zj,...e.style}}));Dd.displayName=Bj;var Wj=Dd,Lg="ToastProvider",[Fg,Vj,qj]=Mg("Toast"),[a1,zB]=yr("Toast",[qj]),[Kj,Id]=a1(Lg),l1=e=>{const{__scopeToast:t,label:r="Notification",duration:n=5e3,swipeDirection:s="right",swipeThreshold:i=50,children:o}=e,[a,l]=m.useState(null),[c,u]=m.useState(0),f=m.useRef(!1),p=m.useRef(!1);return r.trim()||console.error(`Invalid prop \`label\` supplied to \`${Lg}\`. Expected non-empty \`string\`.`),d.jsx(Fg.Provider,{scope:t,children:d.jsx(Kj,{scope:t,label:r,duration:n,swipeDirection:s,swipeThreshold:i,toastCount:c,viewport:a,onViewportChange:l,onToastAdd:m.useCallback(()=>u(h=>h+1),[]),onToastRemove:m.useCallback(()=>u(h=>h-1),[]),isFocusedToastEscapeKeyDownRef:f,isClosePausedRef:p,children:o})})};l1.displayName=Lg;var c1="ToastViewport",Hj=["F8"],kp="toast.viewportPause",Ep="toast.viewportResume",u1=m.forwardRef((e,t)=>{const{__scopeToast:r,hotkey:n=Hj,label:s="Notifications ({hotkey})",...i}=e,o=Id(c1,r),a=Vj(r),l=m.useRef(null),c=m.useRef(null),u=m.useRef(null),f=m.useRef(null),p=De(t,f,o.onViewportChange),h=n.join("+").replace(/Key/g,"").replace(/Digit/g,""),x=o.toastCount>0;m.useEffect(()=>{const y=g=>{var b;n.length!==0&&n.every(_=>g[_]||g.code===_)&&((b=f.current)==null||b.focus())};return document.addEventListener("keydown",y),()=>document.removeEventListener("keydown",y)},[n]),m.useEffect(()=>{const y=l.current,g=f.current;if(x&&y&&g){const w=()=>{if(!o.isClosePausedRef.current){const C=new CustomEvent(kp);g.dispatchEvent(C),o.isClosePausedRef.current=!0}},b=()=>{if(o.isClosePausedRef.current){const C=new CustomEvent(Ep);g.dispatchEvent(C),o.isClosePausedRef.current=!1}},_=C=>{!y.contains(C.relatedTarget)&&b()},S=()=>{y.contains(document.activeElement)||b()};return y.addEventListener("focusin",w),y.addEventListener("focusout",_),y.addEventListener("pointermove",w),y.addEventListener("pointerleave",S),window.addEventListener("blur",w),window.addEventListener("focus",b),()=>{y.removeEventListener("focusin",w),y.removeEventListener("focusout",_),y.removeEventListener("pointermove",w),y.removeEventListener("pointerleave",S),window.removeEventListener("blur",w),window.removeEventListener("focus",b)}}},[x,o.isClosePausedRef]);const v=m.useCallback(({tabbingDirection:y})=>{const w=a().map(b=>{const _=b.ref.current,S=[_,...oA(_)];return y==="forwards"?S:S.reverse()});return(y==="forwards"?w.reverse():w).flat()},[a]);return m.useEffect(()=>{const y=f.current;if(y){const g=w=>{var S,C,E;const b=w.altKey||w.ctrlKey||w.metaKey;if(w.key==="Tab"&&!b){const R=document.activeElement,P=w.shiftKey;if(w.target===y&&P){(S=c.current)==null||S.focus();return}const B=v({tabbingDirection:P?"backwards":"forwards"}),Z=B.findIndex(N=>N===R);Jf(B.slice(Z+1))?w.preventDefault():P?(C=c.current)==null||C.focus():(E=u.current)==null||E.focus()}};return y.addEventListener("keydown",g),()=>y.removeEventListener("keydown",g)}},[a,v]),d.jsxs(Oj,{ref:l,role:"region","aria-label":s.replace("{hotkey}",h),tabIndex:-1,style:{pointerEvents:x?void 0:"none"},children:[x&&d.jsx(Cp,{ref:c,onFocusFromOutsideViewport:()=>{const y=v({tabbingDirection:"forwards"});Jf(y)}}),d.jsx(Fg.Slot,{scope:r,children:d.jsx(be.ol,{tabIndex:-1,...i,ref:p})}),x&&d.jsx(Cp,{ref:u,onFocusFromOutsideViewport:()=>{const y=v({tabbingDirection:"backwards"});Jf(y)}})]})});u1.displayName=c1;var d1="ToastFocusProxy",Cp=m.forwardRef((e,t)=>{const{__scopeToast:r,onFocusFromOutsideViewport:n,...s}=e,i=Id(d1,r);return d.jsx(Dd,{"aria-hidden":!0,tabIndex:0,...s,ref:t,style:{position:"fixed"},onFocus:o=>{var c;const a=o.relatedTarget;!((c=i.viewport)!=null&&c.contains(a))&&n()}})});Cp.displayName=d1;var Fl="Toast",Gj="toast.swipeStart",Qj="toast.swipeMove",Yj="toast.swipeCancel",Zj="toast.swipeEnd",f1=m.forwardRef((e,t)=>{const{forceMount:r,open:n,defaultOpen:s,onOpenChange:i,...o}=e,[a,l]=Ti({prop:n,defaultProp:s??!0,onChange:i,caller:Fl});return d.jsx(It,{present:r||a,children:d.jsx(eA,{open:a,...o,ref:t,onClose:()=>l(!1),onPause:st(e.onPause),onResume:st(e.onResume),onSwipeStart:oe(e.onSwipeStart,c=>{c.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:oe(e.onSwipeMove,c=>{const{x:u,y:f}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","move"),c.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${u}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${f}px`)}),onSwipeCancel:oe(e.onSwipeCancel,c=>{c.currentTarget.setAttribute("data-swipe","cancel"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:oe(e.onSwipeEnd,c=>{const{x:u,y:f}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","end"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${u}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${f}px`),l(!1)})})})});f1.displayName=Fl;var[Xj,Jj]=a1(Fl,{onClose(){}}),eA=m.forwardRef((e,t)=>{const{__scopeToast:r,type:n="foreground",duration:s,open:i,onClose:o,onEscapeKeyDown:a,onPause:l,onResume:c,onSwipeStart:u,onSwipeMove:f,onSwipeCancel:p,onSwipeEnd:h,...x}=e,v=Id(Fl,r),[y,g]=m.useState(null),w=De(t,N=>g(N)),b=m.useRef(null),_=m.useRef(null),S=s||v.duration,C=m.useRef(0),E=m.useRef(S),R=m.useRef(0),{onToastAdd:P,onToastRemove:D}=v,W=st(()=>{var L;(y==null?void 0:y.contains(document.activeElement))&&((L=v.viewport)==null||L.focus()),o()}),B=m.useCallback(N=>{!N||N===1/0||(window.clearTimeout(R.current),C.current=new Date().getTime(),R.current=window.setTimeout(W,N))},[W]);m.useEffect(()=>{const N=v.viewport;if(N){const L=()=>{B(E.current),c==null||c()},O=()=>{const $=new Date().getTime()-C.current;E.current=E.current-$,window.clearTimeout(R.current),l==null||l()};return N.addEventListener(kp,O),N.addEventListener(Ep,L),()=>{N.removeEventListener(kp,O),N.removeEventListener(Ep,L)}}},[v.viewport,S,l,c,B]),m.useEffect(()=>{i&&!v.isClosePausedRef.current&&B(S)},[i,S,v.isClosePausedRef,B]),m.useEffect(()=>(P(),()=>D()),[P,D]);const Z=m.useMemo(()=>y?w1(y):null,[y]);return v.viewport?d.jsxs(d.Fragment,{children:[Z&&d.jsx(tA,{__scopeToast:r,role:"status","aria-live":n==="foreground"?"assertive":"polite","aria-atomic":!0,children:Z}),d.jsx(Xj,{scope:r,onClose:W,children:$l.createPortal(d.jsx(Fg.ItemSlot,{scope:r,children:d.jsx(Pj,{asChild:!0,onEscapeKeyDown:oe(a,()=>{v.isFocusedToastEscapeKeyDownRef.current||W(),v.isFocusedToastEscapeKeyDownRef.current=!1}),children:d.jsx(be.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":i?"open":"closed","data-swipe-direction":v.swipeDirection,...x,ref:w,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:oe(e.onKeyDown,N=>{N.key==="Escape"&&(a==null||a(N.nativeEvent),N.nativeEvent.defaultPrevented||(v.isFocusedToastEscapeKeyDownRef.current=!0,W()))}),onPointerDown:oe(e.onPointerDown,N=>{N.button===0&&(b.current={x:N.clientX,y:N.clientY})}),onPointerMove:oe(e.onPointerMove,N=>{if(!b.current)return;const L=N.clientX-b.current.x,O=N.clientY-b.current.y,$=!!_.current,j=["left","right"].includes(v.swipeDirection),k=["left","up"].includes(v.swipeDirection)?Math.min:Math.max,A=j?k(0,L):0,U=j?0:k(0,O),M=N.pointerType==="touch"?10:2,Q={x:A,y:U},q={originalEvent:N,delta:Q};$?(_.current=Q,Ec(Qj,f,q,{discrete:!1})):v0(Q,v.swipeDirection,M)?(_.current=Q,Ec(Gj,u,q,{discrete:!1}),N.target.setPointerCapture(N.pointerId)):(Math.abs(L)>M||Math.abs(O)>M)&&(b.current=null)}),onPointerUp:oe(e.onPointerUp,N=>{const L=_.current,O=N.target;if(O.hasPointerCapture(N.pointerId)&&O.releasePointerCapture(N.pointerId),_.current=null,b.current=null,L){const $=N.currentTarget,j={originalEvent:N,delta:L};v0(L,v.swipeDirection,v.swipeThreshold)?Ec(Zj,h,j,{discrete:!0}):Ec(Yj,p,j,{discrete:!0}),$.addEventListener("click",k=>k.preventDefault(),{once:!0})}})})})}),v.viewport)})]}):null}),tA=e=>{const{__scopeToast:t,children:r,...n}=e,s=Id(Fl,t),[i,o]=m.useState(!1),[a,l]=m.useState(!1);return sA(()=>o(!0)),m.useEffect(()=>{const c=window.setTimeout(()=>l(!0),1e3);return()=>window.clearTimeout(c)},[]),a?null:d.jsx(Od,{asChild:!0,children:d.jsx(Dd,{...n,children:i&&d.jsxs(d.Fragment,{children:[s.label," ",r]})})})},rA="ToastTitle",h1=m.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e;return d.jsx(be.div,{...n,ref:t})});h1.displayName=rA;var nA="ToastDescription",p1=m.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e;return d.jsx(be.div,{...n,ref:t})});p1.displayName=nA;var m1="ToastAction",g1=m.forwardRef((e,t)=>{const{altText:r,...n}=e;return r.trim()?d.jsx(y1,{altText:r,asChild:!0,children:d.jsx(Ug,{...n,ref:t})}):(console.error(`Invalid prop \`altText\` supplied to \`${m1}\`. Expected non-empty \`string\`.`),null)});g1.displayName=m1;var v1="ToastClose",Ug=m.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e,s=Jj(v1,r);return d.jsx(y1,{asChild:!0,children:d.jsx(be.button,{type:"button",...n,ref:t,onClick:oe(e.onClick,s.onClose)})})});Ug.displayName=v1;var y1=m.forwardRef((e,t)=>{const{__scopeToast:r,altText:n,...s}=e;return d.jsx(be.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":n||void 0,...s,ref:t})});function w1(e){const t=[];return Array.from(e.childNodes).forEach(n=>{if(n.nodeType===n.TEXT_NODE&&n.textContent&&t.push(n.textContent),iA(n)){const s=n.ariaHidden||n.hidden||n.style.display==="none",i=n.dataset.radixToastAnnounceExclude==="";if(!s)if(i){const o=n.dataset.radixToastAnnounceAlt;o&&t.push(o)}else t.push(...w1(n))}}),t}function Ec(e,t,r,{discrete:n}){const s=r.originalEvent.currentTarget,i=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:r});t&&s.addEventListener(e,t,{once:!0}),n?$g(s,i):s.dispatchEvent(i)}var v0=(e,t,r=0)=>{const n=Math.abs(e.x),s=Math.abs(e.y),i=n>s;return t==="left"||t==="right"?i&&n>r:!i&&s>r};function sA(e=()=>{}){const t=st(e);rn(()=>{let r=0,n=0;return r=window.requestAnimationFrame(()=>n=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(r),window.cancelAnimationFrame(n)}},[t])}function iA(e){return e.nodeType===e.ELEMENT_NODE}function oA(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const s=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||s?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function Jf(e){const t=document.activeElement;return e.some(r=>r===t?!0:(r.focus(),document.activeElement!==t))}var aA=l1,x1=u1,b1=f1,_1=h1,S1=p1,k1=g1,E1=Ug;function C1(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(r=C1(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function N1(){for(var e,t,r=0,n="",s=arguments.length;r<s;r++)(e=arguments[r])&&(t=C1(e))&&(n&&(n+=" "),n+=t);return n}const y0=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,w0=N1,Ul=(e,t)=>r=>{var n;if((t==null?void 0:t.variants)==null)return w0(e,r==null?void 0:r.class,r==null?void 0:r.className);const{variants:s,defaultVariants:i}=t,o=Object.keys(s).map(c=>{const u=r==null?void 0:r[c],f=i==null?void 0:i[c];if(u===null)return null;const p=y0(u)||y0(f);return s[c][p]}),a=r&&Object.entries(r).reduce((c,u)=>{let[f,p]=u;return p===void 0||(c[f]=p),c},{}),l=t==null||(n=t.compoundVariants)===null||n===void 0?void 0:n.reduce((c,u)=>{let{class:f,className:p,...h}=u;return Object.entries(h).every(x=>{let[v,y]=x;return Array.isArray(y)?y.includes({...i,...a}[v]):{...i,...a}[v]===y})?[...c,f,p]:c},[]);return w0(e,o,l,r==null?void 0:r.class,r==null?void 0:r.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lA=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),T1=(...e)=>e.filter((t,r,n)=>!!t&&t.trim()!==""&&n.indexOf(t)===r).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var cA={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uA=m.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:s="",children:i,iconNode:o,...a},l)=>m.createElement("svg",{ref:l,...cA,width:t,height:t,stroke:e,strokeWidth:n?Number(r)*24/Number(t):r,className:T1("lucide",s),...a},[...o.map(([c,u])=>m.createElement(c,u)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ne=(e,t)=>{const r=m.forwardRef(({className:n,...s},i)=>m.createElement(uA,{ref:i,iconNode:t,className:T1(`lucide-${lA(e)}`,n),...s}));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const il=Ne("Anchor",[["path",{d:"M12 22V8",key:"qkxhtm"}],["path",{d:"M5 12H2a10 10 0 0 0 20 0h-3",key:"1hv3nh"}],["circle",{cx:"12",cy:"5",r:"3",key:"rqqgnr"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dA=Ne("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x0=Ne("BookOpen",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zo=Ne("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fA=Ne("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hA=Ne("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R1=Ne("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pA=Ne("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j1=Ne("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Np=Ne("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mA=Ne("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lu=Ne("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A1=Ne("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gA=Ne("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P1=Ne("Layers",[["path",{d:"m12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83Z",key:"8b97xw"}],["path",{d:"m22 17.65-9.17 4.16a2 2 0 0 1-1.66 0L2 17.65",key:"dd6zsq"}],["path",{d:"m22 12.65-9.17 4.16a2 2 0 0 1-1.66 0L2 12.65",key:"ep9fru"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bn=Ne("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tp=Ne("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vA=Ne("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yA=Ne("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wA=Ne("PanelLeftClose",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"m16 15-3-3 3-3",key:"14y99z"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xA=Ne("PanelLeft",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M9 3v18",key:"fh3hqa"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fu=Ne("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bA=Ne("Quote",[["path",{d:"M16 3a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2 1 1 0 0 1 1 1v1a2 2 0 0 1-2 2 1 1 0 0 0-1 1v2a1 1 0 0 0 1 1 6 6 0 0 0 6-6V5a2 2 0 0 0-2-2z",key:"rib7q0"}],["path",{d:"M5 3a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2 1 1 0 0 1 1 1v1a2 2 0 0 1-2 2 1 1 0 0 0-1 1v2a1 1 0 0 0 1 1 6 6 0 0 0 6-6V5a2 2 0 0 0-2-2z",key:"1ymkrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _A=Ne("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SA=Ne("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cc=Ne("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O1=Ne("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zg=Ne("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D1=Ne("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I1=Ne("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ol=Ne("Waves",[["path",{d:"M2 6c.6.5 1.2 1 2.5 1C7 7 7 5 9.5 5c2.6 0 2.4 2 5 2 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1",key:"knzxuh"}],["path",{d:"M2 12c.6.5 1.2 1 2.5 1 2.5 0 2.5-2 5-2 2.6 0 2.4 2 5 2 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1",key:"2jd2cc"}],["path",{d:"M2 18c.6.5 1.2 1 2.5 1 2.5 0 2.5-2 5-2 2.6 0 2.4 2 5 2 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1",key:"rd2r6e"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bg=Ne("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zl=Ne("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kA=Ne("ZoomIn",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"11",x2:"11",y1:"8",y2:"14",key:"1vmskp"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EA=Ne("ZoomOut",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]]),Wg="-",CA=e=>{const t=TA(e),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=e;return{getClassGroupId:o=>{const a=o.split(Wg);return a[0]===""&&a.length!==1&&a.shift(),M1(a,t)||NA(o)},getConflictingClassGroupIds:(o,a)=>{const l=r[o]||[];return a&&n[o]?[...l,...n[o]]:l}}},M1=(e,t)=>{var o;if(e.length===0)return t.classGroupId;const r=e[0],n=t.nextPart.get(r),s=n?M1(e.slice(1),n):void 0;if(s)return s;if(t.validators.length===0)return;const i=e.join(Wg);return(o=t.validators.find(({validator:a})=>a(i)))==null?void 0:o.classGroupId},b0=/^\[(.+)\]$/,NA=e=>{if(b0.test(e)){const t=b0.exec(e)[1],r=t==null?void 0:t.substring(0,t.indexOf(":"));if(r)return"arbitrary.."+r}},TA=e=>{const{theme:t,prefix:r}=e,n={nextPart:new Map,validators:[]};return jA(Object.entries(e.classGroups),r).forEach(([i,o])=>{Rp(o,n,i,t)}),n},Rp=(e,t,r,n)=>{e.forEach(s=>{if(typeof s=="string"){const i=s===""?t:_0(t,s);i.classGroupId=r;return}if(typeof s=="function"){if(RA(s)){Rp(s(n),t,r,n);return}t.validators.push({validator:s,classGroupId:r});return}Object.entries(s).forEach(([i,o])=>{Rp(o,_0(t,i),r,n)})})},_0=(e,t)=>{let r=e;return t.split(Wg).forEach(n=>{r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r},RA=e=>e.isThemeGetter,jA=(e,t)=>t?e.map(([r,n])=>{const s=n.map(i=>typeof i=="string"?t+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([o,a])=>[t+o,a])):i);return[r,s]}):e,AA=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,r=new Map,n=new Map;const s=(i,o)=>{r.set(i,o),t++,t>e&&(t=0,n=r,r=new Map)};return{get(i){let o=r.get(i);if(o!==void 0)return o;if((o=n.get(i))!==void 0)return s(i,o),o},set(i,o){r.has(i)?r.set(i,o):s(i,o)}}},$1="!",PA=e=>{const{separator:t,experimentalParseClassName:r}=e,n=t.length===1,s=t[0],i=t.length,o=a=>{const l=[];let c=0,u=0,f;for(let y=0;y<a.length;y++){let g=a[y];if(c===0){if(g===s&&(n||a.slice(y,y+i)===t)){l.push(a.slice(u,y)),u=y+i;continue}if(g==="/"){f=y;continue}}g==="["?c++:g==="]"&&c--}const p=l.length===0?a:a.substring(u),h=p.startsWith($1),x=h?p.substring(1):p,v=f&&f>u?f-u:void 0;return{modifiers:l,hasImportantModifier:h,baseClassName:x,maybePostfixModifierPosition:v}};return r?a=>r({className:a,parseClassName:o}):o},OA=e=>{if(e.length<=1)return e;const t=[];let r=[];return e.forEach(n=>{n[0]==="["?(t.push(...r.sort(),n),r=[]):r.push(n)}),t.push(...r.sort()),t},DA=e=>({cache:AA(e.cacheSize),parseClassName:PA(e),...CA(e)}),IA=/\s+/,MA=(e,t)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:s}=t,i=[],o=e.trim().split(IA);let a="";for(let l=o.length-1;l>=0;l-=1){const c=o[l],{modifiers:u,hasImportantModifier:f,baseClassName:p,maybePostfixModifierPosition:h}=r(c);let x=!!h,v=n(x?p.substring(0,h):p);if(!v){if(!x){a=c+(a.length>0?" "+a:a);continue}if(v=n(p),!v){a=c+(a.length>0?" "+a:a);continue}x=!1}const y=OA(u).join(":"),g=f?y+$1:y,w=g+v;if(i.includes(w))continue;i.push(w);const b=s(v,x);for(let _=0;_<b.length;++_){const S=b[_];i.push(g+S)}a=c+(a.length>0?" "+a:a)}return a};function $A(){let e=0,t,r,n="";for(;e<arguments.length;)(t=arguments[e++])&&(r=L1(t))&&(n&&(n+=" "),n+=r);return n}const L1=e=>{if(typeof e=="string")return e;let t,r="";for(let n=0;n<e.length;n++)e[n]&&(t=L1(e[n]))&&(r&&(r+=" "),r+=t);return r};function LA(e,...t){let r,n,s,i=o;function o(l){const c=t.reduce((u,f)=>f(u),e());return r=DA(c),n=r.cache.get,s=r.cache.set,i=a,a(l)}function a(l){const c=n(l);if(c)return c;const u=MA(l,r);return s(l,u),u}return function(){return i($A.apply(null,arguments))}}const Ue=e=>{const t=r=>r[e]||[];return t.isThemeGetter=!0,t},F1=/^\[(?:([a-z-]+):)?(.+)\]$/i,FA=/^\d+\/\d+$/,UA=new Set(["px","full","screen"]),zA=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,BA=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,WA=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,VA=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,qA=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,un=e=>mo(e)||UA.has(e)||FA.test(e),Bn=e=>ta(e,"length",JA),mo=e=>!!e&&!Number.isNaN(Number(e)),eh=e=>ta(e,"number",mo),ma=e=>!!e&&Number.isInteger(Number(e)),KA=e=>e.endsWith("%")&&mo(e.slice(0,-1)),we=e=>F1.test(e),Wn=e=>zA.test(e),HA=new Set(["length","size","percentage"]),GA=e=>ta(e,HA,U1),QA=e=>ta(e,"position",U1),YA=new Set(["image","url"]),ZA=e=>ta(e,YA,t2),XA=e=>ta(e,"",e2),ga=()=>!0,ta=(e,t,r)=>{const n=F1.exec(e);return n?n[1]?typeof t=="string"?n[1]===t:t.has(n[1]):r(n[2]):!1},JA=e=>BA.test(e)&&!WA.test(e),U1=()=>!1,e2=e=>VA.test(e),t2=e=>qA.test(e),r2=()=>{const e=Ue("colors"),t=Ue("spacing"),r=Ue("blur"),n=Ue("brightness"),s=Ue("borderColor"),i=Ue("borderRadius"),o=Ue("borderSpacing"),a=Ue("borderWidth"),l=Ue("contrast"),c=Ue("grayscale"),u=Ue("hueRotate"),f=Ue("invert"),p=Ue("gap"),h=Ue("gradientColorStops"),x=Ue("gradientColorStopPositions"),v=Ue("inset"),y=Ue("margin"),g=Ue("opacity"),w=Ue("padding"),b=Ue("saturate"),_=Ue("scale"),S=Ue("sepia"),C=Ue("skew"),E=Ue("space"),R=Ue("translate"),P=()=>["auto","contain","none"],D=()=>["auto","hidden","clip","visible","scroll"],W=()=>["auto",we,t],B=()=>[we,t],Z=()=>["",un,Bn],N=()=>["auto",mo,we],L=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],O=()=>["solid","dashed","dotted","double","none"],$=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],j=()=>["start","end","center","between","around","evenly","stretch"],k=()=>["","0",we],A=()=>["auto","avoid","all","avoid-page","page","left","right","column"],U=()=>[mo,we];return{cacheSize:500,separator:":",theme:{colors:[ga],spacing:[un,Bn],blur:["none","",Wn,we],brightness:U(),borderColor:[e],borderRadius:["none","","full",Wn,we],borderSpacing:B(),borderWidth:Z(),contrast:U(),grayscale:k(),hueRotate:U(),invert:k(),gap:B(),gradientColorStops:[e],gradientColorStopPositions:[KA,Bn],inset:W(),margin:W(),opacity:U(),padding:B(),saturate:U(),scale:U(),sepia:k(),skew:U(),space:B(),translate:B()},classGroups:{aspect:[{aspect:["auto","square","video",we]}],container:["container"],columns:[{columns:[Wn]}],"break-after":[{"break-after":A()}],"break-before":[{"break-before":A()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...L(),we]}],overflow:[{overflow:D()}],"overflow-x":[{"overflow-x":D()}],"overflow-y":[{"overflow-y":D()}],overscroll:[{overscroll:P()}],"overscroll-x":[{"overscroll-x":P()}],"overscroll-y":[{"overscroll-y":P()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[v]}],"inset-x":[{"inset-x":[v]}],"inset-y":[{"inset-y":[v]}],start:[{start:[v]}],end:[{end:[v]}],top:[{top:[v]}],right:[{right:[v]}],bottom:[{bottom:[v]}],left:[{left:[v]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",ma,we]}],basis:[{basis:W()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",we]}],grow:[{grow:k()}],shrink:[{shrink:k()}],order:[{order:["first","last","none",ma,we]}],"grid-cols":[{"grid-cols":[ga]}],"col-start-end":[{col:["auto",{span:["full",ma,we]},we]}],"col-start":[{"col-start":N()}],"col-end":[{"col-end":N()}],"grid-rows":[{"grid-rows":[ga]}],"row-start-end":[{row:["auto",{span:[ma,we]},we]}],"row-start":[{"row-start":N()}],"row-end":[{"row-end":N()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",we]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",we]}],gap:[{gap:[p]}],"gap-x":[{"gap-x":[p]}],"gap-y":[{"gap-y":[p]}],"justify-content":[{justify:["normal",...j()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...j(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...j(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[w]}],px:[{px:[w]}],py:[{py:[w]}],ps:[{ps:[w]}],pe:[{pe:[w]}],pt:[{pt:[w]}],pr:[{pr:[w]}],pb:[{pb:[w]}],pl:[{pl:[w]}],m:[{m:[y]}],mx:[{mx:[y]}],my:[{my:[y]}],ms:[{ms:[y]}],me:[{me:[y]}],mt:[{mt:[y]}],mr:[{mr:[y]}],mb:[{mb:[y]}],ml:[{ml:[y]}],"space-x":[{"space-x":[E]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[E]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",we,t]}],"min-w":[{"min-w":[we,t,"min","max","fit"]}],"max-w":[{"max-w":[we,t,"none","full","min","max","fit","prose",{screen:[Wn]},Wn]}],h:[{h:[we,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[we,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[we,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[we,t,"auto","min","max","fit"]}],"font-size":[{text:["base",Wn,Bn]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",eh]}],"font-family":[{font:[ga]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",we]}],"line-clamp":[{"line-clamp":["none",mo,eh]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",un,we]}],"list-image":[{"list-image":["none",we]}],"list-style-type":[{list:["none","disc","decimal",we]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[g]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[g]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...O(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",un,Bn]}],"underline-offset":[{"underline-offset":["auto",un,we]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:B()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",we]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",we]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[g]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...L(),QA]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",GA]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},ZA]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[x]}],"gradient-via-pos":[{via:[x]}],"gradient-to-pos":[{to:[x]}],"gradient-from":[{from:[h]}],"gradient-via":[{via:[h]}],"gradient-to":[{to:[h]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[g]}],"border-style":[{border:[...O(),"hidden"]}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[g]}],"divide-style":[{divide:O()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...O()]}],"outline-offset":[{"outline-offset":[un,we]}],"outline-w":[{outline:[un,Bn]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:Z()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[g]}],"ring-offset-w":[{"ring-offset":[un,Bn]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",Wn,XA]}],"shadow-color":[{shadow:[ga]}],opacity:[{opacity:[g]}],"mix-blend":[{"mix-blend":[...$(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":$()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[n]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",Wn,we]}],grayscale:[{grayscale:[c]}],"hue-rotate":[{"hue-rotate":[u]}],invert:[{invert:[f]}],saturate:[{saturate:[b]}],sepia:[{sepia:[S]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[n]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[c]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[u]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[g]}],"backdrop-saturate":[{"backdrop-saturate":[b]}],"backdrop-sepia":[{"backdrop-sepia":[S]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",we]}],duration:[{duration:U()}],ease:[{ease:["linear","in","out","in-out",we]}],delay:[{delay:U()}],animate:[{animate:["none","spin","ping","pulse","bounce",we]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[_]}],"scale-x":[{"scale-x":[_]}],"scale-y":[{"scale-y":[_]}],rotate:[{rotate:[ma,we]}],"translate-x":[{"translate-x":[R]}],"translate-y":[{"translate-y":[R]}],"skew-x":[{"skew-x":[C]}],"skew-y":[{"skew-y":[C]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",we]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",we]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":B()}],"scroll-mx":[{"scroll-mx":B()}],"scroll-my":[{"scroll-my":B()}],"scroll-ms":[{"scroll-ms":B()}],"scroll-me":[{"scroll-me":B()}],"scroll-mt":[{"scroll-mt":B()}],"scroll-mr":[{"scroll-mr":B()}],"scroll-mb":[{"scroll-mb":B()}],"scroll-ml":[{"scroll-ml":B()}],"scroll-p":[{"scroll-p":B()}],"scroll-px":[{"scroll-px":B()}],"scroll-py":[{"scroll-py":B()}],"scroll-ps":[{"scroll-ps":B()}],"scroll-pe":[{"scroll-pe":B()}],"scroll-pt":[{"scroll-pt":B()}],"scroll-pr":[{"scroll-pr":B()}],"scroll-pb":[{"scroll-pb":B()}],"scroll-pl":[{"scroll-pl":B()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",we]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[un,Bn,eh]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},n2=LA(r2);function K(...e){return n2(N1(e))}function s2(e){return encodeURIComponent(e).replace(/-/g,"%2D")}function i2(e){try{const t=new URL(e),r=t.pathname.split("/").filter(Boolean),n=r[r.length-1];return n?decodeURIComponent(n).replace(/_/g," "):t.hostname||e}catch{return e}}const o2=aA,z1=m.forwardRef(({className:e,...t},r)=>d.jsx(x1,{ref:r,className:K("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...t}));z1.displayName=x1.displayName;const a2=Ul("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),B1=m.forwardRef(({className:e,variant:t,...r},n)=>d.jsx(b1,{ref:n,className:K(a2({variant:t}),e),...r}));B1.displayName=b1.displayName;const l2=m.forwardRef(({className:e,...t},r)=>d.jsx(k1,{ref:r,className:K("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors group-[.destructive]:border-muted/40 hover:bg-secondary group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 group-[.destructive]:focus:ring-destructive disabled:pointer-events-none disabled:opacity-50",e),...t}));l2.displayName=k1.displayName;const W1=m.forwardRef(({className:e,...t},r)=>d.jsx(E1,{ref:r,className:K("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity group-hover:opacity-100 group-[.destructive]:text-red-300 hover:text-foreground group-[.destructive]:hover:text-red-50 focus:opacity-100 focus:outline-none focus:ring-2 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...t,children:d.jsx(Bg,{className:"h-4 w-4"})}));W1.displayName=E1.displayName;const V1=m.forwardRef(({className:e,...t},r)=>d.jsx(_1,{ref:r,className:K("text-sm font-semibold",e),...t}));V1.displayName=_1.displayName;const q1=m.forwardRef(({className:e,...t},r)=>d.jsx(S1,{ref:r,className:K("text-sm opacity-90",e),...t}));q1.displayName=S1.displayName;function c2(){const{toasts:e}=Ig();return d.jsxs(o2,{children:[e.map(function({id:t,title:r,description:n,action:s,...i}){return d.jsxs(B1,{...i,children:[d.jsxs("div",{className:"grid gap-1",children:[r&&d.jsx(V1,{children:r}),n&&d.jsx(q1,{children:n})]}),s,d.jsx(W1,{})]},t)}),d.jsx(z1,{})]})}var S0=["light","dark"],u2="(prefers-color-scheme: dark)",d2=m.createContext(void 0),f2={setTheme:e=>{},themes:[]},h2=()=>{var e;return(e=m.useContext(d2))!=null?e:f2};m.memo(({forcedTheme:e,storageKey:t,attribute:r,enableSystem:n,enableColorScheme:s,defaultTheme:i,value:o,attrs:a,nonce:l})=>{let c=i==="system",u=r==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${a.map(x=>`'${x}'`).join(",")})`};`:`var d=document.documentElement,n='${r}',s='setAttribute';`,f=s?S0.includes(i)&&i?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${i}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",p=(x,v=!1,y=!0)=>{let g=o?o[x]:x,w=v?x+"|| ''":`'${g}'`,b="";return s&&y&&!v&&S0.includes(x)&&(b+=`d.style.colorScheme = '${x}';`),r==="class"?v||g?b+=`c.add(${w})`:b+="null":g&&(b+=`d[s](n,${w})`),b},h=e?`!function(){${u}${p(e)}}()`:n?`!function(){try{${u}var e=localStorage.getItem('${t}');if('system'===e||(!e&&${c})){var t='${u2}',m=window.matchMedia(t);if(m.media!==t||m.matches){${p("dark")}}else{${p("light")}}}else if(e){${o?`var x=${JSON.stringify(o)};`:""}${p(o?"x[e]":"e",!0)}}${c?"":"else{"+p(i,!1,!1)+"}"}${f}}catch(e){}}()`:`!function(){try{${u}var e=localStorage.getItem('${t}');if(e){${o?`var x=${JSON.stringify(o)};`:""}${p(o?"x[e]":"e",!0)}}else{${p(i,!1,!1)};}${f}}catch(t){}}();`;return m.createElement("script",{nonce:l,dangerouslySetInnerHTML:{__html:h}})});var p2=e=>{switch(e){case"success":return v2;case"info":return w2;case"warning":return y2;case"error":return x2;default:return null}},m2=Array(12).fill(0),g2=({visible:e,className:t})=>Y.createElement("div",{className:["sonner-loading-wrapper",t].filter(Boolean).join(" "),"data-visible":e},Y.createElement("div",{className:"sonner-spinner"},m2.map((r,n)=>Y.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${n}`})))),v2=Y.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Y.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),y2=Y.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},Y.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),w2=Y.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Y.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),x2=Y.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Y.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),b2=Y.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},Y.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),Y.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),_2=()=>{let[e,t]=Y.useState(document.hidden);return Y.useEffect(()=>{let r=()=>{t(document.hidden)};return document.addEventListener("visibilitychange",r),()=>window.removeEventListener("visibilitychange",r)},[]),e},jp=1,S2=class{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{let t=this.subscribers.indexOf(e);this.subscribers.splice(t,1)}),this.publish=e=>{this.subscribers.forEach(t=>t(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var t;let{message:r,...n}=e,s=typeof(e==null?void 0:e.id)=="number"||((t=e.id)==null?void 0:t.length)>0?e.id:jp++,i=this.toasts.find(a=>a.id===s),o=e.dismissible===void 0?!0:e.dismissible;return this.dismissedToasts.has(s)&&this.dismissedToasts.delete(s),i?this.toasts=this.toasts.map(a=>a.id===s?(this.publish({...a,...e,id:s,title:r}),{...a,...e,id:s,dismissible:o,title:r}):a):this.addToast({title:r,...n,dismissible:o,id:s}),s},this.dismiss=e=>(this.dismissedToasts.add(e),e||this.toasts.forEach(t=>{this.subscribers.forEach(r=>r({id:t.id,dismiss:!0}))}),this.subscribers.forEach(t=>t({id:e,dismiss:!0})),e),this.message=(e,t)=>this.create({...t,message:e}),this.error=(e,t)=>this.create({...t,message:e,type:"error"}),this.success=(e,t)=>this.create({...t,type:"success",message:e}),this.info=(e,t)=>this.create({...t,type:"info",message:e}),this.warning=(e,t)=>this.create({...t,type:"warning",message:e}),this.loading=(e,t)=>this.create({...t,type:"loading",message:e}),this.promise=(e,t)=>{if(!t)return;let r;t.loading!==void 0&&(r=this.create({...t,promise:e,type:"loading",message:t.loading,description:typeof t.description!="function"?t.description:void 0}));let n=e instanceof Promise?e:e(),s=r!==void 0,i,o=n.then(async l=>{if(i=["resolve",l],Y.isValidElement(l))s=!1,this.create({id:r,type:"default",message:l});else if(E2(l)&&!l.ok){s=!1;let c=typeof t.error=="function"?await t.error(`HTTP error! status: ${l.status}`):t.error,u=typeof t.description=="function"?await t.description(`HTTP error! status: ${l.status}`):t.description;this.create({id:r,type:"error",message:c,description:u})}else if(t.success!==void 0){s=!1;let c=typeof t.success=="function"?await t.success(l):t.success,u=typeof t.description=="function"?await t.description(l):t.description;this.create({id:r,type:"success",message:c,description:u})}}).catch(async l=>{if(i=["reject",l],t.error!==void 0){s=!1;let c=typeof t.error=="function"?await t.error(l):t.error,u=typeof t.description=="function"?await t.description(l):t.description;this.create({id:r,type:"error",message:c,description:u})}}).finally(()=>{var l;s&&(this.dismiss(r),r=void 0),(l=t.finally)==null||l.call(t)}),a=()=>new Promise((l,c)=>o.then(()=>i[0]==="reject"?c(i[1]):l(i[1])).catch(c));return typeof r!="string"&&typeof r!="number"?{unwrap:a}:Object.assign(r,{unwrap:a})},this.custom=(e,t)=>{let r=(t==null?void 0:t.id)||jp++;return this.create({jsx:e(r),id:r,...t}),r},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},Ut=new S2,k2=(e,t)=>{let r=(t==null?void 0:t.id)||jp++;return Ut.addToast({title:e,...t,id:r}),r},E2=e=>e&&typeof e=="object"&&"ok"in e&&typeof e.ok=="boolean"&&"status"in e&&typeof e.status=="number",C2=k2,N2=()=>Ut.toasts,T2=()=>Ut.getActiveToasts(),Bo=Object.assign(C2,{success:Ut.success,info:Ut.info,warning:Ut.warning,error:Ut.error,custom:Ut.custom,message:Ut.message,promise:Ut.promise,dismiss:Ut.dismiss,loading:Ut.loading},{getHistory:N2,getToasts:T2});function R2(e,{insertAt:t}={}){if(typeof document>"u")return;let r=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",t==="top"&&r.firstChild?r.insertBefore(n,r.firstChild):r.appendChild(n),n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}R2(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:var(--offset-right)}:where([data-sonner-toaster][data-x-position="left"]){left:var(--offset-left)}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:var(--offset-top)}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:var(--offset-bottom)}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:-50%;right:-50%;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y, 0px)) translate(var(--swipe-amount-x, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-bg-hover: hsl(0, 0%, 12%);--normal-border: hsl(0, 0%, 20%);--normal-border-hover: hsl(0, 0%, 25%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function Nc(e){return e.label!==void 0}var j2=3,A2="32px",P2="16px",k0=4e3,O2=356,D2=14,I2=20,M2=200;function Cr(...e){return e.filter(Boolean).join(" ")}function $2(e){let[t,r]=e.split("-"),n=[];return t&&n.push(t),r&&n.push(r),n}var L2=e=>{var t,r,n,s,i,o,a,l,c,u,f;let{invert:p,toast:h,unstyled:x,interacting:v,setHeights:y,visibleToasts:g,heights:w,index:b,toasts:_,expanded:S,removeToast:C,defaultRichColors:E,closeButton:R,style:P,cancelButtonStyle:D,actionButtonStyle:W,className:B="",descriptionClassName:Z="",duration:N,position:L,gap:O,loadingIcon:$,expandByDefault:j,classNames:k,icons:A,closeButtonAriaLabel:U="Close toast",pauseWhenPageIsHidden:M}=e,[Q,q]=Y.useState(null),[X,z]=Y.useState(null),[F,te]=Y.useState(!1),[re,J]=Y.useState(!1),[ne,fe]=Y.useState(!1),[_e,Pe]=Y.useState(!1),[I,G]=Y.useState(!1),[he,Se]=Y.useState(0),[Ye,qe]=Y.useState(0),Oe=Y.useRef(h.duration||N||k0),St=Y.useRef(null),kt=Y.useRef(null),cn=b===0,sc=b+1<=g,vt=h.type,$n=h.dismissible!==!1,ON=h.className||"",DN=h.descriptionClassName||"",ic=Y.useMemo(()=>w.findIndex(ye=>ye.toastId===h.id)||0,[w,h.id]),IN=Y.useMemo(()=>{var ye;return(ye=h.closeButton)!=null?ye:R},[h.closeButton,R]),Jv=Y.useMemo(()=>h.duration||N||k0,[h.duration,N]),_f=Y.useRef(0),Pi=Y.useRef(0),ey=Y.useRef(0),Oi=Y.useRef(null),[MN,$N]=L.split("-"),ty=Y.useMemo(()=>w.reduce((ye,$e,We)=>We>=ic?ye:ye+$e.height,0),[w,ic]),ry=_2(),LN=h.invert||p,Sf=vt==="loading";Pi.current=Y.useMemo(()=>ic*O+ty,[ic,ty]),Y.useEffect(()=>{Oe.current=Jv},[Jv]),Y.useEffect(()=>{te(!0)},[]),Y.useEffect(()=>{let ye=kt.current;if(ye){let $e=ye.getBoundingClientRect().height;return qe($e),y(We=>[{toastId:h.id,height:$e,position:h.position},...We]),()=>y(We=>We.filter(_r=>_r.toastId!==h.id))}},[y,h.id]),Y.useLayoutEffect(()=>{if(!F)return;let ye=kt.current,$e=ye.style.height;ye.style.height="auto";let We=ye.getBoundingClientRect().height;ye.style.height=$e,qe(We),y(_r=>_r.find(Sr=>Sr.toastId===h.id)?_r.map(Sr=>Sr.toastId===h.id?{...Sr,height:We}:Sr):[{toastId:h.id,height:We,position:h.position},..._r])},[F,h.title,h.description,y,h.id]);let Ln=Y.useCallback(()=>{J(!0),Se(Pi.current),y(ye=>ye.filter($e=>$e.toastId!==h.id)),setTimeout(()=>{C(h)},M2)},[h,C,y,Pi]);Y.useEffect(()=>{if(h.promise&&vt==="loading"||h.duration===1/0||h.type==="loading")return;let ye;return S||v||M&&ry?(()=>{if(ey.current<_f.current){let $e=new Date().getTime()-_f.current;Oe.current=Oe.current-$e}ey.current=new Date().getTime()})():Oe.current!==1/0&&(_f.current=new Date().getTime(),ye=setTimeout(()=>{var $e;($e=h.onAutoClose)==null||$e.call(h,h),Ln()},Oe.current)),()=>clearTimeout(ye)},[S,v,h,vt,M,ry,Ln]),Y.useEffect(()=>{h.delete&&Ln()},[Ln,h.delete]);function FN(){var ye,$e,We;return A!=null&&A.loading?Y.createElement("div",{className:Cr(k==null?void 0:k.loader,(ye=h==null?void 0:h.classNames)==null?void 0:ye.loader,"sonner-loader"),"data-visible":vt==="loading"},A.loading):$?Y.createElement("div",{className:Cr(k==null?void 0:k.loader,($e=h==null?void 0:h.classNames)==null?void 0:$e.loader,"sonner-loader"),"data-visible":vt==="loading"},$):Y.createElement(g2,{className:Cr(k==null?void 0:k.loader,(We=h==null?void 0:h.classNames)==null?void 0:We.loader),visible:vt==="loading"})}return Y.createElement("li",{tabIndex:0,ref:kt,className:Cr(B,ON,k==null?void 0:k.toast,(t=h==null?void 0:h.classNames)==null?void 0:t.toast,k==null?void 0:k.default,k==null?void 0:k[vt],(r=h==null?void 0:h.classNames)==null?void 0:r[vt]),"data-sonner-toast":"","data-rich-colors":(n=h.richColors)!=null?n:E,"data-styled":!(h.jsx||h.unstyled||x),"data-mounted":F,"data-promise":!!h.promise,"data-swiped":I,"data-removed":re,"data-visible":sc,"data-y-position":MN,"data-x-position":$N,"data-index":b,"data-front":cn,"data-swiping":ne,"data-dismissible":$n,"data-type":vt,"data-invert":LN,"data-swipe-out":_e,"data-swipe-direction":X,"data-expanded":!!(S||j&&F),style:{"--index":b,"--toasts-before":b,"--z-index":_.length-b,"--offset":`${re?he:Pi.current}px`,"--initial-height":j?"auto":`${Ye}px`,...P,...h.style},onDragEnd:()=>{fe(!1),q(null),Oi.current=null},onPointerDown:ye=>{Sf||!$n||(St.current=new Date,Se(Pi.current),ye.target.setPointerCapture(ye.pointerId),ye.target.tagName!=="BUTTON"&&(fe(!0),Oi.current={x:ye.clientX,y:ye.clientY}))},onPointerUp:()=>{var ye,$e,We,_r;if(_e||!$n)return;Oi.current=null;let Sr=Number(((ye=kt.current)==null?void 0:ye.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),Fn=Number((($e=kt.current)==null?void 0:$e.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),Ls=new Date().getTime()-((We=St.current)==null?void 0:We.getTime()),kr=Q==="x"?Sr:Fn,Un=Math.abs(kr)/Ls;if(Math.abs(kr)>=I2||Un>.11){Se(Pi.current),(_r=h.onDismiss)==null||_r.call(h,h),z(Q==="x"?Sr>0?"right":"left":Fn>0?"down":"up"),Ln(),Pe(!0),G(!1);return}fe(!1),q(null)},onPointerMove:ye=>{var $e,We,_r,Sr;if(!Oi.current||!$n||(($e=window.getSelection())==null?void 0:$e.toString().length)>0)return;let Fn=ye.clientY-Oi.current.y,Ls=ye.clientX-Oi.current.x,kr=(We=e.swipeDirections)!=null?We:$2(L);!Q&&(Math.abs(Ls)>1||Math.abs(Fn)>1)&&q(Math.abs(Ls)>Math.abs(Fn)?"x":"y");let Un={x:0,y:0};Q==="y"?(kr.includes("top")||kr.includes("bottom"))&&(kr.includes("top")&&Fn<0||kr.includes("bottom")&&Fn>0)&&(Un.y=Fn):Q==="x"&&(kr.includes("left")||kr.includes("right"))&&(kr.includes("left")&&Ls<0||kr.includes("right")&&Ls>0)&&(Un.x=Ls),(Math.abs(Un.x)>0||Math.abs(Un.y)>0)&&G(!0),(_r=kt.current)==null||_r.style.setProperty("--swipe-amount-x",`${Un.x}px`),(Sr=kt.current)==null||Sr.style.setProperty("--swipe-amount-y",`${Un.y}px`)}},IN&&!h.jsx?Y.createElement("button",{"aria-label":U,"data-disabled":Sf,"data-close-button":!0,onClick:Sf||!$n?()=>{}:()=>{var ye;Ln(),(ye=h.onDismiss)==null||ye.call(h,h)},className:Cr(k==null?void 0:k.closeButton,(s=h==null?void 0:h.classNames)==null?void 0:s.closeButton)},(i=A==null?void 0:A.close)!=null?i:b2):null,h.jsx||m.isValidElement(h.title)?h.jsx?h.jsx:typeof h.title=="function"?h.title():h.title:Y.createElement(Y.Fragment,null,vt||h.icon||h.promise?Y.createElement("div",{"data-icon":"",className:Cr(k==null?void 0:k.icon,(o=h==null?void 0:h.classNames)==null?void 0:o.icon)},h.promise||h.type==="loading"&&!h.icon?h.icon||FN():null,h.type!=="loading"?h.icon||(A==null?void 0:A[vt])||p2(vt):null):null,Y.createElement("div",{"data-content":"",className:Cr(k==null?void 0:k.content,(a=h==null?void 0:h.classNames)==null?void 0:a.content)},Y.createElement("div",{"data-title":"",className:Cr(k==null?void 0:k.title,(l=h==null?void 0:h.classNames)==null?void 0:l.title)},typeof h.title=="function"?h.title():h.title),h.description?Y.createElement("div",{"data-description":"",className:Cr(Z,DN,k==null?void 0:k.description,(c=h==null?void 0:h.classNames)==null?void 0:c.description)},typeof h.description=="function"?h.description():h.description):null),m.isValidElement(h.cancel)?h.cancel:h.cancel&&Nc(h.cancel)?Y.createElement("button",{"data-button":!0,"data-cancel":!0,style:h.cancelButtonStyle||D,onClick:ye=>{var $e,We;Nc(h.cancel)&&$n&&((We=($e=h.cancel).onClick)==null||We.call($e,ye),Ln())},className:Cr(k==null?void 0:k.cancelButton,(u=h==null?void 0:h.classNames)==null?void 0:u.cancelButton)},h.cancel.label):null,m.isValidElement(h.action)?h.action:h.action&&Nc(h.action)?Y.createElement("button",{"data-button":!0,"data-action":!0,style:h.actionButtonStyle||W,onClick:ye=>{var $e,We;Nc(h.action)&&((We=($e=h.action).onClick)==null||We.call($e,ye),!ye.defaultPrevented&&Ln())},className:Cr(k==null?void 0:k.actionButton,(f=h==null?void 0:h.classNames)==null?void 0:f.actionButton)},h.action.label):null))};function E0(){if(typeof window>"u"||typeof document>"u")return"ltr";let e=document.documentElement.getAttribute("dir");return e==="auto"||!e?window.getComputedStyle(document.documentElement).direction:e}function F2(e,t){let r={};return[e,t].forEach((n,s)=>{let i=s===1,o=i?"--mobile-offset":"--offset",a=i?P2:A2;function l(c){["top","right","bottom","left"].forEach(u=>{r[`${o}-${u}`]=typeof c=="number"?`${c}px`:c})}typeof n=="number"||typeof n=="string"?l(n):typeof n=="object"?["top","right","bottom","left"].forEach(c=>{n[c]===void 0?r[`${o}-${c}`]=a:r[`${o}-${c}`]=typeof n[c]=="number"?`${n[c]}px`:n[c]}):l(a)}),r}var U2=m.forwardRef(function(e,t){let{invert:r,position:n="bottom-right",hotkey:s=["altKey","KeyT"],expand:i,closeButton:o,className:a,offset:l,mobileOffset:c,theme:u="light",richColors:f,duration:p,style:h,visibleToasts:x=j2,toastOptions:v,dir:y=E0(),gap:g=D2,loadingIcon:w,icons:b,containerAriaLabel:_="Notifications",pauseWhenPageIsHidden:S}=e,[C,E]=Y.useState([]),R=Y.useMemo(()=>Array.from(new Set([n].concat(C.filter(M=>M.position).map(M=>M.position)))),[C,n]),[P,D]=Y.useState([]),[W,B]=Y.useState(!1),[Z,N]=Y.useState(!1),[L,O]=Y.useState(u!=="system"?u:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),$=Y.useRef(null),j=s.join("+").replace(/Key/g,"").replace(/Digit/g,""),k=Y.useRef(null),A=Y.useRef(!1),U=Y.useCallback(M=>{E(Q=>{var q;return(q=Q.find(X=>X.id===M.id))!=null&&q.delete||Ut.dismiss(M.id),Q.filter(({id:X})=>X!==M.id)})},[]);return Y.useEffect(()=>Ut.subscribe(M=>{if(M.dismiss){E(Q=>Q.map(q=>q.id===M.id?{...q,delete:!0}:q));return}setTimeout(()=>{e1.flushSync(()=>{E(Q=>{let q=Q.findIndex(X=>X.id===M.id);return q!==-1?[...Q.slice(0,q),{...Q[q],...M},...Q.slice(q+1)]:[M,...Q]})})})}),[]),Y.useEffect(()=>{if(u!=="system"){O(u);return}if(u==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?O("dark"):O("light")),typeof window>"u")return;let M=window.matchMedia("(prefers-color-scheme: dark)");try{M.addEventListener("change",({matches:Q})=>{O(Q?"dark":"light")})}catch{M.addListener(({matches:q})=>{try{O(q?"dark":"light")}catch(X){console.error(X)}})}},[u]),Y.useEffect(()=>{C.length<=1&&B(!1)},[C]),Y.useEffect(()=>{let M=Q=>{var q,X;s.every(z=>Q[z]||Q.code===z)&&(B(!0),(q=$.current)==null||q.focus()),Q.code==="Escape"&&(document.activeElement===$.current||(X=$.current)!=null&&X.contains(document.activeElement))&&B(!1)};return document.addEventListener("keydown",M),()=>document.removeEventListener("keydown",M)},[s]),Y.useEffect(()=>{if($.current)return()=>{k.current&&(k.current.focus({preventScroll:!0}),k.current=null,A.current=!1)}},[$.current]),Y.createElement("section",{ref:t,"aria-label":`${_} ${j}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},R.map((M,Q)=>{var q;let[X,z]=M.split("-");return C.length?Y.createElement("ol",{key:M,dir:y==="auto"?E0():y,tabIndex:-1,ref:$,className:a,"data-sonner-toaster":!0,"data-theme":L,"data-y-position":X,"data-lifted":W&&C.length>1&&!i,"data-x-position":z,style:{"--front-toast-height":`${((q=P[0])==null?void 0:q.height)||0}px`,"--width":`${O2}px`,"--gap":`${g}px`,...h,...F2(l,c)},onBlur:F=>{A.current&&!F.currentTarget.contains(F.relatedTarget)&&(A.current=!1,k.current&&(k.current.focus({preventScroll:!0}),k.current=null))},onFocus:F=>{F.target instanceof HTMLElement&&F.target.dataset.dismissible==="false"||A.current||(A.current=!0,k.current=F.relatedTarget)},onMouseEnter:()=>B(!0),onMouseMove:()=>B(!0),onMouseLeave:()=>{Z||B(!1)},onDragEnd:()=>B(!1),onPointerDown:F=>{F.target instanceof HTMLElement&&F.target.dataset.dismissible==="false"||N(!0)},onPointerUp:()=>N(!1)},C.filter(F=>!F.position&&Q===0||F.position===M).map((F,te)=>{var re,J;return Y.createElement(L2,{key:F.id,icons:b,index:te,toast:F,defaultRichColors:f,duration:(re=v==null?void 0:v.duration)!=null?re:p,className:v==null?void 0:v.className,descriptionClassName:v==null?void 0:v.descriptionClassName,invert:r,visibleToasts:x,closeButton:(J=v==null?void 0:v.closeButton)!=null?J:o,interacting:Z,position:M,style:v==null?void 0:v.style,unstyled:v==null?void 0:v.unstyled,classNames:v==null?void 0:v.classNames,cancelButtonStyle:v==null?void 0:v.cancelButtonStyle,actionButtonStyle:v==null?void 0:v.actionButtonStyle,removeToast:U,toasts:C.filter(ne=>ne.position==F.position),heights:P.filter(ne=>ne.position==F.position),setHeights:D,expandByDefault:i,gap:g,loadingIcon:w,expanded:W,pauseWhenPageIsHidden:S,swipeDirections:e.swipeDirections})})):null}))});const z2=({...e})=>{const{theme:t="system"}=h2();return d.jsx(U2,{theme:t,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...e})};var B2=Vm[" useId ".trim().toString()]||(()=>{}),W2=0;function Es(e){const[t,r]=m.useState(B2());return rn(()=>{e||r(n=>n??String(W2++))},[e]),e||(t?`radix-${t}`:"")}const V2=["top","right","bottom","left"],As=Math.min,Qt=Math.max,Uu=Math.round,Tc=Math.floor,Jr=e=>({x:e,y:e}),q2={left:"right",right:"left",bottom:"top",top:"bottom"},K2={start:"end",end:"start"};function Ap(e,t,r){return Qt(e,As(t,r))}function Rn(e,t){return typeof e=="function"?e(t):e}function jn(e){return e.split("-")[0]}function ra(e){return e.split("-")[1]}function Vg(e){return e==="x"?"y":"x"}function qg(e){return e==="y"?"height":"width"}const H2=new Set(["top","bottom"]);function Yr(e){return H2.has(jn(e))?"y":"x"}function Kg(e){return Vg(Yr(e))}function G2(e,t,r){r===void 0&&(r=!1);const n=ra(e),s=Kg(e),i=qg(s);let o=s==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return t.reference[i]>t.floating[i]&&(o=zu(o)),[o,zu(o)]}function Q2(e){const t=zu(e);return[Pp(e),t,Pp(t)]}function Pp(e){return e.replace(/start|end/g,t=>K2[t])}const C0=["left","right"],N0=["right","left"],Y2=["top","bottom"],Z2=["bottom","top"];function X2(e,t,r){switch(e){case"top":case"bottom":return r?t?N0:C0:t?C0:N0;case"left":case"right":return t?Y2:Z2;default:return[]}}function J2(e,t,r,n){const s=ra(e);let i=X2(jn(e),r==="start",n);return s&&(i=i.map(o=>o+"-"+s),t&&(i=i.concat(i.map(Pp)))),i}function zu(e){return e.replace(/left|right|bottom|top/g,t=>q2[t])}function eP(e){return{top:0,right:0,bottom:0,left:0,...e}}function K1(e){return typeof e!="number"?eP(e):{top:e,right:e,bottom:e,left:e}}function Bu(e){const{x:t,y:r,width:n,height:s}=e;return{width:n,height:s,top:r,left:t,right:t+n,bottom:r+s,x:t,y:r}}function T0(e,t,r){let{reference:n,floating:s}=e;const i=Yr(t),o=Kg(t),a=qg(o),l=jn(t),c=i==="y",u=n.x+n.width/2-s.width/2,f=n.y+n.height/2-s.height/2,p=n[a]/2-s[a]/2;let h;switch(l){case"top":h={x:u,y:n.y-s.height};break;case"bottom":h={x:u,y:n.y+n.height};break;case"right":h={x:n.x+n.width,y:f};break;case"left":h={x:n.x-s.width,y:f};break;default:h={x:n.x,y:n.y}}switch(ra(t)){case"start":h[o]-=p*(r&&c?-1:1);break;case"end":h[o]+=p*(r&&c?-1:1);break}return h}const tP=async(e,t,r)=>{const{placement:n="bottom",strategy:s="absolute",middleware:i=[],platform:o}=r,a=i.filter(Boolean),l=await(o.isRTL==null?void 0:o.isRTL(t));let c=await o.getElementRects({reference:e,floating:t,strategy:s}),{x:u,y:f}=T0(c,n,l),p=n,h={},x=0;for(let v=0;v<a.length;v++){const{name:y,fn:g}=a[v],{x:w,y:b,data:_,reset:S}=await g({x:u,y:f,initialPlacement:n,placement:p,strategy:s,middlewareData:h,rects:c,platform:o,elements:{reference:e,floating:t}});u=w??u,f=b??f,h={...h,[y]:{...h[y],..._}},S&&x<=50&&(x++,typeof S=="object"&&(S.placement&&(p=S.placement),S.rects&&(c=S.rects===!0?await o.getElementRects({reference:e,floating:t,strategy:s}):S.rects),{x:u,y:f}=T0(c,p,l)),v=-1)}return{x:u,y:f,placement:p,strategy:s,middlewareData:h}};async function al(e,t){var r;t===void 0&&(t={});const{x:n,y:s,platform:i,rects:o,elements:a,strategy:l}=e,{boundary:c="clippingAncestors",rootBoundary:u="viewport",elementContext:f="floating",altBoundary:p=!1,padding:h=0}=Rn(t,e),x=K1(h),y=a[p?f==="floating"?"reference":"floating":f],g=Bu(await i.getClippingRect({element:(r=await(i.isElement==null?void 0:i.isElement(y)))==null||r?y:y.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(a.floating)),boundary:c,rootBoundary:u,strategy:l})),w=f==="floating"?{x:n,y:s,width:o.floating.width,height:o.floating.height}:o.reference,b=await(i.getOffsetParent==null?void 0:i.getOffsetParent(a.floating)),_=await(i.isElement==null?void 0:i.isElement(b))?await(i.getScale==null?void 0:i.getScale(b))||{x:1,y:1}:{x:1,y:1},S=Bu(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:w,offsetParent:b,strategy:l}):w);return{top:(g.top-S.top+x.top)/_.y,bottom:(S.bottom-g.bottom+x.bottom)/_.y,left:(g.left-S.left+x.left)/_.x,right:(S.right-g.right+x.right)/_.x}}const rP=e=>({name:"arrow",options:e,async fn(t){const{x:r,y:n,placement:s,rects:i,platform:o,elements:a,middlewareData:l}=t,{element:c,padding:u=0}=Rn(e,t)||{};if(c==null)return{};const f=K1(u),p={x:r,y:n},h=Kg(s),x=qg(h),v=await o.getDimensions(c),y=h==="y",g=y?"top":"left",w=y?"bottom":"right",b=y?"clientHeight":"clientWidth",_=i.reference[x]+i.reference[h]-p[h]-i.floating[x],S=p[h]-i.reference[h],C=await(o.getOffsetParent==null?void 0:o.getOffsetParent(c));let E=C?C[b]:0;(!E||!await(o.isElement==null?void 0:o.isElement(C)))&&(E=a.floating[b]||i.floating[x]);const R=_/2-S/2,P=E/2-v[x]/2-1,D=As(f[g],P),W=As(f[w],P),B=D,Z=E-v[x]-W,N=E/2-v[x]/2+R,L=Ap(B,N,Z),O=!l.arrow&&ra(s)!=null&&N!==L&&i.reference[x]/2-(N<B?D:W)-v[x]/2<0,$=O?N<B?N-B:N-Z:0;return{[h]:p[h]+$,data:{[h]:L,centerOffset:N-L-$,...O&&{alignmentOffset:$}},reset:O}}}),nP=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var r,n;const{placement:s,middlewareData:i,rects:o,initialPlacement:a,platform:l,elements:c}=t,{mainAxis:u=!0,crossAxis:f=!0,fallbackPlacements:p,fallbackStrategy:h="bestFit",fallbackAxisSideDirection:x="none",flipAlignment:v=!0,...y}=Rn(e,t);if((r=i.arrow)!=null&&r.alignmentOffset)return{};const g=jn(s),w=Yr(a),b=jn(a)===a,_=await(l.isRTL==null?void 0:l.isRTL(c.floating)),S=p||(b||!v?[zu(a)]:Q2(a)),C=x!=="none";!p&&C&&S.push(...J2(a,v,x,_));const E=[a,...S],R=await al(t,y),P=[];let D=((n=i.flip)==null?void 0:n.overflows)||[];if(u&&P.push(R[g]),f){const N=G2(s,o,_);P.push(R[N[0]],R[N[1]])}if(D=[...D,{placement:s,overflows:P}],!P.every(N=>N<=0)){var W,B;const N=(((W=i.flip)==null?void 0:W.index)||0)+1,L=E[N];if(L&&(!(f==="alignment"?w!==Yr(L):!1)||D.every(j=>j.overflows[0]>0&&Yr(j.placement)===w)))return{data:{index:N,overflows:D},reset:{placement:L}};let O=(B=D.filter($=>$.overflows[0]<=0).sort(($,j)=>$.overflows[1]-j.overflows[1])[0])==null?void 0:B.placement;if(!O)switch(h){case"bestFit":{var Z;const $=(Z=D.filter(j=>{if(C){const k=Yr(j.placement);return k===w||k==="y"}return!0}).map(j=>[j.placement,j.overflows.filter(k=>k>0).reduce((k,A)=>k+A,0)]).sort((j,k)=>j[1]-k[1])[0])==null?void 0:Z[0];$&&(O=$);break}case"initialPlacement":O=a;break}if(s!==O)return{reset:{placement:O}}}return{}}}};function R0(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function j0(e){return V2.some(t=>e[t]>=0)}const sP=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:r}=t,{strategy:n="referenceHidden",...s}=Rn(e,t);switch(n){case"referenceHidden":{const i=await al(t,{...s,elementContext:"reference"}),o=R0(i,r.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:j0(o)}}}case"escaped":{const i=await al(t,{...s,altBoundary:!0}),o=R0(i,r.floating);return{data:{escapedOffsets:o,escaped:j0(o)}}}default:return{}}}}},H1=new Set(["left","top"]);async function iP(e,t){const{placement:r,platform:n,elements:s}=e,i=await(n.isRTL==null?void 0:n.isRTL(s.floating)),o=jn(r),a=ra(r),l=Yr(r)==="y",c=H1.has(o)?-1:1,u=i&&l?-1:1,f=Rn(t,e);let{mainAxis:p,crossAxis:h,alignmentAxis:x}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return a&&typeof x=="number"&&(h=a==="end"?x*-1:x),l?{x:h*u,y:p*c}:{x:p*c,y:h*u}}const oP=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var r,n;const{x:s,y:i,placement:o,middlewareData:a}=t,l=await iP(t,e);return o===((r=a.offset)==null?void 0:r.placement)&&(n=a.arrow)!=null&&n.alignmentOffset?{}:{x:s+l.x,y:i+l.y,data:{...l,placement:o}}}}},aP=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:r,y:n,placement:s}=t,{mainAxis:i=!0,crossAxis:o=!1,limiter:a={fn:y=>{let{x:g,y:w}=y;return{x:g,y:w}}},...l}=Rn(e,t),c={x:r,y:n},u=await al(t,l),f=Yr(jn(s)),p=Vg(f);let h=c[p],x=c[f];if(i){const y=p==="y"?"top":"left",g=p==="y"?"bottom":"right",w=h+u[y],b=h-u[g];h=Ap(w,h,b)}if(o){const y=f==="y"?"top":"left",g=f==="y"?"bottom":"right",w=x+u[y],b=x-u[g];x=Ap(w,x,b)}const v=a.fn({...t,[p]:h,[f]:x});return{...v,data:{x:v.x-r,y:v.y-n,enabled:{[p]:i,[f]:o}}}}}},lP=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:r,y:n,placement:s,rects:i,middlewareData:o}=t,{offset:a=0,mainAxis:l=!0,crossAxis:c=!0}=Rn(e,t),u={x:r,y:n},f=Yr(s),p=Vg(f);let h=u[p],x=u[f];const v=Rn(a,t),y=typeof v=="number"?{mainAxis:v,crossAxis:0}:{mainAxis:0,crossAxis:0,...v};if(l){const b=p==="y"?"height":"width",_=i.reference[p]-i.floating[b]+y.mainAxis,S=i.reference[p]+i.reference[b]-y.mainAxis;h<_?h=_:h>S&&(h=S)}if(c){var g,w;const b=p==="y"?"width":"height",_=H1.has(jn(s)),S=i.reference[f]-i.floating[b]+(_&&((g=o.offset)==null?void 0:g[f])||0)+(_?0:y.crossAxis),C=i.reference[f]+i.reference[b]+(_?0:((w=o.offset)==null?void 0:w[f])||0)-(_?y.crossAxis:0);x<S?x=S:x>C&&(x=C)}return{[p]:h,[f]:x}}}},cP=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var r,n;const{placement:s,rects:i,platform:o,elements:a}=t,{apply:l=()=>{},...c}=Rn(e,t),u=await al(t,c),f=jn(s),p=ra(s),h=Yr(s)==="y",{width:x,height:v}=i.floating;let y,g;f==="top"||f==="bottom"?(y=f,g=p===(await(o.isRTL==null?void 0:o.isRTL(a.floating))?"start":"end")?"left":"right"):(g=f,y=p==="end"?"top":"bottom");const w=v-u.top-u.bottom,b=x-u.left-u.right,_=As(v-u[y],w),S=As(x-u[g],b),C=!t.middlewareData.shift;let E=_,R=S;if((r=t.middlewareData.shift)!=null&&r.enabled.x&&(R=b),(n=t.middlewareData.shift)!=null&&n.enabled.y&&(E=w),C&&!p){const D=Qt(u.left,0),W=Qt(u.right,0),B=Qt(u.top,0),Z=Qt(u.bottom,0);h?R=x-2*(D!==0||W!==0?D+W:Qt(u.left,u.right)):E=v-2*(B!==0||Z!==0?B+Z:Qt(u.top,u.bottom))}await l({...t,availableWidth:R,availableHeight:E});const P=await o.getDimensions(a.floating);return x!==P.width||v!==P.height?{reset:{rects:!0}}:{}}}};function Md(){return typeof window<"u"}function na(e){return G1(e)?(e.nodeName||"").toLowerCase():"#document"}function rr(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function sn(e){var t;return(t=(G1(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function G1(e){return Md()?e instanceof Node||e instanceof rr(e).Node:!1}function Fr(e){return Md()?e instanceof Element||e instanceof rr(e).Element:!1}function nn(e){return Md()?e instanceof HTMLElement||e instanceof rr(e).HTMLElement:!1}function A0(e){return!Md()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof rr(e).ShadowRoot}const uP=new Set(["inline","contents"]);function Bl(e){const{overflow:t,overflowX:r,overflowY:n,display:s}=Ur(e);return/auto|scroll|overlay|hidden|clip/.test(t+n+r)&&!uP.has(s)}const dP=new Set(["table","td","th"]);function fP(e){return dP.has(na(e))}const hP=[":popover-open",":modal"];function $d(e){return hP.some(t=>{try{return e.matches(t)}catch{return!1}})}const pP=["transform","translate","scale","rotate","perspective"],mP=["transform","translate","scale","rotate","perspective","filter"],gP=["paint","layout","strict","content"];function Hg(e){const t=Gg(),r=Fr(e)?Ur(e):e;return pP.some(n=>r[n]?r[n]!=="none":!1)||(r.containerType?r.containerType!=="normal":!1)||!t&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!t&&(r.filter?r.filter!=="none":!1)||mP.some(n=>(r.willChange||"").includes(n))||gP.some(n=>(r.contain||"").includes(n))}function vP(e){let t=Ps(e);for(;nn(t)&&!Wo(t);){if(Hg(t))return t;if($d(t))return null;t=Ps(t)}return null}function Gg(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const yP=new Set(["html","body","#document"]);function Wo(e){return yP.has(na(e))}function Ur(e){return rr(e).getComputedStyle(e)}function Ld(e){return Fr(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Ps(e){if(na(e)==="html")return e;const t=e.assignedSlot||e.parentNode||A0(e)&&e.host||sn(e);return A0(t)?t.host:t}function Q1(e){const t=Ps(e);return Wo(t)?e.ownerDocument?e.ownerDocument.body:e.body:nn(t)&&Bl(t)?t:Q1(t)}function ll(e,t,r){var n;t===void 0&&(t=[]),r===void 0&&(r=!0);const s=Q1(e),i=s===((n=e.ownerDocument)==null?void 0:n.body),o=rr(s);if(i){const a=Op(o);return t.concat(o,o.visualViewport||[],Bl(s)?s:[],a&&r?ll(a):[])}return t.concat(s,ll(s,[],r))}function Op(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function Y1(e){const t=Ur(e);let r=parseFloat(t.width)||0,n=parseFloat(t.height)||0;const s=nn(e),i=s?e.offsetWidth:r,o=s?e.offsetHeight:n,a=Uu(r)!==i||Uu(n)!==o;return a&&(r=i,n=o),{width:r,height:n,$:a}}function Qg(e){return Fr(e)?e:e.contextElement}function go(e){const t=Qg(e);if(!nn(t))return Jr(1);const r=t.getBoundingClientRect(),{width:n,height:s,$:i}=Y1(t);let o=(i?Uu(r.width):r.width)/n,a=(i?Uu(r.height):r.height)/s;return(!o||!Number.isFinite(o))&&(o=1),(!a||!Number.isFinite(a))&&(a=1),{x:o,y:a}}const wP=Jr(0);function Z1(e){const t=rr(e);return!Gg()||!t.visualViewport?wP:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function xP(e,t,r){return t===void 0&&(t=!1),!r||t&&r!==rr(e)?!1:t}function xi(e,t,r,n){t===void 0&&(t=!1),r===void 0&&(r=!1);const s=e.getBoundingClientRect(),i=Qg(e);let o=Jr(1);t&&(n?Fr(n)&&(o=go(n)):o=go(e));const a=xP(i,r,n)?Z1(i):Jr(0);let l=(s.left+a.x)/o.x,c=(s.top+a.y)/o.y,u=s.width/o.x,f=s.height/o.y;if(i){const p=rr(i),h=n&&Fr(n)?rr(n):n;let x=p,v=Op(x);for(;v&&n&&h!==x;){const y=go(v),g=v.getBoundingClientRect(),w=Ur(v),b=g.left+(v.clientLeft+parseFloat(w.paddingLeft))*y.x,_=g.top+(v.clientTop+parseFloat(w.paddingTop))*y.y;l*=y.x,c*=y.y,u*=y.x,f*=y.y,l+=b,c+=_,x=rr(v),v=Op(x)}}return Bu({width:u,height:f,x:l,y:c})}function Yg(e,t){const r=Ld(e).scrollLeft;return t?t.left+r:xi(sn(e)).left+r}function X1(e,t,r){r===void 0&&(r=!1);const n=e.getBoundingClientRect(),s=n.left+t.scrollLeft-(r?0:Yg(e,n)),i=n.top+t.scrollTop;return{x:s,y:i}}function bP(e){let{elements:t,rect:r,offsetParent:n,strategy:s}=e;const i=s==="fixed",o=sn(n),a=t?$d(t.floating):!1;if(n===o||a&&i)return r;let l={scrollLeft:0,scrollTop:0},c=Jr(1);const u=Jr(0),f=nn(n);if((f||!f&&!i)&&((na(n)!=="body"||Bl(o))&&(l=Ld(n)),nn(n))){const h=xi(n);c=go(n),u.x=h.x+n.clientLeft,u.y=h.y+n.clientTop}const p=o&&!f&&!i?X1(o,l,!0):Jr(0);return{width:r.width*c.x,height:r.height*c.y,x:r.x*c.x-l.scrollLeft*c.x+u.x+p.x,y:r.y*c.y-l.scrollTop*c.y+u.y+p.y}}function _P(e){return Array.from(e.getClientRects())}function SP(e){const t=sn(e),r=Ld(e),n=e.ownerDocument.body,s=Qt(t.scrollWidth,t.clientWidth,n.scrollWidth,n.clientWidth),i=Qt(t.scrollHeight,t.clientHeight,n.scrollHeight,n.clientHeight);let o=-r.scrollLeft+Yg(e);const a=-r.scrollTop;return Ur(n).direction==="rtl"&&(o+=Qt(t.clientWidth,n.clientWidth)-s),{width:s,height:i,x:o,y:a}}function kP(e,t){const r=rr(e),n=sn(e),s=r.visualViewport;let i=n.clientWidth,o=n.clientHeight,a=0,l=0;if(s){i=s.width,o=s.height;const c=Gg();(!c||c&&t==="fixed")&&(a=s.offsetLeft,l=s.offsetTop)}return{width:i,height:o,x:a,y:l}}const EP=new Set(["absolute","fixed"]);function CP(e,t){const r=xi(e,!0,t==="fixed"),n=r.top+e.clientTop,s=r.left+e.clientLeft,i=nn(e)?go(e):Jr(1),o=e.clientWidth*i.x,a=e.clientHeight*i.y,l=s*i.x,c=n*i.y;return{width:o,height:a,x:l,y:c}}function P0(e,t,r){let n;if(t==="viewport")n=kP(e,r);else if(t==="document")n=SP(sn(e));else if(Fr(t))n=CP(t,r);else{const s=Z1(e);n={x:t.x-s.x,y:t.y-s.y,width:t.width,height:t.height}}return Bu(n)}function J1(e,t){const r=Ps(e);return r===t||!Fr(r)||Wo(r)?!1:Ur(r).position==="fixed"||J1(r,t)}function NP(e,t){const r=t.get(e);if(r)return r;let n=ll(e,[],!1).filter(a=>Fr(a)&&na(a)!=="body"),s=null;const i=Ur(e).position==="fixed";let o=i?Ps(e):e;for(;Fr(o)&&!Wo(o);){const a=Ur(o),l=Hg(o);!l&&a.position==="fixed"&&(s=null),(i?!l&&!s:!l&&a.position==="static"&&!!s&&EP.has(s.position)||Bl(o)&&!l&&J1(e,o))?n=n.filter(u=>u!==o):s=a,o=Ps(o)}return t.set(e,n),n}function TP(e){let{element:t,boundary:r,rootBoundary:n,strategy:s}=e;const o=[...r==="clippingAncestors"?$d(t)?[]:NP(t,this._c):[].concat(r),n],a=o[0],l=o.reduce((c,u)=>{const f=P0(t,u,s);return c.top=Qt(f.top,c.top),c.right=As(f.right,c.right),c.bottom=As(f.bottom,c.bottom),c.left=Qt(f.left,c.left),c},P0(t,a,s));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function RP(e){const{width:t,height:r}=Y1(e);return{width:t,height:r}}function jP(e,t,r){const n=nn(t),s=sn(t),i=r==="fixed",o=xi(e,!0,i,t);let a={scrollLeft:0,scrollTop:0};const l=Jr(0);function c(){l.x=Yg(s)}if(n||!n&&!i)if((na(t)!=="body"||Bl(s))&&(a=Ld(t)),n){const h=xi(t,!0,i,t);l.x=h.x+t.clientLeft,l.y=h.y+t.clientTop}else s&&c();i&&!n&&s&&c();const u=s&&!n&&!i?X1(s,a):Jr(0),f=o.left+a.scrollLeft-l.x-u.x,p=o.top+a.scrollTop-l.y-u.y;return{x:f,y:p,width:o.width,height:o.height}}function th(e){return Ur(e).position==="static"}function O0(e,t){if(!nn(e)||Ur(e).position==="fixed")return null;if(t)return t(e);let r=e.offsetParent;return sn(e)===r&&(r=r.ownerDocument.body),r}function eS(e,t){const r=rr(e);if($d(e))return r;if(!nn(e)){let s=Ps(e);for(;s&&!Wo(s);){if(Fr(s)&&!th(s))return s;s=Ps(s)}return r}let n=O0(e,t);for(;n&&fP(n)&&th(n);)n=O0(n,t);return n&&Wo(n)&&th(n)&&!Hg(n)?r:n||vP(e)||r}const AP=async function(e){const t=this.getOffsetParent||eS,r=this.getDimensions,n=await r(e.floating);return{reference:jP(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function PP(e){return Ur(e).direction==="rtl"}const OP={convertOffsetParentRelativeRectToViewportRelativeRect:bP,getDocumentElement:sn,getClippingRect:TP,getOffsetParent:eS,getElementRects:AP,getClientRects:_P,getDimensions:RP,getScale:go,isElement:Fr,isRTL:PP};function tS(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function DP(e,t){let r=null,n;const s=sn(e);function i(){var a;clearTimeout(n),(a=r)==null||a.disconnect(),r=null}function o(a,l){a===void 0&&(a=!1),l===void 0&&(l=1),i();const c=e.getBoundingClientRect(),{left:u,top:f,width:p,height:h}=c;if(a||t(),!p||!h)return;const x=Tc(f),v=Tc(s.clientWidth-(u+p)),y=Tc(s.clientHeight-(f+h)),g=Tc(u),b={rootMargin:-x+"px "+-v+"px "+-y+"px "+-g+"px",threshold:Qt(0,As(1,l))||1};let _=!0;function S(C){const E=C[0].intersectionRatio;if(E!==l){if(!_)return o();E?o(!1,E):n=setTimeout(()=>{o(!1,1e-7)},1e3)}E===1&&!tS(c,e.getBoundingClientRect())&&o(),_=!1}try{r=new IntersectionObserver(S,{...b,root:s.ownerDocument})}catch{r=new IntersectionObserver(S,b)}r.observe(e)}return o(!0),i}function IP(e,t,r,n){n===void 0&&(n={});const{ancestorScroll:s=!0,ancestorResize:i=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:l=!1}=n,c=Qg(e),u=s||i?[...c?ll(c):[],...ll(t)]:[];u.forEach(g=>{s&&g.addEventListener("scroll",r,{passive:!0}),i&&g.addEventListener("resize",r)});const f=c&&a?DP(c,r):null;let p=-1,h=null;o&&(h=new ResizeObserver(g=>{let[w]=g;w&&w.target===c&&h&&(h.unobserve(t),cancelAnimationFrame(p),p=requestAnimationFrame(()=>{var b;(b=h)==null||b.observe(t)})),r()}),c&&!l&&h.observe(c),h.observe(t));let x,v=l?xi(e):null;l&&y();function y(){const g=xi(e);v&&!tS(v,g)&&r(),v=g,x=requestAnimationFrame(y)}return r(),()=>{var g;u.forEach(w=>{s&&w.removeEventListener("scroll",r),i&&w.removeEventListener("resize",r)}),f==null||f(),(g=h)==null||g.disconnect(),h=null,l&&cancelAnimationFrame(x)}}const MP=oP,$P=aP,LP=nP,FP=cP,UP=sP,D0=rP,zP=lP,BP=(e,t,r)=>{const n=new Map,s={platform:OP,...r},i={...s.platform,_c:n};return tP(e,t,{...s,platform:i})};var WP=typeof document<"u",VP=function(){},nu=WP?m.useLayoutEffect:VP;function Wu(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let r,n,s;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(r=e.length,r!==t.length)return!1;for(n=r;n--!==0;)if(!Wu(e[n],t[n]))return!1;return!0}if(s=Object.keys(e),r=s.length,r!==Object.keys(t).length)return!1;for(n=r;n--!==0;)if(!{}.hasOwnProperty.call(t,s[n]))return!1;for(n=r;n--!==0;){const i=s[n];if(!(i==="_owner"&&e.$$typeof)&&!Wu(e[i],t[i]))return!1}return!0}return e!==e&&t!==t}function rS(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function I0(e,t){const r=rS(e);return Math.round(t*r)/r}function rh(e){const t=m.useRef(e);return nu(()=>{t.current=e}),t}function qP(e){e===void 0&&(e={});const{placement:t="bottom",strategy:r="absolute",middleware:n=[],platform:s,elements:{reference:i,floating:o}={},transform:a=!0,whileElementsMounted:l,open:c}=e,[u,f]=m.useState({x:0,y:0,strategy:r,placement:t,middlewareData:{},isPositioned:!1}),[p,h]=m.useState(n);Wu(p,n)||h(n);const[x,v]=m.useState(null),[y,g]=m.useState(null),w=m.useCallback(j=>{j!==C.current&&(C.current=j,v(j))},[]),b=m.useCallback(j=>{j!==E.current&&(E.current=j,g(j))},[]),_=i||x,S=o||y,C=m.useRef(null),E=m.useRef(null),R=m.useRef(u),P=l!=null,D=rh(l),W=rh(s),B=rh(c),Z=m.useCallback(()=>{if(!C.current||!E.current)return;const j={placement:t,strategy:r,middleware:p};W.current&&(j.platform=W.current),BP(C.current,E.current,j).then(k=>{const A={...k,isPositioned:B.current!==!1};N.current&&!Wu(R.current,A)&&(R.current=A,$l.flushSync(()=>{f(A)}))})},[p,t,r,W,B]);nu(()=>{c===!1&&R.current.isPositioned&&(R.current.isPositioned=!1,f(j=>({...j,isPositioned:!1})))},[c]);const N=m.useRef(!1);nu(()=>(N.current=!0,()=>{N.current=!1}),[]),nu(()=>{if(_&&(C.current=_),S&&(E.current=S),_&&S){if(D.current)return D.current(_,S,Z);Z()}},[_,S,Z,D,P]);const L=m.useMemo(()=>({reference:C,floating:E,setReference:w,setFloating:b}),[w,b]),O=m.useMemo(()=>({reference:_,floating:S}),[_,S]),$=m.useMemo(()=>{const j={position:r,left:0,top:0};if(!O.floating)return j;const k=I0(O.floating,u.x),A=I0(O.floating,u.y);return a?{...j,transform:"translate("+k+"px, "+A+"px)",...rS(O.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:k,top:A}},[r,a,O.floating,u.x,u.y]);return m.useMemo(()=>({...u,update:Z,refs:L,elements:O,floatingStyles:$}),[u,Z,L,O,$])}const KP=e=>{function t(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:e,fn(r){const{element:n,padding:s}=typeof e=="function"?e(r):e;return n&&t(n)?n.current!=null?D0({element:n.current,padding:s}).fn(r):{}:n?D0({element:n,padding:s}).fn(r):{}}}},HP=(e,t)=>({...MP(e),options:[e,t]}),GP=(e,t)=>({...$P(e),options:[e,t]}),QP=(e,t)=>({...zP(e),options:[e,t]}),YP=(e,t)=>({...LP(e),options:[e,t]}),ZP=(e,t)=>({...FP(e),options:[e,t]}),XP=(e,t)=>({...UP(e),options:[e,t]}),JP=(e,t)=>({...KP(e),options:[e,t]});var eO="Arrow",nS=m.forwardRef((e,t)=>{const{children:r,width:n=10,height:s=5,...i}=e;return d.jsx(be.svg,{...i,ref:t,width:n,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?r:d.jsx("polygon",{points:"0,0 30,0 15,10"})})});nS.displayName=eO;var tO=nS;function sS(e){const[t,r]=m.useState(void 0);return rn(()=>{if(e){r({width:e.offsetWidth,height:e.offsetHeight});const n=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const i=s[0];let o,a;if("borderBoxSize"in i){const l=i.borderBoxSize,c=Array.isArray(l)?l[0]:l;o=c.inlineSize,a=c.blockSize}else o=e.offsetWidth,a=e.offsetHeight;r({width:o,height:a})});return n.observe(e,{box:"border-box"}),()=>n.unobserve(e)}else r(void 0)},[e]),t}var Zg="Popper",[iS,Fd]=yr(Zg),[rO,oS]=iS(Zg),aS=e=>{const{__scopePopper:t,children:r}=e,[n,s]=m.useState(null);return d.jsx(rO,{scope:t,anchor:n,onAnchorChange:s,children:r})};aS.displayName=Zg;var lS="PopperAnchor",cS=m.forwardRef((e,t)=>{const{__scopePopper:r,virtualRef:n,...s}=e,i=oS(lS,r),o=m.useRef(null),a=De(t,o);return m.useEffect(()=>{i.onAnchorChange((n==null?void 0:n.current)||o.current)}),n?null:d.jsx(be.div,{...s,ref:a})});cS.displayName=lS;var Xg="PopperContent",[nO,sO]=iS(Xg),uS=m.forwardRef((e,t)=>{var F,te,re,J,ne,fe;const{__scopePopper:r,side:n="bottom",sideOffset:s=0,align:i="center",alignOffset:o=0,arrowPadding:a=0,avoidCollisions:l=!0,collisionBoundary:c=[],collisionPadding:u=0,sticky:f="partial",hideWhenDetached:p=!1,updatePositionStrategy:h="optimized",onPlaced:x,...v}=e,y=oS(Xg,r),[g,w]=m.useState(null),b=De(t,_e=>w(_e)),[_,S]=m.useState(null),C=sS(_),E=(C==null?void 0:C.width)??0,R=(C==null?void 0:C.height)??0,P=n+(i!=="center"?"-"+i:""),D=typeof u=="number"?u:{top:0,right:0,bottom:0,left:0,...u},W=Array.isArray(c)?c:[c],B=W.length>0,Z={padding:D,boundary:W.filter(oO),altBoundary:B},{refs:N,floatingStyles:L,placement:O,isPositioned:$,middlewareData:j}=qP({strategy:"fixed",placement:P,whileElementsMounted:(..._e)=>IP(..._e,{animationFrame:h==="always"}),elements:{reference:y.anchor},middleware:[HP({mainAxis:s+R,alignmentAxis:o}),l&&GP({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?QP():void 0,...Z}),l&&YP({...Z}),ZP({...Z,apply:({elements:_e,rects:Pe,availableWidth:I,availableHeight:G})=>{const{width:he,height:Se}=Pe.reference,Ye=_e.floating.style;Ye.setProperty("--radix-popper-available-width",`${I}px`),Ye.setProperty("--radix-popper-available-height",`${G}px`),Ye.setProperty("--radix-popper-anchor-width",`${he}px`),Ye.setProperty("--radix-popper-anchor-height",`${Se}px`)}}),_&&JP({element:_,padding:a}),aO({arrowWidth:E,arrowHeight:R}),p&&XP({strategy:"referenceHidden",...Z})]}),[k,A]=hS(O),U=st(x);rn(()=>{$&&(U==null||U())},[$,U]);const M=(F=j.arrow)==null?void 0:F.x,Q=(te=j.arrow)==null?void 0:te.y,q=((re=j.arrow)==null?void 0:re.centerOffset)!==0,[X,z]=m.useState();return rn(()=>{g&&z(window.getComputedStyle(g).zIndex)},[g]),d.jsx("div",{ref:N.setFloating,"data-radix-popper-content-wrapper":"",style:{...L,transform:$?L.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:X,"--radix-popper-transform-origin":[(J=j.transformOrigin)==null?void 0:J.x,(ne=j.transformOrigin)==null?void 0:ne.y].join(" "),...((fe=j.hide)==null?void 0:fe.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:d.jsx(nO,{scope:r,placedSide:k,onArrowChange:S,arrowX:M,arrowY:Q,shouldHideArrow:q,children:d.jsx(be.div,{"data-side":k,"data-align":A,...v,ref:b,style:{...v.style,animation:$?void 0:"none"}})})})});uS.displayName=Xg;var dS="PopperArrow",iO={top:"bottom",right:"left",bottom:"top",left:"right"},fS=m.forwardRef(function(t,r){const{__scopePopper:n,...s}=t,i=sO(dS,n),o=iO[i.placedSide];return d.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:d.jsx(tO,{...s,ref:r,style:{...s.style,display:"block"}})})});fS.displayName=dS;function oO(e){return e!==null}var aO=e=>({name:"transformOrigin",options:e,fn(t){var y,g,w;const{placement:r,rects:n,middlewareData:s}=t,o=((y=s.arrow)==null?void 0:y.centerOffset)!==0,a=o?0:e.arrowWidth,l=o?0:e.arrowHeight,[c,u]=hS(r),f={start:"0%",center:"50%",end:"100%"}[u],p=(((g=s.arrow)==null?void 0:g.x)??0)+a/2,h=(((w=s.arrow)==null?void 0:w.y)??0)+l/2;let x="",v="";return c==="bottom"?(x=o?f:`${p}px`,v=`${-l}px`):c==="top"?(x=o?f:`${p}px`,v=`${n.floating.height+l}px`):c==="right"?(x=`${-l}px`,v=o?f:`${h}px`):c==="left"&&(x=`${n.floating.width+l}px`,v=o?f:`${h}px`),{data:{x,y:v}}}});function hS(e){const[t,r="center"]=e.split("-");return[t,r]}var pS=aS,mS=cS,gS=uS,vS=fS,[Ud,BB]=yr("Tooltip",[Fd]),zd=Fd(),yS="TooltipProvider",lO=700,Dp="tooltip.open",[cO,Jg]=Ud(yS),wS=e=>{const{__scopeTooltip:t,delayDuration:r=lO,skipDelayDuration:n=300,disableHoverableContent:s=!1,children:i}=e,o=m.useRef(!0),a=m.useRef(!1),l=m.useRef(0);return m.useEffect(()=>{const c=l.current;return()=>window.clearTimeout(c)},[]),d.jsx(cO,{scope:t,isOpenDelayedRef:o,delayDuration:r,onOpen:m.useCallback(()=>{window.clearTimeout(l.current),o.current=!1},[]),onClose:m.useCallback(()=>{window.clearTimeout(l.current),l.current=window.setTimeout(()=>o.current=!0,n)},[n]),isPointerInTransitRef:a,onPointerInTransitChange:m.useCallback(c=>{a.current=c},[]),disableHoverableContent:s,children:i})};wS.displayName=yS;var cl="Tooltip",[uO,Bd]=Ud(cl),xS=e=>{const{__scopeTooltip:t,children:r,open:n,defaultOpen:s,onOpenChange:i,disableHoverableContent:o,delayDuration:a}=e,l=Jg(cl,e.__scopeTooltip),c=zd(t),[u,f]=m.useState(null),p=Es(),h=m.useRef(0),x=o??l.disableHoverableContent,v=a??l.delayDuration,y=m.useRef(!1),[g,w]=Ti({prop:n,defaultProp:s??!1,onChange:E=>{E?(l.onOpen(),document.dispatchEvent(new CustomEvent(Dp))):l.onClose(),i==null||i(E)},caller:cl}),b=m.useMemo(()=>g?y.current?"delayed-open":"instant-open":"closed",[g]),_=m.useCallback(()=>{window.clearTimeout(h.current),h.current=0,y.current=!1,w(!0)},[w]),S=m.useCallback(()=>{window.clearTimeout(h.current),h.current=0,w(!1)},[w]),C=m.useCallback(()=>{window.clearTimeout(h.current),h.current=window.setTimeout(()=>{y.current=!0,w(!0),h.current=0},v)},[v,w]);return m.useEffect(()=>()=>{h.current&&(window.clearTimeout(h.current),h.current=0)},[]),d.jsx(pS,{...c,children:d.jsx(uO,{scope:t,contentId:p,open:g,stateAttribute:b,trigger:u,onTriggerChange:f,onTriggerEnter:m.useCallback(()=>{l.isOpenDelayedRef.current?C():_()},[l.isOpenDelayedRef,C,_]),onTriggerLeave:m.useCallback(()=>{x?S():(window.clearTimeout(h.current),h.current=0)},[S,x]),onOpen:_,onClose:S,disableHoverableContent:x,children:r})})};xS.displayName=cl;var Ip="TooltipTrigger",bS=m.forwardRef((e,t)=>{const{__scopeTooltip:r,...n}=e,s=Bd(Ip,r),i=Jg(Ip,r),o=zd(r),a=m.useRef(null),l=De(t,a,s.onTriggerChange),c=m.useRef(!1),u=m.useRef(!1),f=m.useCallback(()=>c.current=!1,[]);return m.useEffect(()=>()=>document.removeEventListener("pointerup",f),[f]),d.jsx(mS,{asChild:!0,...o,children:d.jsx(be.button,{"aria-describedby":s.open?s.contentId:void 0,"data-state":s.stateAttribute,...n,ref:l,onPointerMove:oe(e.onPointerMove,p=>{p.pointerType!=="touch"&&!u.current&&!i.isPointerInTransitRef.current&&(s.onTriggerEnter(),u.current=!0)}),onPointerLeave:oe(e.onPointerLeave,()=>{s.onTriggerLeave(),u.current=!1}),onPointerDown:oe(e.onPointerDown,()=>{s.open&&s.onClose(),c.current=!0,document.addEventListener("pointerup",f,{once:!0})}),onFocus:oe(e.onFocus,()=>{c.current||s.onOpen()}),onBlur:oe(e.onBlur,s.onClose),onClick:oe(e.onClick,s.onClose)})})});bS.displayName=Ip;var dO="TooltipPortal",[WB,fO]=Ud(dO,{forceMount:void 0}),Vo="TooltipContent",_S=m.forwardRef((e,t)=>{const r=fO(Vo,e.__scopeTooltip),{forceMount:n=r.forceMount,side:s="top",...i}=e,o=Bd(Vo,e.__scopeTooltip);return d.jsx(It,{present:n||o.open,children:o.disableHoverableContent?d.jsx(SS,{side:s,...i,ref:t}):d.jsx(hO,{side:s,...i,ref:t})})}),hO=m.forwardRef((e,t)=>{const r=Bd(Vo,e.__scopeTooltip),n=Jg(Vo,e.__scopeTooltip),s=m.useRef(null),i=De(t,s),[o,a]=m.useState(null),{trigger:l,onClose:c}=r,u=s.current,{onPointerInTransitChange:f}=n,p=m.useCallback(()=>{a(null),f(!1)},[f]),h=m.useCallback((x,v)=>{const y=x.currentTarget,g={x:x.clientX,y:x.clientY},w=yO(g,y.getBoundingClientRect()),b=wO(g,w),_=xO(v.getBoundingClientRect()),S=_O([...b,..._]);a(S),f(!0)},[f]);return m.useEffect(()=>()=>p(),[p]),m.useEffect(()=>{if(l&&u){const x=y=>h(y,u),v=y=>h(y,l);return l.addEventListener("pointerleave",x),u.addEventListener("pointerleave",v),()=>{l.removeEventListener("pointerleave",x),u.removeEventListener("pointerleave",v)}}},[l,u,h,p]),m.useEffect(()=>{if(o){const x=v=>{const y=v.target,g={x:v.clientX,y:v.clientY},w=(l==null?void 0:l.contains(y))||(u==null?void 0:u.contains(y)),b=!bO(g,o);w?p():b&&(p(),c())};return document.addEventListener("pointermove",x),()=>document.removeEventListener("pointermove",x)}},[l,u,o,c,p]),d.jsx(SS,{...e,ref:i})}),[pO,mO]=Ud(cl,{isInside:!1}),gO=n1("TooltipContent"),SS=m.forwardRef((e,t)=>{const{__scopeTooltip:r,children:n,"aria-label":s,onEscapeKeyDown:i,onPointerDownOutside:o,...a}=e,l=Bd(Vo,r),c=zd(r),{onClose:u}=l;return m.useEffect(()=>(document.addEventListener(Dp,u),()=>document.removeEventListener(Dp,u)),[u]),m.useEffect(()=>{if(l.trigger){const f=p=>{const h=p.target;h!=null&&h.contains(l.trigger)&&u()};return window.addEventListener("scroll",f,{capture:!0}),()=>window.removeEventListener("scroll",f,{capture:!0})}},[l.trigger,u]),d.jsx(Ll,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:f=>f.preventDefault(),onDismiss:u,children:d.jsxs(gS,{"data-state":l.stateAttribute,...c,...a,ref:t,style:{...a.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[d.jsx(gO,{children:n}),d.jsx(pO,{scope:r,isInside:!0,children:d.jsx(Wj,{id:l.contentId,role:"tooltip",children:s||n})})]})})});_S.displayName=Vo;var kS="TooltipArrow",vO=m.forwardRef((e,t)=>{const{__scopeTooltip:r,...n}=e,s=zd(r);return mO(kS,r).isInside?null:d.jsx(vS,{...s,...n,ref:t})});vO.displayName=kS;function yO(e,t){const r=Math.abs(t.top-e.y),n=Math.abs(t.bottom-e.y),s=Math.abs(t.right-e.x),i=Math.abs(t.left-e.x);switch(Math.min(r,n,s,i)){case i:return"left";case s:return"right";case r:return"top";case n:return"bottom";default:throw new Error("unreachable")}}function wO(e,t,r=5){const n=[];switch(t){case"top":n.push({x:e.x-r,y:e.y+r},{x:e.x+r,y:e.y+r});break;case"bottom":n.push({x:e.x-r,y:e.y-r},{x:e.x+r,y:e.y-r});break;case"left":n.push({x:e.x+r,y:e.y-r},{x:e.x+r,y:e.y+r});break;case"right":n.push({x:e.x-r,y:e.y-r},{x:e.x-r,y:e.y+r});break}return n}function xO(e){const{top:t,right:r,bottom:n,left:s}=e;return[{x:s,y:t},{x:r,y:t},{x:r,y:n},{x:s,y:n}]}function bO(e,t){const{x:r,y:n}=e;let s=!1;for(let i=0,o=t.length-1;i<t.length;o=i++){const a=t[i],l=t[o],c=a.x,u=a.y,f=l.x,p=l.y;u>n!=p>n&&r<(f-c)*(n-u)/(p-u)+c&&(s=!s)}return s}function _O(e){const t=e.slice();return t.sort((r,n)=>r.x<n.x?-1:r.x>n.x?1:r.y<n.y?-1:r.y>n.y?1:0),SO(t)}function SO(e){if(e.length<=1)return e.slice();const t=[];for(let n=0;n<e.length;n++){const s=e[n];for(;t.length>=2;){const i=t[t.length-1],o=t[t.length-2];if((i.x-o.x)*(s.y-o.y)>=(i.y-o.y)*(s.x-o.x))t.pop();else break}t.push(s)}t.pop();const r=[];for(let n=e.length-1;n>=0;n--){const s=e[n];for(;r.length>=2;){const i=r[r.length-1],o=r[r.length-2];if((i.x-o.x)*(s.y-o.y)>=(i.y-o.y)*(s.x-o.x))r.pop();else break}r.push(s)}return r.pop(),t.length===1&&r.length===1&&t[0].x===r[0].x&&t[0].y===r[0].y?t:t.concat(r)}var kO=wS,EO=xS,CO=bS,ES=_S;const Wl=kO,di=EO,fi=CO,Cs=m.forwardRef(({className:e,sideOffset:t=4,...r},n)=>d.jsx(ES,{ref:n,sideOffset:t,className:K("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...r}));Cs.displayName=ES.displayName;var sa=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},bi=typeof window>"u"||"Deno"in globalThis;function Tt(){}function NO(e,t){return typeof e=="function"?e(t):e}function Mp(e){return typeof e=="number"&&e>=0&&e!==1/0}function CS(e,t){return Math.max(e+(t||0)-Date.now(),0)}function Ns(e,t){return typeof e=="function"?e(t):e}function ur(e,t){return typeof e=="function"?e(t):e}function M0(e,t){const{type:r="all",exact:n,fetchStatus:s,predicate:i,queryKey:o,stale:a}=e;if(o){if(n){if(t.queryHash!==ev(o,t.options))return!1}else if(!ul(t.queryKey,o))return!1}if(r!=="all"){const l=t.isActive();if(r==="active"&&!l||r==="inactive"&&l)return!1}return!(typeof a=="boolean"&&t.isStale()!==a||s&&s!==t.state.fetchStatus||i&&!i(t))}function $0(e,t){const{exact:r,status:n,predicate:s,mutationKey:i}=e;if(i){if(!t.options.mutationKey)return!1;if(r){if(_i(t.options.mutationKey)!==_i(i))return!1}else if(!ul(t.options.mutationKey,i))return!1}return!(n&&t.state.status!==n||s&&!s(t))}function ev(e,t){return((t==null?void 0:t.queryKeyHashFn)||_i)(e)}function _i(e){return JSON.stringify(e,(t,r)=>$p(r)?Object.keys(r).sort().reduce((n,s)=>(n[s]=r[s],n),{}):r)}function ul(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(r=>ul(e[r],t[r])):!1}function NS(e,t){if(e===t)return e;const r=L0(e)&&L0(t);if(r||$p(e)&&$p(t)){const n=r?e:Object.keys(e),s=n.length,i=r?t:Object.keys(t),o=i.length,a=r?[]:{},l=new Set(n);let c=0;for(let u=0;u<o;u++){const f=r?u:i[u];(!r&&l.has(f)||r)&&e[f]===void 0&&t[f]===void 0?(a[f]=void 0,c++):(a[f]=NS(e[f],t[f]),a[f]===e[f]&&e[f]!==void 0&&c++)}return s===o&&c===s?e:a}return t}function Vu(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const r in e)if(e[r]!==t[r])return!1;return!0}function L0(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function $p(e){if(!F0(e))return!1;const t=e.constructor;if(t===void 0)return!0;const r=t.prototype;return!(!F0(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function F0(e){return Object.prototype.toString.call(e)==="[object Object]"}function TO(e){return new Promise(t=>{setTimeout(t,e)})}function Lp(e,t,r){return typeof r.structuralSharing=="function"?r.structuralSharing(e,t):r.structuralSharing!==!1?NS(e,t):t}function RO(e,t,r=0){const n=[...e,t];return r&&n.length>r?n.slice(1):n}function jO(e,t,r=0){const n=[t,...e];return r&&n.length>r?n.slice(0,-1):n}var tv=Symbol();function TS(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===tv?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}function RS(e,t){return typeof e=="function"?e(...t):!!e}var ei,ts,bo,Ax,AO=(Ax=class extends sa{constructor(){super();de(this,ei);de(this,ts);de(this,bo);se(this,bo,t=>{if(!bi&&window.addEventListener){const r=()=>t();return window.addEventListener("visibilitychange",r,!1),()=>{window.removeEventListener("visibilitychange",r)}}})}onSubscribe(){T(this,ts)||this.setEventListener(T(this,bo))}onUnsubscribe(){var t;this.hasListeners()||((t=T(this,ts))==null||t.call(this),se(this,ts,void 0))}setEventListener(t){var r;se(this,bo,t),(r=T(this,ts))==null||r.call(this),se(this,ts,t(n=>{typeof n=="boolean"?this.setFocused(n):this.onFocus()}))}setFocused(t){T(this,ei)!==t&&(se(this,ei,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(r=>{r(t)})}isFocused(){var t;return typeof T(this,ei)=="boolean"?T(this,ei):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},ei=new WeakMap,ts=new WeakMap,bo=new WeakMap,Ax),rv=new AO,_o,rs,So,Px,PO=(Px=class extends sa{constructor(){super();de(this,_o,!0);de(this,rs);de(this,So);se(this,So,t=>{if(!bi&&window.addEventListener){const r=()=>t(!0),n=()=>t(!1);return window.addEventListener("online",r,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",r),window.removeEventListener("offline",n)}}})}onSubscribe(){T(this,rs)||this.setEventListener(T(this,So))}onUnsubscribe(){var t;this.hasListeners()||((t=T(this,rs))==null||t.call(this),se(this,rs,void 0))}setEventListener(t){var r;se(this,So,t),(r=T(this,rs))==null||r.call(this),se(this,rs,t(this.setOnline.bind(this)))}setOnline(t){T(this,_o)!==t&&(se(this,_o,t),this.listeners.forEach(n=>{n(t)}))}isOnline(){return T(this,_o)}},_o=new WeakMap,rs=new WeakMap,So=new WeakMap,Px),qu=new PO;function Fp(){let e,t;const r=new Promise((s,i)=>{e=s,t=i});r.status="pending",r.catch(()=>{});function n(s){Object.assign(r,s),delete r.resolve,delete r.reject}return r.resolve=s=>{n({status:"fulfilled",value:s}),e(s)},r.reject=s=>{n({status:"rejected",reason:s}),t(s)},r}function OO(e){return Math.min(1e3*2**e,3e4)}function jS(e){return(e??"online")==="online"?qu.isOnline():!0}var AS=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function nh(e){return e instanceof AS}function PS(e){let t=!1,r=0,n=!1,s;const i=Fp(),o=v=>{var y;n||(p(new AS(v)),(y=e.abort)==null||y.call(e))},a=()=>{t=!0},l=()=>{t=!1},c=()=>rv.isFocused()&&(e.networkMode==="always"||qu.isOnline())&&e.canRun(),u=()=>jS(e.networkMode)&&e.canRun(),f=v=>{var y;n||(n=!0,(y=e.onSuccess)==null||y.call(e,v),s==null||s(),i.resolve(v))},p=v=>{var y;n||(n=!0,(y=e.onError)==null||y.call(e,v),s==null||s(),i.reject(v))},h=()=>new Promise(v=>{var y;s=g=>{(n||c())&&v(g)},(y=e.onPause)==null||y.call(e)}).then(()=>{var v;s=void 0,n||(v=e.onContinue)==null||v.call(e)}),x=()=>{if(n)return;let v;const y=r===0?e.initialPromise:void 0;try{v=y??e.fn()}catch(g){v=Promise.reject(g)}Promise.resolve(v).then(f).catch(g=>{var C;if(n)return;const w=e.retry??(bi?0:3),b=e.retryDelay??OO,_=typeof b=="function"?b(r,g):b,S=w===!0||typeof w=="number"&&r<w||typeof w=="function"&&w(r,g);if(t||!S){p(g);return}r++,(C=e.onFail)==null||C.call(e,r,g),TO(_).then(()=>c()?void 0:h()).then(()=>{t?p(g):x()})})};return{promise:i,cancel:o,continue:()=>(s==null||s(),i),cancelRetry:a,continueRetry:l,canStart:u,start:()=>(u()?x():h().then(x),i)}}var DO=e=>setTimeout(e,0);function IO(){let e=[],t=0,r=a=>{a()},n=a=>{a()},s=DO;const i=a=>{t?e.push(a):s(()=>{r(a)})},o=()=>{const a=e;e=[],a.length&&s(()=>{n(()=>{a.forEach(l=>{r(l)})})})};return{batch:a=>{let l;t++;try{l=a()}finally{t--,t||o()}return l},batchCalls:a=>(...l)=>{i(()=>{a(...l)})},schedule:i,setNotifyFunction:a=>{r=a},setBatchNotifyFunction:a=>{n=a},setScheduler:a=>{s=a}}}var lt=IO(),ti,Ox,OS=(Ox=class{constructor(){de(this,ti)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Mp(this.gcTime)&&se(this,ti,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(bi?1/0:5*60*1e3))}clearGcTimeout(){T(this,ti)&&(clearTimeout(T(this,ti)),se(this,ti,void 0))}},ti=new WeakMap,Ox),ko,ri,cr,ni,xt,Tl,si,jr,hn,Dx,MO=(Dx=class extends OS{constructor(t){super();de(this,jr);de(this,ko);de(this,ri);de(this,cr);de(this,ni);de(this,xt);de(this,Tl);de(this,si);se(this,si,!1),se(this,Tl,t.defaultOptions),this.setOptions(t.options),this.observers=[],se(this,ni,t.client),se(this,cr,T(this,ni).getQueryCache()),this.queryKey=t.queryKey,this.queryHash=t.queryHash,se(this,ko,$O(this.options)),this.state=t.state??T(this,ko),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=T(this,xt))==null?void 0:t.promise}setOptions(t){this.options={...T(this,Tl),...t},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&T(this,cr).remove(this)}setData(t,r){const n=Lp(this.state.data,t,this.options);return xe(this,jr,hn).call(this,{data:n,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),n}setState(t,r){xe(this,jr,hn).call(this,{type:"setState",state:t,setStateOptions:r})}cancel(t){var n,s;const r=(n=T(this,xt))==null?void 0:n.promise;return(s=T(this,xt))==null||s.cancel(t),r?r.then(Tt).catch(Tt):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(T(this,ko))}isActive(){return this.observers.some(t=>ur(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===tv||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>Ns(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!CS(this.state.dataUpdatedAt,t)}onFocus(){var r;const t=this.observers.find(n=>n.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(r=T(this,xt))==null||r.continue()}onOnline(){var r;const t=this.observers.find(n=>n.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(r=T(this,xt))==null||r.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),T(this,cr).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(r=>r!==t),this.observers.length||(T(this,xt)&&(T(this,si)?T(this,xt).cancel({revert:!0}):T(this,xt).cancelRetry()),this.scheduleGc()),T(this,cr).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||xe(this,jr,hn).call(this,{type:"invalidate"})}fetch(t,r){var c,u,f;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(T(this,xt))return T(this,xt).continueRetry(),T(this,xt).promise}if(t&&this.setOptions(t),!this.options.queryFn){const p=this.observers.find(h=>h.options.queryFn);p&&this.setOptions(p.options)}const n=new AbortController,s=p=>{Object.defineProperty(p,"signal",{enumerable:!0,get:()=>(se(this,si,!0),n.signal)})},i=()=>{const p=TS(this.options,r),x=(()=>{const v={client:T(this,ni),queryKey:this.queryKey,meta:this.meta};return s(v),v})();return se(this,si,!1),this.options.persister?this.options.persister(p,x,this):p(x)},a=(()=>{const p={fetchOptions:r,options:this.options,queryKey:this.queryKey,client:T(this,ni),state:this.state,fetchFn:i};return s(p),p})();(c=this.options.behavior)==null||c.onFetch(a,this),se(this,ri,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((u=a.fetchOptions)==null?void 0:u.meta))&&xe(this,jr,hn).call(this,{type:"fetch",meta:(f=a.fetchOptions)==null?void 0:f.meta});const l=p=>{var h,x,v,y;nh(p)&&p.silent||xe(this,jr,hn).call(this,{type:"error",error:p}),nh(p)||((x=(h=T(this,cr).config).onError)==null||x.call(h,p,this),(y=(v=T(this,cr).config).onSettled)==null||y.call(v,this.state.data,p,this)),this.scheduleGc()};return se(this,xt,PS({initialPromise:r==null?void 0:r.initialPromise,fn:a.fetchFn,abort:n.abort.bind(n),onSuccess:p=>{var h,x,v,y;if(p===void 0){l(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(p)}catch(g){l(g);return}(x=(h=T(this,cr).config).onSuccess)==null||x.call(h,p,this),(y=(v=T(this,cr).config).onSettled)==null||y.call(v,p,this.state.error,this),this.scheduleGc()},onError:l,onFail:(p,h)=>{xe(this,jr,hn).call(this,{type:"failed",failureCount:p,error:h})},onPause:()=>{xe(this,jr,hn).call(this,{type:"pause"})},onContinue:()=>{xe(this,jr,hn).call(this,{type:"continue"})},retry:a.options.retry,retryDelay:a.options.retryDelay,networkMode:a.options.networkMode,canRun:()=>!0})),T(this,xt).start()}},ko=new WeakMap,ri=new WeakMap,cr=new WeakMap,ni=new WeakMap,xt=new WeakMap,Tl=new WeakMap,si=new WeakMap,jr=new WeakSet,hn=function(t){const r=n=>{switch(t.type){case"failed":return{...n,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...DS(n.data,this.options),fetchMeta:t.meta??null};case"success":return se(this,ri,void 0),{...n,data:t.data,dataUpdateCount:n.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const s=t.error;return nh(s)&&s.revert&&T(this,ri)?{...T(this,ri),fetchStatus:"idle"}:{...n,error:s,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:s,fetchStatus:"idle",status:"error"};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...t.state}}};this.state=r(this.state),lt.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),T(this,cr).notify({query:this,type:"updated",action:t})})},Dx);function DS(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:jS(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function $O(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,r=t!==void 0,n=r?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:r?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var qr,Ix,LO=(Ix=class extends sa{constructor(t={}){super();de(this,qr);this.config=t,se(this,qr,new Map)}build(t,r,n){const s=r.queryKey,i=r.queryHash??ev(s,r);let o=this.get(i);return o||(o=new MO({client:t,queryKey:s,queryHash:i,options:t.defaultQueryOptions(r),state:n,defaultOptions:t.getQueryDefaults(s)}),this.add(o)),o}add(t){T(this,qr).has(t.queryHash)||(T(this,qr).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const r=T(this,qr).get(t.queryHash);r&&(t.destroy(),r===t&&T(this,qr).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){lt.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return T(this,qr).get(t)}getAll(){return[...T(this,qr).values()]}find(t){const r={exact:!0,...t};return this.getAll().find(n=>M0(r,n))}findAll(t={}){const r=this.getAll();return Object.keys(t).length>0?r.filter(n=>M0(t,n)):r}notify(t){lt.batch(()=>{this.listeners.forEach(r=>{r(t)})})}onFocus(){lt.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){lt.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},qr=new WeakMap,Ix),Kr,Et,ii,Hr,Vn,Mx,FO=(Mx=class extends OS{constructor(t){super();de(this,Hr);de(this,Kr);de(this,Et);de(this,ii);this.mutationId=t.mutationId,se(this,Et,t.mutationCache),se(this,Kr,[]),this.state=t.state||IS(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){T(this,Kr).includes(t)||(T(this,Kr).push(t),this.clearGcTimeout(),T(this,Et).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){se(this,Kr,T(this,Kr).filter(r=>r!==t)),this.scheduleGc(),T(this,Et).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){T(this,Kr).length||(this.state.status==="pending"?this.scheduleGc():T(this,Et).remove(this))}continue(){var t;return((t=T(this,ii))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var i,o,a,l,c,u,f,p,h,x,v,y,g,w,b,_,S,C,E,R;const r=()=>{xe(this,Hr,Vn).call(this,{type:"continue"})};se(this,ii,PS({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(P,D)=>{xe(this,Hr,Vn).call(this,{type:"failed",failureCount:P,error:D})},onPause:()=>{xe(this,Hr,Vn).call(this,{type:"pause"})},onContinue:r,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>T(this,Et).canRun(this)}));const n=this.state.status==="pending",s=!T(this,ii).canStart();try{if(n)r();else{xe(this,Hr,Vn).call(this,{type:"pending",variables:t,isPaused:s}),await((o=(i=T(this,Et).config).onMutate)==null?void 0:o.call(i,t,this));const D=await((l=(a=this.options).onMutate)==null?void 0:l.call(a,t));D!==this.state.context&&xe(this,Hr,Vn).call(this,{type:"pending",context:D,variables:t,isPaused:s})}const P=await T(this,ii).start();return await((u=(c=T(this,Et).config).onSuccess)==null?void 0:u.call(c,P,t,this.state.context,this)),await((p=(f=this.options).onSuccess)==null?void 0:p.call(f,P,t,this.state.context)),await((x=(h=T(this,Et).config).onSettled)==null?void 0:x.call(h,P,null,this.state.variables,this.state.context,this)),await((y=(v=this.options).onSettled)==null?void 0:y.call(v,P,null,t,this.state.context)),xe(this,Hr,Vn).call(this,{type:"success",data:P}),P}catch(P){try{throw await((w=(g=T(this,Et).config).onError)==null?void 0:w.call(g,P,t,this.state.context,this)),await((_=(b=this.options).onError)==null?void 0:_.call(b,P,t,this.state.context)),await((C=(S=T(this,Et).config).onSettled)==null?void 0:C.call(S,void 0,P,this.state.variables,this.state.context,this)),await((R=(E=this.options).onSettled)==null?void 0:R.call(E,void 0,P,t,this.state.context)),P}finally{xe(this,Hr,Vn).call(this,{type:"error",error:P})}}finally{T(this,Et).runNext(this)}}},Kr=new WeakMap,Et=new WeakMap,ii=new WeakMap,Hr=new WeakSet,Vn=function(t){const r=n=>{switch(t.type){case"failed":return{...n,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...n,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:t.error,failureCount:n.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=r(this.state),lt.batch(()=>{T(this,Kr).forEach(n=>{n.onMutationUpdate(t)}),T(this,Et).notify({mutation:this,type:"updated",action:t})})},Mx);function IS(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var vn,Ar,Rl,$x,UO=($x=class extends sa{constructor(t={}){super();de(this,vn);de(this,Ar);de(this,Rl);this.config=t,se(this,vn,new Set),se(this,Ar,new Map),se(this,Rl,0)}build(t,r,n){const s=new FO({mutationCache:this,mutationId:++oc(this,Rl)._,options:t.defaultMutationOptions(r),state:n});return this.add(s),s}add(t){T(this,vn).add(t);const r=Rc(t);if(typeof r=="string"){const n=T(this,Ar).get(r);n?n.push(t):T(this,Ar).set(r,[t])}this.notify({type:"added",mutation:t})}remove(t){if(T(this,vn).delete(t)){const r=Rc(t);if(typeof r=="string"){const n=T(this,Ar).get(r);if(n)if(n.length>1){const s=n.indexOf(t);s!==-1&&n.splice(s,1)}else n[0]===t&&T(this,Ar).delete(r)}}this.notify({type:"removed",mutation:t})}canRun(t){const r=Rc(t);if(typeof r=="string"){const n=T(this,Ar).get(r),s=n==null?void 0:n.find(i=>i.state.status==="pending");return!s||s===t}else return!0}runNext(t){var n;const r=Rc(t);if(typeof r=="string"){const s=(n=T(this,Ar).get(r))==null?void 0:n.find(i=>i!==t&&i.state.isPaused);return(s==null?void 0:s.continue())??Promise.resolve()}else return Promise.resolve()}clear(){lt.batch(()=>{T(this,vn).forEach(t=>{this.notify({type:"removed",mutation:t})}),T(this,vn).clear(),T(this,Ar).clear()})}getAll(){return Array.from(T(this,vn))}find(t){const r={exact:!0,...t};return this.getAll().find(n=>$0(r,n))}findAll(t={}){return this.getAll().filter(r=>$0(t,r))}notify(t){lt.batch(()=>{this.listeners.forEach(r=>{r(t)})})}resumePausedMutations(){const t=this.getAll().filter(r=>r.state.isPaused);return lt.batch(()=>Promise.all(t.map(r=>r.continue().catch(Tt))))}},vn=new WeakMap,Ar=new WeakMap,Rl=new WeakMap,$x);function Rc(e){var t;return(t=e.options.scope)==null?void 0:t.id}function U0(e){return{onFetch:(t,r)=>{var u,f,p,h,x;const n=t.options,s=(p=(f=(u=t.fetchOptions)==null?void 0:u.meta)==null?void 0:f.fetchMore)==null?void 0:p.direction,i=((h=t.state.data)==null?void 0:h.pages)||[],o=((x=t.state.data)==null?void 0:x.pageParams)||[];let a={pages:[],pageParams:[]},l=0;const c=async()=>{let v=!1;const y=b=>{Object.defineProperty(b,"signal",{enumerable:!0,get:()=>(t.signal.aborted?v=!0:t.signal.addEventListener("abort",()=>{v=!0}),t.signal)})},g=TS(t.options,t.fetchOptions),w=async(b,_,S)=>{if(v)return Promise.reject();if(_==null&&b.pages.length)return Promise.resolve(b);const E=(()=>{const W={client:t.client,queryKey:t.queryKey,pageParam:_,direction:S?"backward":"forward",meta:t.options.meta};return y(W),W})(),R=await g(E),{maxPages:P}=t.options,D=S?jO:RO;return{pages:D(b.pages,R,P),pageParams:D(b.pageParams,_,P)}};if(s&&i.length){const b=s==="backward",_=b?zO:z0,S={pages:i,pageParams:o},C=_(n,S);a=await w(S,C,b)}else{const b=e??i.length;do{const _=l===0?o[0]??n.initialPageParam:z0(n,a);if(l>0&&_==null)break;a=await w(a,_),l++}while(l<b)}return a};t.options.persister?t.fetchFn=()=>{var v,y;return(y=(v=t.options).persister)==null?void 0:y.call(v,c,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},r)}:t.fetchFn=c}}}function z0(e,{pages:t,pageParams:r}){const n=t.length-1;return t.length>0?e.getNextPageParam(t[n],t,r[n],r):void 0}function zO(e,{pages:t,pageParams:r}){var n;return t.length>0?(n=e.getPreviousPageParam)==null?void 0:n.call(e,t[0],t,r[0],r):void 0}var Ze,ns,ss,Eo,Co,is,No,To,Lx,BO=(Lx=class{constructor(e={}){de(this,Ze);de(this,ns);de(this,ss);de(this,Eo);de(this,Co);de(this,is);de(this,No);de(this,To);se(this,Ze,e.queryCache||new LO),se(this,ns,e.mutationCache||new UO),se(this,ss,e.defaultOptions||{}),se(this,Eo,new Map),se(this,Co,new Map),se(this,is,0)}mount(){oc(this,is)._++,T(this,is)===1&&(se(this,No,rv.subscribe(async e=>{e&&(await this.resumePausedMutations(),T(this,Ze).onFocus())})),se(this,To,qu.subscribe(async e=>{e&&(await this.resumePausedMutations(),T(this,Ze).onOnline())})))}unmount(){var e,t;oc(this,is)._--,T(this,is)===0&&((e=T(this,No))==null||e.call(this),se(this,No,void 0),(t=T(this,To))==null||t.call(this),se(this,To,void 0))}isFetching(e){return T(this,Ze).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return T(this,ns).findAll({...e,status:"pending"}).length}getQueryData(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=T(this,Ze).get(t.queryHash))==null?void 0:r.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),r=T(this,Ze).build(this,t),n=r.state.data;return n===void 0?this.fetchQuery(e):(e.revalidateIfStale&&r.isStaleByTime(Ns(t.staleTime,r))&&this.prefetchQuery(t),Promise.resolve(n))}getQueriesData(e){return T(this,Ze).findAll(e).map(({queryKey:t,state:r})=>{const n=r.data;return[t,n]})}setQueryData(e,t,r){const n=this.defaultQueryOptions({queryKey:e}),s=T(this,Ze).get(n.queryHash),i=s==null?void 0:s.state.data,o=NO(t,i);if(o!==void 0)return T(this,Ze).build(this,n).setData(o,{...r,manual:!0})}setQueriesData(e,t,r){return lt.batch(()=>T(this,Ze).findAll(e).map(({queryKey:n})=>[n,this.setQueryData(n,t,r)]))}getQueryState(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=T(this,Ze).get(t.queryHash))==null?void 0:r.state}removeQueries(e){const t=T(this,Ze);lt.batch(()=>{t.findAll(e).forEach(r=>{t.remove(r)})})}resetQueries(e,t){const r=T(this,Ze);return lt.batch(()=>(r.findAll(e).forEach(n=>{n.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const r={revert:!0,...t},n=lt.batch(()=>T(this,Ze).findAll(e).map(s=>s.cancel(r)));return Promise.all(n).then(Tt).catch(Tt)}invalidateQueries(e,t={}){return lt.batch(()=>(T(this,Ze).findAll(e).forEach(r=>{r.invalidate()}),(e==null?void 0:e.refetchType)==="none"?Promise.resolve():this.refetchQueries({...e,type:(e==null?void 0:e.refetchType)??(e==null?void 0:e.type)??"active"},t)))}refetchQueries(e,t={}){const r={...t,cancelRefetch:t.cancelRefetch??!0},n=lt.batch(()=>T(this,Ze).findAll(e).filter(s=>!s.isDisabled()&&!s.isStatic()).map(s=>{let i=s.fetch(void 0,r);return r.throwOnError||(i=i.catch(Tt)),s.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(n).then(Tt)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const r=T(this,Ze).build(this,t);return r.isStaleByTime(Ns(t.staleTime,r))?r.fetch(t):Promise.resolve(r.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(Tt).catch(Tt)}fetchInfiniteQuery(e){return e.behavior=U0(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(Tt).catch(Tt)}ensureInfiniteQueryData(e){return e.behavior=U0(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return qu.isOnline()?T(this,ns).resumePausedMutations():Promise.resolve()}getQueryCache(){return T(this,Ze)}getMutationCache(){return T(this,ns)}getDefaultOptions(){return T(this,ss)}setDefaultOptions(e){se(this,ss,e)}setQueryDefaults(e,t){T(this,Eo).set(_i(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...T(this,Eo).values()],r={};return t.forEach(n=>{ul(e,n.queryKey)&&Object.assign(r,n.defaultOptions)}),r}setMutationDefaults(e,t){T(this,Co).set(_i(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...T(this,Co).values()],r={};return t.forEach(n=>{ul(e,n.mutationKey)&&Object.assign(r,n.defaultOptions)}),r}defaultQueryOptions(e){if(e._defaulted)return e;const t={...T(this,ss).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=ev(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===tv&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...T(this,ss).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){T(this,Ze).clear(),T(this,ns).clear()}},Ze=new WeakMap,ns=new WeakMap,ss=new WeakMap,Eo=new WeakMap,Co=new WeakMap,is=new WeakMap,No=new WeakMap,To=new WeakMap,Lx),Lt,Ce,jl,Ct,oi,Ro,os,as,Al,jo,Ao,ai,li,ls,Po,Ie,Sa,Up,zp,Bp,Wp,Vp,qp,Kp,MS,Fx,WO=(Fx=class extends sa{constructor(t,r){super();de(this,Ie);de(this,Lt);de(this,Ce);de(this,jl);de(this,Ct);de(this,oi);de(this,Ro);de(this,os);de(this,as);de(this,Al);de(this,jo);de(this,Ao);de(this,ai);de(this,li);de(this,ls);de(this,Po,new Set);this.options=r,se(this,Lt,t),se(this,as,null),se(this,os,Fp()),this.options.experimental_prefetchInRender||T(this,os).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(r)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(T(this,Ce).addObserver(this),B0(T(this,Ce),this.options)?xe(this,Ie,Sa).call(this):this.updateResult(),xe(this,Ie,Wp).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return Hp(T(this,Ce),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return Hp(T(this,Ce),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,xe(this,Ie,Vp).call(this),xe(this,Ie,qp).call(this),T(this,Ce).removeObserver(this)}setOptions(t){const r=this.options,n=T(this,Ce);if(this.options=T(this,Lt).defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof ur(this.options.enabled,T(this,Ce))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");xe(this,Ie,Kp).call(this),T(this,Ce).setOptions(this.options),r._defaulted&&!Vu(this.options,r)&&T(this,Lt).getQueryCache().notify({type:"observerOptionsUpdated",query:T(this,Ce),observer:this});const s=this.hasListeners();s&&W0(T(this,Ce),n,this.options,r)&&xe(this,Ie,Sa).call(this),this.updateResult(),s&&(T(this,Ce)!==n||ur(this.options.enabled,T(this,Ce))!==ur(r.enabled,T(this,Ce))||Ns(this.options.staleTime,T(this,Ce))!==Ns(r.staleTime,T(this,Ce)))&&xe(this,Ie,Up).call(this);const i=xe(this,Ie,zp).call(this);s&&(T(this,Ce)!==n||ur(this.options.enabled,T(this,Ce))!==ur(r.enabled,T(this,Ce))||i!==T(this,ls))&&xe(this,Ie,Bp).call(this,i)}getOptimisticResult(t){const r=T(this,Lt).getQueryCache().build(T(this,Lt),t),n=this.createResult(r,t);return qO(this,n)&&(se(this,Ct,n),se(this,Ro,this.options),se(this,oi,T(this,Ce).state)),n}getCurrentResult(){return T(this,Ct)}trackResult(t,r){return new Proxy(t,{get:(n,s)=>(this.trackProp(s),r==null||r(s),Reflect.get(n,s))})}trackProp(t){T(this,Po).add(t)}getCurrentQuery(){return T(this,Ce)}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const r=T(this,Lt).defaultQueryOptions(t),n=T(this,Lt).getQueryCache().build(T(this,Lt),r);return n.fetch().then(()=>this.createResult(n,r))}fetch(t){return xe(this,Ie,Sa).call(this,{...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),T(this,Ct)))}createResult(t,r){var P;const n=T(this,Ce),s=this.options,i=T(this,Ct),o=T(this,oi),a=T(this,Ro),c=t!==n?t.state:T(this,jl),{state:u}=t;let f={...u},p=!1,h;if(r._optimisticResults){const D=this.hasListeners(),W=!D&&B0(t,r),B=D&&W0(t,n,r,s);(W||B)&&(f={...f,...DS(u.data,t.options)}),r._optimisticResults==="isRestoring"&&(f.fetchStatus="idle")}let{error:x,errorUpdatedAt:v,status:y}=f;h=f.data;let g=!1;if(r.placeholderData!==void 0&&h===void 0&&y==="pending"){let D;i!=null&&i.isPlaceholderData&&r.placeholderData===(a==null?void 0:a.placeholderData)?(D=i.data,g=!0):D=typeof r.placeholderData=="function"?r.placeholderData((P=T(this,Ao))==null?void 0:P.state.data,T(this,Ao)):r.placeholderData,D!==void 0&&(y="success",h=Lp(i==null?void 0:i.data,D,r),p=!0)}if(r.select&&h!==void 0&&!g)if(i&&h===(o==null?void 0:o.data)&&r.select===T(this,Al))h=T(this,jo);else try{se(this,Al,r.select),h=r.select(h),h=Lp(i==null?void 0:i.data,h,r),se(this,jo,h),se(this,as,null)}catch(D){se(this,as,D)}T(this,as)&&(x=T(this,as),h=T(this,jo),v=Date.now(),y="error");const w=f.fetchStatus==="fetching",b=y==="pending",_=y==="error",S=b&&w,C=h!==void 0,R={status:y,fetchStatus:f.fetchStatus,isPending:b,isSuccess:y==="success",isError:_,isInitialLoading:S,isLoading:S,data:h,dataUpdatedAt:f.dataUpdatedAt,error:x,errorUpdatedAt:v,failureCount:f.fetchFailureCount,failureReason:f.fetchFailureReason,errorUpdateCount:f.errorUpdateCount,isFetched:f.dataUpdateCount>0||f.errorUpdateCount>0,isFetchedAfterMount:f.dataUpdateCount>c.dataUpdateCount||f.errorUpdateCount>c.errorUpdateCount,isFetching:w,isRefetching:w&&!b,isLoadingError:_&&!C,isPaused:f.fetchStatus==="paused",isPlaceholderData:p,isRefetchError:_&&C,isStale:nv(t,r),refetch:this.refetch,promise:T(this,os),isEnabled:ur(r.enabled,t)!==!1};if(this.options.experimental_prefetchInRender){const D=Z=>{R.status==="error"?Z.reject(R.error):R.data!==void 0&&Z.resolve(R.data)},W=()=>{const Z=se(this,os,R.promise=Fp());D(Z)},B=T(this,os);switch(B.status){case"pending":t.queryHash===n.queryHash&&D(B);break;case"fulfilled":(R.status==="error"||R.data!==B.value)&&W();break;case"rejected":(R.status!=="error"||R.error!==B.reason)&&W();break}}return R}updateResult(){const t=T(this,Ct),r=this.createResult(T(this,Ce),this.options);if(se(this,oi,T(this,Ce).state),se(this,Ro,this.options),T(this,oi).data!==void 0&&se(this,Ao,T(this,Ce)),Vu(r,t))return;se(this,Ct,r);const n=()=>{if(!t)return!0;const{notifyOnChangeProps:s}=this.options,i=typeof s=="function"?s():s;if(i==="all"||!i&&!T(this,Po).size)return!0;const o=new Set(i??T(this,Po));return this.options.throwOnError&&o.add("error"),Object.keys(T(this,Ct)).some(a=>{const l=a;return T(this,Ct)[l]!==t[l]&&o.has(l)})};xe(this,Ie,MS).call(this,{listeners:n()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&xe(this,Ie,Wp).call(this)}},Lt=new WeakMap,Ce=new WeakMap,jl=new WeakMap,Ct=new WeakMap,oi=new WeakMap,Ro=new WeakMap,os=new WeakMap,as=new WeakMap,Al=new WeakMap,jo=new WeakMap,Ao=new WeakMap,ai=new WeakMap,li=new WeakMap,ls=new WeakMap,Po=new WeakMap,Ie=new WeakSet,Sa=function(t){xe(this,Ie,Kp).call(this);let r=T(this,Ce).fetch(this.options,t);return t!=null&&t.throwOnError||(r=r.catch(Tt)),r},Up=function(){xe(this,Ie,Vp).call(this);const t=Ns(this.options.staleTime,T(this,Ce));if(bi||T(this,Ct).isStale||!Mp(t))return;const n=CS(T(this,Ct).dataUpdatedAt,t)+1;se(this,ai,setTimeout(()=>{T(this,Ct).isStale||this.updateResult()},n))},zp=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(T(this,Ce)):this.options.refetchInterval)??!1},Bp=function(t){xe(this,Ie,qp).call(this),se(this,ls,t),!(bi||ur(this.options.enabled,T(this,Ce))===!1||!Mp(T(this,ls))||T(this,ls)===0)&&se(this,li,setInterval(()=>{(this.options.refetchIntervalInBackground||rv.isFocused())&&xe(this,Ie,Sa).call(this)},T(this,ls)))},Wp=function(){xe(this,Ie,Up).call(this),xe(this,Ie,Bp).call(this,xe(this,Ie,zp).call(this))},Vp=function(){T(this,ai)&&(clearTimeout(T(this,ai)),se(this,ai,void 0))},qp=function(){T(this,li)&&(clearInterval(T(this,li)),se(this,li,void 0))},Kp=function(){const t=T(this,Lt).getQueryCache().build(T(this,Lt),this.options);if(t===T(this,Ce))return;const r=T(this,Ce);se(this,Ce,t),se(this,jl,t.state),this.hasListeners()&&(r==null||r.removeObserver(this),t.addObserver(this))},MS=function(t){lt.batch(()=>{t.listeners&&this.listeners.forEach(r=>{r(T(this,Ct))}),T(this,Lt).getQueryCache().notify({query:T(this,Ce),type:"observerResultsUpdated"})})},Fx);function VO(e,t){return ur(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function B0(e,t){return VO(e,t)||e.state.data!==void 0&&Hp(e,t,t.refetchOnMount)}function Hp(e,t,r){if(ur(t.enabled,e)!==!1&&Ns(t.staleTime,e)!=="static"){const n=typeof r=="function"?r(e):r;return n==="always"||n!==!1&&nv(e,t)}return!1}function W0(e,t,r,n){return(e!==t||ur(n.enabled,e)===!1)&&(!r.suspense||e.state.status!=="error")&&nv(e,r)}function nv(e,t){return ur(t.enabled,e)!==!1&&e.isStaleByTime(Ns(t.staleTime,e))}function qO(e,t){return!Vu(e.getCurrentResult(),t)}var cs,us,Ft,yn,kn,su,Gp,Ux,KO=(Ux=class extends sa{constructor(r,n){super();de(this,kn);de(this,cs);de(this,us);de(this,Ft);de(this,yn);se(this,cs,r),this.setOptions(n),this.bindMethods(),xe(this,kn,su).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(r){var s;const n=this.options;this.options=T(this,cs).defaultMutationOptions(r),Vu(this.options,n)||T(this,cs).getMutationCache().notify({type:"observerOptionsUpdated",mutation:T(this,Ft),observer:this}),n!=null&&n.mutationKey&&this.options.mutationKey&&_i(n.mutationKey)!==_i(this.options.mutationKey)?this.reset():((s=T(this,Ft))==null?void 0:s.state.status)==="pending"&&T(this,Ft).setOptions(this.options)}onUnsubscribe(){var r;this.hasListeners()||(r=T(this,Ft))==null||r.removeObserver(this)}onMutationUpdate(r){xe(this,kn,su).call(this),xe(this,kn,Gp).call(this,r)}getCurrentResult(){return T(this,us)}reset(){var r;(r=T(this,Ft))==null||r.removeObserver(this),se(this,Ft,void 0),xe(this,kn,su).call(this),xe(this,kn,Gp).call(this)}mutate(r,n){var s;return se(this,yn,n),(s=T(this,Ft))==null||s.removeObserver(this),se(this,Ft,T(this,cs).getMutationCache().build(T(this,cs),this.options)),T(this,Ft).addObserver(this),T(this,Ft).execute(r)}},cs=new WeakMap,us=new WeakMap,Ft=new WeakMap,yn=new WeakMap,kn=new WeakSet,su=function(){var n;const r=((n=T(this,Ft))==null?void 0:n.state)??IS();se(this,us,{...r,isPending:r.status==="pending",isSuccess:r.status==="success",isError:r.status==="error",isIdle:r.status==="idle",mutate:this.mutate,reset:this.reset})},Gp=function(r){lt.batch(()=>{var n,s,i,o,a,l,c,u;if(T(this,yn)&&this.hasListeners()){const f=T(this,us).variables,p=T(this,us).context;(r==null?void 0:r.type)==="success"?((s=(n=T(this,yn)).onSuccess)==null||s.call(n,r.data,f,p),(o=(i=T(this,yn)).onSettled)==null||o.call(i,r.data,null,f,p)):(r==null?void 0:r.type)==="error"&&((l=(a=T(this,yn)).onError)==null||l.call(a,r.error,f,p),(u=(c=T(this,yn)).onSettled)==null||u.call(c,void 0,r.error,f,p))}this.listeners.forEach(f=>{f(T(this,us))})})},Ux),$S=m.createContext(void 0),lr=e=>{const t=m.useContext($S);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},HO=({client:e,children:t})=>(m.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),d.jsx($S.Provider,{value:e,children:t})),LS=m.createContext(!1),GO=()=>m.useContext(LS);LS.Provider;function QO(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var YO=m.createContext(QO()),ZO=()=>m.useContext(YO),XO=(e,t)=>{(e.suspense||e.throwOnError||e.experimental_prefetchInRender)&&(t.isReset()||(e.retryOnMount=!1))},JO=e=>{m.useEffect(()=>{e.clearReset()},[e])},eD=({result:e,errorResetBoundary:t,throwOnError:r,query:n,suspense:s})=>e.isError&&!t.isReset()&&!e.isFetching&&n&&(s&&e.data===void 0||RS(r,[e.error,n])),tD=e=>{if(e.suspense){const t=n=>n==="static"?n:Math.max(n??1e3,1e3),r=e.staleTime;e.staleTime=typeof r=="function"?(...n)=>t(r(...n)):t(r),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3))}},rD=(e,t)=>e.isLoading&&e.isFetching&&!t,nD=(e,t)=>(e==null?void 0:e.suspense)&&t.isPending,V0=(e,t,r)=>t.fetchOptimistic(e).catch(()=>{r.clearReset()});function sD(e,t,r){var f,p,h,x,v;const n=GO(),s=ZO(),i=lr(),o=i.defaultQueryOptions(e);(p=(f=i.getDefaultOptions().queries)==null?void 0:f._experimental_beforeQuery)==null||p.call(f,o),o._optimisticResults=n?"isRestoring":"optimistic",tD(o),XO(o,s),JO(s);const a=!i.getQueryCache().get(o.queryHash),[l]=m.useState(()=>new t(i,o)),c=l.getOptimisticResult(o),u=!n&&e.subscribed!==!1;if(m.useSyncExternalStore(m.useCallback(y=>{const g=u?l.subscribe(lt.batchCalls(y)):Tt;return l.updateResult(),g},[l,u]),()=>l.getCurrentResult(),()=>l.getCurrentResult()),m.useEffect(()=>{l.setOptions(o)},[o,l]),nD(o,c))throw V0(o,l,s);if(eD({result:c,errorResetBoundary:s,throwOnError:o.throwOnError,query:i.getQueryCache().get(o.queryHash),suspense:o.suspense}))throw c.error;if((x=(h=i.getDefaultOptions().queries)==null?void 0:h._experimental_afterQuery)==null||x.call(h,o,c),o.experimental_prefetchInRender&&!bi&&rD(c,n)){const y=a?V0(o,l,s):(v=i.getQueryCache().get(o.queryHash))==null?void 0:v.promise;y==null||y.catch(Tt).finally(()=>{l.updateResult()})}return o.notifyOnChangeProps?c:l.trackResult(c)}function Pt(e,t){return sD(e,WO)}function on(e,t){const r=lr(),[n]=m.useState(()=>new KO(r,e));m.useEffect(()=>{n.setOptions(e)},[n,e]);const s=m.useSyncExternalStore(m.useCallback(o=>n.subscribe(lt.batchCalls(o)),[n]),()=>n.getCurrentResult(),()=>n.getCurrentResult()),i=m.useCallback((o,a)=>{n.mutate(o,a).catch(Tt)},[n]);if(s.error&&RS(n.options.throwOnError,[s.error]))throw s.error;return{...s,mutate:i,mutateAsync:s.mutate}}/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function dl(){return dl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},dl.apply(this,arguments)}var hs;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(hs||(hs={}));const q0="popstate";function iD(e){e===void 0&&(e={});function t(n,s){let{pathname:i,search:o,hash:a}=n.location;return Qp("",{pathname:i,search:o,hash:a},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function r(n,s){return typeof s=="string"?s:US(s)}return aD(t,r,null,e)}function it(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function FS(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function oD(){return Math.random().toString(36).substr(2,8)}function K0(e,t){return{usr:e.state,key:e.key,idx:t}}function Qp(e,t,r,n){return r===void 0&&(r=null),dl({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?ia(t):t,{state:r,key:t&&t.key||n||oD()})}function US(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function ia(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function aD(e,t,r,n){n===void 0&&(n={});let{window:s=document.defaultView,v5Compat:i=!1}=n,o=s.history,a=hs.Pop,l=null,c=u();c==null&&(c=0,o.replaceState(dl({},o.state,{idx:c}),""));function u(){return(o.state||{idx:null}).idx}function f(){a=hs.Pop;let y=u(),g=y==null?null:y-c;c=y,l&&l({action:a,location:v.location,delta:g})}function p(y,g){a=hs.Push;let w=Qp(v.location,y,g);c=u()+1;let b=K0(w,c),_=v.createHref(w);try{o.pushState(b,"",_)}catch(S){if(S instanceof DOMException&&S.name==="DataCloneError")throw S;s.location.assign(_)}i&&l&&l({action:a,location:v.location,delta:1})}function h(y,g){a=hs.Replace;let w=Qp(v.location,y,g);c=u();let b=K0(w,c),_=v.createHref(w);o.replaceState(b,"",_),i&&l&&l({action:a,location:v.location,delta:0})}function x(y){let g=s.location.origin!=="null"?s.location.origin:s.location.href,w=typeof y=="string"?y:US(y);return w=w.replace(/ $/,"%20"),it(g,"No window.location.(origin|href) available to create URL for href: "+w),new URL(w,g)}let v={get action(){return a},get location(){return e(s,o)},listen(y){if(l)throw new Error("A history only accepts one active listener");return s.addEventListener(q0,f),l=y,()=>{s.removeEventListener(q0,f),l=null}},createHref(y){return t(s,y)},createURL:x,encodeLocation(y){let g=x(y);return{pathname:g.pathname,search:g.search,hash:g.hash}},push:p,replace:h,go(y){return o.go(y)}};return v}var H0;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(H0||(H0={}));function lD(e,t,r){return r===void 0&&(r="/"),cD(e,t,r,!1)}function cD(e,t,r,n){let s=typeof t=="string"?ia(t):t,i=WS(s.pathname||"/",r);if(i==null)return null;let o=zS(e);uD(o);let a=null;for(let l=0;a==null&&l<o.length;++l){let c=bD(i);a=wD(o[l],c,n)}return a}function zS(e,t,r,n){t===void 0&&(t=[]),r===void 0&&(r=[]),n===void 0&&(n="");let s=(i,o,a)=>{let l={relativePath:a===void 0?i.path||"":a,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};l.relativePath.startsWith("/")&&(it(l.relativePath.startsWith(n),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(n.length));let c=hi([n,l.relativePath]),u=r.concat(l);i.children&&i.children.length>0&&(it(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),zS(i.children,t,u,c)),!(i.path==null&&!i.index)&&t.push({path:c,score:vD(c,i.index),routesMeta:u})};return e.forEach((i,o)=>{var a;if(i.path===""||!((a=i.path)!=null&&a.includes("?")))s(i,o);else for(let l of BS(i.path))s(i,o,l)}),t}function BS(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,s=r.endsWith("?"),i=r.replace(/\?$/,"");if(n.length===0)return s?[i,""]:[i];let o=BS(n.join("/")),a=[];return a.push(...o.map(l=>l===""?i:[i,l].join("/"))),s&&a.push(...o),a.map(l=>e.startsWith("/")&&l===""?"/":l)}function uD(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:yD(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const dD=/^:[\w-]+$/,fD=3,hD=2,pD=1,mD=10,gD=-2,G0=e=>e==="*";function vD(e,t){let r=e.split("/"),n=r.length;return r.some(G0)&&(n+=gD),t&&(n+=hD),r.filter(s=>!G0(s)).reduce((s,i)=>s+(dD.test(i)?fD:i===""?pD:mD),n)}function yD(e,t){return e.length===t.length&&e.slice(0,-1).every((n,s)=>n===t[s])?e[e.length-1]-t[t.length-1]:0}function wD(e,t,r){let{routesMeta:n}=e,s={},i="/",o=[];for(let a=0;a<n.length;++a){let l=n[a],c=a===n.length-1,u=i==="/"?t:t.slice(i.length)||"/",f=Q0({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},u),p=l.route;if(!f&&c&&r&&!n[n.length-1].route.index&&(f=Q0({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},u)),!f)return null;Object.assign(s,f.params),o.push({params:s,pathname:hi([i,f.pathname]),pathnameBase:ED(hi([i,f.pathnameBase])),route:p}),f.pathnameBase!=="/"&&(i=hi([i,f.pathnameBase]))}return o}function Q0(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=xD(e.path,e.caseSensitive,e.end),s=t.match(r);if(!s)return null;let i=s[0],o=i.replace(/(.)\/+$/,"$1"),a=s.slice(1);return{params:n.reduce((c,u,f)=>{let{paramName:p,isOptional:h}=u;if(p==="*"){let v=a[f]||"";o=i.slice(0,i.length-v.length).replace(/(.)\/+$/,"$1")}const x=a[f];return h&&!x?c[p]=void 0:c[p]=(x||"").replace(/%2F/g,"/"),c},{}),pathname:i,pathnameBase:o,pattern:e}}function xD(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),FS(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let n=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(n.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),n]}function bD(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return FS(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function WS(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}function _D(e,t){t===void 0&&(t="/");let{pathname:r,search:n="",hash:s=""}=typeof e=="string"?ia(e):e;return{pathname:r?r.startsWith("/")?r:SD(r,t):t,search:CD(n),hash:ND(s)}}function SD(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?r.length>1&&r.pop():s!=="."&&r.push(s)}),r.length>1?r.join("/"):"/"}function sh(e,t,r,n){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function kD(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function VS(e,t){let r=kD(e);return t?r.map((n,s)=>s===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function qS(e,t,r,n){n===void 0&&(n=!1);let s;typeof e=="string"?s=ia(e):(s=dl({},e),it(!s.pathname||!s.pathname.includes("?"),sh("?","pathname","search",s)),it(!s.pathname||!s.pathname.includes("#"),sh("#","pathname","hash",s)),it(!s.search||!s.search.includes("#"),sh("#","search","hash",s)));let i=e===""||s.pathname==="",o=i?"/":s.pathname,a;if(o==null)a=r;else{let f=t.length-1;if(!n&&o.startsWith("..")){let p=o.split("/");for(;p[0]==="..";)p.shift(),f-=1;s.pathname=p.join("/")}a=f>=0?t[f]:"/"}let l=_D(s,a),c=o&&o!=="/"&&o.endsWith("/"),u=(i||o===".")&&r.endsWith("/");return!l.pathname.endsWith("/")&&(c||u)&&(l.pathname+="/"),l}const hi=e=>e.join("/").replace(/\/\/+/g,"/"),ED=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),CD=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,ND=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function TD(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const KS=["post","put","patch","delete"];new Set(KS);const RD=["get",...KS];new Set(RD);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function fl(){return fl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},fl.apply(this,arguments)}const sv=m.createContext(null),jD=m.createContext(null),Vl=m.createContext(null),Wd=m.createContext(null),Ri=m.createContext({outlet:null,matches:[],isDataRoute:!1}),HS=m.createContext(null);function ql(){return m.useContext(Wd)!=null}function Vd(){return ql()||it(!1),m.useContext(Wd).location}function GS(e){m.useContext(Vl).static||m.useLayoutEffect(e)}function qd(){let{isDataRoute:e}=m.useContext(Ri);return e?WD():AD()}function AD(){ql()||it(!1);let e=m.useContext(sv),{basename:t,future:r,navigator:n}=m.useContext(Vl),{matches:s}=m.useContext(Ri),{pathname:i}=Vd(),o=JSON.stringify(VS(s,r.v7_relativeSplatPath)),a=m.useRef(!1);return GS(()=>{a.current=!0}),m.useCallback(function(c,u){if(u===void 0&&(u={}),!a.current)return;if(typeof c=="number"){n.go(c);return}let f=qS(c,JSON.parse(o),i,u.relative==="path");e==null&&t!=="/"&&(f.pathname=f.pathname==="/"?t:hi([t,f.pathname])),(u.replace?n.replace:n.push)(f,u.state,u)},[t,n,o,i,e])}function PD(e,t){return OD(e,t)}function OD(e,t,r,n){ql()||it(!1);let{navigator:s}=m.useContext(Vl),{matches:i}=m.useContext(Ri),o=i[i.length-1],a=o?o.params:{};o&&o.pathname;let l=o?o.pathnameBase:"/";o&&o.route;let c=Vd(),u;if(t){var f;let y=typeof t=="string"?ia(t):t;l==="/"||(f=y.pathname)!=null&&f.startsWith(l)||it(!1),u=y}else u=c;let p=u.pathname||"/",h=p;if(l!=="/"){let y=l.replace(/^\//,"").split("/");h="/"+p.replace(/^\//,"").split("/").slice(y.length).join("/")}let x=lD(e,{pathname:h}),v=LD(x&&x.map(y=>Object.assign({},y,{params:Object.assign({},a,y.params),pathname:hi([l,s.encodeLocation?s.encodeLocation(y.pathname).pathname:y.pathname]),pathnameBase:y.pathnameBase==="/"?l:hi([l,s.encodeLocation?s.encodeLocation(y.pathnameBase).pathname:y.pathnameBase])})),i,r,n);return t&&v?m.createElement(Wd.Provider,{value:{location:fl({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:hs.Pop}},v):v}function DD(){let e=BD(),t=TD(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return m.createElement(m.Fragment,null,m.createElement("h2",null,"Unexpected Application Error!"),m.createElement("h3",{style:{fontStyle:"italic"}},t),r?m.createElement("pre",{style:s},r):null,null)}const ID=m.createElement(DD,null);class MD extends m.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?m.createElement(Ri.Provider,{value:this.props.routeContext},m.createElement(HS.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function $D(e){let{routeContext:t,match:r,children:n}=e,s=m.useContext(sv);return s&&s.static&&s.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=r.route.id),m.createElement(Ri.Provider,{value:t},n)}function LD(e,t,r,n){var s;if(t===void 0&&(t=[]),r===void 0&&(r=null),n===void 0&&(n=null),e==null){var i;if(!r)return null;if(r.errors)e=r.matches;else if((i=n)!=null&&i.v7_partialHydration&&t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let o=e,a=(s=r)==null?void 0:s.errors;if(a!=null){let u=o.findIndex(f=>f.route.id&&(a==null?void 0:a[f.route.id])!==void 0);u>=0||it(!1),o=o.slice(0,Math.min(o.length,u+1))}let l=!1,c=-1;if(r&&n&&n.v7_partialHydration)for(let u=0;u<o.length;u++){let f=o[u];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(c=u),f.route.id){let{loaderData:p,errors:h}=r,x=f.route.loader&&p[f.route.id]===void 0&&(!h||h[f.route.id]===void 0);if(f.route.lazy||x){l=!0,c>=0?o=o.slice(0,c+1):o=[o[0]];break}}}return o.reduceRight((u,f,p)=>{let h,x=!1,v=null,y=null;r&&(h=a&&f.route.id?a[f.route.id]:void 0,v=f.route.errorElement||ID,l&&(c<0&&p===0?(x=!0,y=null):c===p&&(x=!0,y=f.route.hydrateFallbackElement||null)));let g=t.concat(o.slice(0,p+1)),w=()=>{let b;return h?b=v:x?b=y:f.route.Component?b=m.createElement(f.route.Component,null):f.route.element?b=f.route.element:b=u,m.createElement($D,{match:f,routeContext:{outlet:u,matches:g,isDataRoute:r!=null},children:b})};return r&&(f.route.ErrorBoundary||f.route.errorElement||p===0)?m.createElement(MD,{location:r.location,revalidation:r.revalidation,component:v,error:h,children:w(),routeContext:{outlet:null,matches:g,isDataRoute:!0}}):w()},null)}var QS=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(QS||{}),Ku=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(Ku||{});function FD(e){let t=m.useContext(sv);return t||it(!1),t}function UD(e){let t=m.useContext(jD);return t||it(!1),t}function zD(e){let t=m.useContext(Ri);return t||it(!1),t}function YS(e){let t=zD(),r=t.matches[t.matches.length-1];return r.route.id||it(!1),r.route.id}function BD(){var e;let t=m.useContext(HS),r=UD(Ku.UseRouteError),n=YS(Ku.UseRouteError);return t!==void 0?t:(e=r.errors)==null?void 0:e[n]}function WD(){let{router:e}=FD(QS.UseNavigateStable),t=YS(Ku.UseNavigateStable),r=m.useRef(!1);return GS(()=>{r.current=!0}),m.useCallback(function(s,i){i===void 0&&(i={}),r.current&&(typeof s=="number"?e.navigate(s):e.navigate(s,fl({fromRouteId:t},i)))},[e,t])}function VD(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function qD(e){let{to:t,replace:r,state:n,relative:s}=e;ql()||it(!1);let{future:i,static:o}=m.useContext(Vl),{matches:a}=m.useContext(Ri),{pathname:l}=Vd(),c=qd(),u=qS(t,VS(a,i.v7_relativeSplatPath),l,s==="path"),f=JSON.stringify(u);return m.useEffect(()=>c(JSON.parse(f),{replace:r,state:n,relative:s}),[c,f,s,r,n]),null}function iu(e){it(!1)}function KD(e){let{basename:t="/",children:r=null,location:n,navigationType:s=hs.Pop,navigator:i,static:o=!1,future:a}=e;ql()&&it(!1);let l=t.replace(/^\/*/,"/"),c=m.useMemo(()=>({basename:l,navigator:i,static:o,future:fl({v7_relativeSplatPath:!1},a)}),[l,a,i,o]);typeof n=="string"&&(n=ia(n));let{pathname:u="/",search:f="",hash:p="",state:h=null,key:x="default"}=n,v=m.useMemo(()=>{let y=WS(u,l);return y==null?null:{location:{pathname:y,search:f,hash:p,state:h,key:x},navigationType:s}},[l,u,f,p,h,x,s]);return v==null?null:m.createElement(Vl.Provider,{value:c},m.createElement(Wd.Provider,{children:r,value:v}))}function HD(e){let{children:t,location:r}=e;return PD(Yp(t),r)}new Promise(()=>{});function Yp(e,t){t===void 0&&(t=[]);let r=[];return m.Children.forEach(e,(n,s)=>{if(!m.isValidElement(n))return;let i=[...t,s];if(n.type===m.Fragment){r.push.apply(r,Yp(n.props.children,i));return}n.type!==iu&&it(!1),!n.props.index||!n.props.children||it(!1);let o={id:n.props.id||i.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(o.children=Yp(n.props.children,i)),r.push(o)}),r}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */const GD="6";try{window.__reactRouterVersion=GD}catch{}const QD="startTransition",Y0=Vm[QD];function YD(e){let{basename:t,children:r,future:n,window:s}=e,i=m.useRef();i.current==null&&(i.current=iD({window:s,v5Compat:!0}));let o=i.current,[a,l]=m.useState({action:o.action,location:o.location}),{v7_startTransition:c}=n||{},u=m.useCallback(f=>{c&&Y0?Y0(()=>l(f)):l(f)},[l,c]);return m.useLayoutEffect(()=>o.listen(u),[o,u]),m.useEffect(()=>VD(n),[n]),m.createElement(KD,{basename:t,children:r,location:a.location,navigationType:a.action,navigator:o,future:n})}var Z0;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Z0||(Z0={}));var X0;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(X0||(X0={}));var Qr=function(){return Qr=Object.assign||function(t){for(var r,n=1,s=arguments.length;n<s;n++){r=arguments[n];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t},Qr.apply(this,arguments)};function oa(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r}function ZD(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function a(u){try{c(n.next(u))}catch(f){o(f)}}function l(u){try{c(n.throw(u))}catch(f){o(f)}}function c(u){u.done?i(u.value):s(u.value).then(a,l)}c((n=n.apply(e,t||[])).next())})}function XD(e,t,r){if(r||arguments.length===2)for(var n=0,s=t.length,i;n<s;n++)(i||!(n in t))&&(i||(i=Array.prototype.slice.call(t,0,n)),i[n]=t[n]);return e.concat(i||Array.prototype.slice.call(t))}const JD=e=>e?(...t)=>e(...t):(...t)=>fetch(...t);class iv extends Error{constructor(t,r="FunctionsError",n){super(t),this.name=r,this.context=n}}class eI extends iv{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class J0 extends iv{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class ew extends iv{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var Zp;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(Zp||(Zp={}));class tI{constructor(t,{headers:r={},customFetch:n,region:s=Zp.Any}={}){this.url=t,this.headers=r,this.region=s,this.fetch=JD(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return ZD(this,arguments,void 0,function*(r,n={}){var s;let i,o;try{const{headers:a,method:l,body:c,signal:u,timeout:f}=n;let p={},{region:h}=n;h||(h=this.region);const x=new URL(`${this.url}/${r}`);h&&h!=="any"&&(p["x-region"]=h,x.searchParams.set("forceFunctionRegion",h));let v;c&&(a&&!Object.prototype.hasOwnProperty.call(a,"Content-Type")||!a)?typeof Blob<"u"&&c instanceof Blob||c instanceof ArrayBuffer?(p["Content-Type"]="application/octet-stream",v=c):typeof c=="string"?(p["Content-Type"]="text/plain",v=c):typeof FormData<"u"&&c instanceof FormData?v=c:(p["Content-Type"]="application/json",v=JSON.stringify(c)):c&&typeof c!="string"&&!(typeof Blob<"u"&&c instanceof Blob)&&!(c instanceof ArrayBuffer)&&!(typeof FormData<"u"&&c instanceof FormData)?v=JSON.stringify(c):v=c;let y=u;f&&(o=new AbortController,i=setTimeout(()=>o.abort(),f),u?(y=o.signal,u.addEventListener("abort",()=>o.abort())):y=o.signal);const g=yield this.fetch(x.toString(),{method:l||"POST",headers:Object.assign(Object.assign(Object.assign({},p),this.headers),a),body:v,signal:y}).catch(S=>{throw new eI(S)}),w=g.headers.get("x-relay-error");if(w&&w==="true")throw new J0(g);if(!g.ok)throw new ew(g);let b=((s=g.headers.get("Content-Type"))!==null&&s!==void 0?s:"text/plain").split(";")[0].trim(),_;return b==="application/json"?_=yield g.json():b==="application/octet-stream"||b==="application/pdf"?_=yield g.blob():b==="text/event-stream"?_=g:b==="multipart/form-data"?_=yield g.formData():_=yield g.text(),{data:_,error:null,response:g}}catch(a){return{data:null,error:a,response:a instanceof ew||a instanceof J0?a.context:void 0}}finally{i&&clearTimeout(i)}})}}var rI=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}},nI=class{constructor(e){var t,r;this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=new Headers(e.headers),this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=(t=e.shouldThrowOnError)!==null&&t!==void 0?t:!1,this.signal=e.signal,this.isMaybeSingle=(r=e.isMaybeSingle)!==null&&r!==void 0?r:!1,e.fetch?this.fetch=e.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,t){return this.headers=new Headers(this.headers),this.headers.set(e,t),this}then(e,t){var r=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const n=this.fetch;let s=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{let o=null,a=null,l=null,c=i.status,u=i.statusText;if(i.ok){var f,p;if(r.method!=="HEAD"){var h;const g=await i.text();g===""||(r.headers.get("Accept")==="text/csv"||r.headers.get("Accept")&&(!((h=r.headers.get("Accept"))===null||h===void 0)&&h.includes("application/vnd.pgrst.plan+text"))?a=g:a=JSON.parse(g))}const v=(f=r.headers.get("Prefer"))===null||f===void 0?void 0:f.match(/count=(exact|planned|estimated)/),y=(p=i.headers.get("content-range"))===null||p===void 0?void 0:p.split("/");v&&y&&y.length>1&&(l=parseInt(y[1])),r.isMaybeSingle&&r.method==="GET"&&Array.isArray(a)&&(a.length>1?(o={code:"PGRST116",details:`Results contain ${a.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},a=null,l=null,c=406,u="Not Acceptable"):a.length===1?a=a[0]:a=null)}else{var x;const v=await i.text();try{o=JSON.parse(v),Array.isArray(o)&&i.status===404&&(a=[],o=null,c=200,u="OK")}catch{i.status===404&&v===""?(c=204,u="No Content"):o={message:v}}if(o&&r.isMaybeSingle&&(!(o==null||(x=o.details)===null||x===void 0)&&x.includes("0 rows"))&&(o=null,c=200,u="OK"),o&&r.shouldThrowOnError)throw new rI(o)}return{error:o,data:a,count:l,status:c,statusText:u}});return this.shouldThrowOnError||(s=s.catch(i=>{var o;let a="";const l=i==null?void 0:i.cause;if(l){var c,u,f,p;const x=(c=l==null?void 0:l.message)!==null&&c!==void 0?c:"",v=(u=l==null?void 0:l.code)!==null&&u!==void 0?u:"";a=`${(f=i==null?void 0:i.name)!==null&&f!==void 0?f:"FetchError"}: ${i==null?void 0:i.message}`,a+=`

Caused by: ${(p=l==null?void 0:l.name)!==null&&p!==void 0?p:"Error"}: ${x}`,v&&(a+=` (${v})`),l!=null&&l.stack&&(a+=`
${l.stack}`)}else{var h;a=(h=i==null?void 0:i.stack)!==null&&h!==void 0?h:""}return{error:{message:`${(o=i==null?void 0:i.name)!==null&&o!==void 0?o:"FetchError"}: ${i==null?void 0:i.message}`,details:a,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),s.then(e,t)}returns(){return this}overrideTypes(){return this}},sI=class extends nI{select(e){let t=!1;const r=(e??"*").split("").map(n=>/\s/.test(n)&&!t?"":(n==='"'&&(t=!t),n)).join("");return this.url.searchParams.set("select",r),this.headers.append("Prefer","return=representation"),this}order(e,{ascending:t=!0,nullsFirst:r,foreignTable:n,referencedTable:s=n}={}){const i=s?`${s}.order`:"order",o=this.url.searchParams.get(i);return this.url.searchParams.set(i,`${o?`${o},`:""}${e}.${t?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:t,referencedTable:r=t}={}){const n=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(n,`${e}`),this}range(e,t,{foreignTable:r,referencedTable:n=r}={}){const s=typeof n>"u"?"offset":`${n}.offset`,i=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(s,`${e}`),this.url.searchParams.set(i,`${t-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:e=!1,verbose:t=!1,settings:r=!1,buffers:n=!1,wal:s=!1,format:i="text"}={}){var o;const a=[e?"analyze":null,t?"verbose":null,r?"settings":null,n?"buffers":null,s?"wal":null].filter(Boolean).join("|"),l=(o=this.headers.get("Accept"))!==null&&o!==void 0?o:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${i}; for="${l}"; options=${a};`),i==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(e){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${e}`),this}};const tw=new RegExp("[,()]");var qi=class extends sI{eq(e,t){return this.url.searchParams.append(e,`eq.${t}`),this}neq(e,t){return this.url.searchParams.append(e,`neq.${t}`),this}gt(e,t){return this.url.searchParams.append(e,`gt.${t}`),this}gte(e,t){return this.url.searchParams.append(e,`gte.${t}`),this}lt(e,t){return this.url.searchParams.append(e,`lt.${t}`),this}lte(e,t){return this.url.searchParams.append(e,`lte.${t}`),this}like(e,t){return this.url.searchParams.append(e,`like.${t}`),this}likeAllOf(e,t){return this.url.searchParams.append(e,`like(all).{${t.join(",")}}`),this}likeAnyOf(e,t){return this.url.searchParams.append(e,`like(any).{${t.join(",")}}`),this}ilike(e,t){return this.url.searchParams.append(e,`ilike.${t}`),this}ilikeAllOf(e,t){return this.url.searchParams.append(e,`ilike(all).{${t.join(",")}}`),this}ilikeAnyOf(e,t){return this.url.searchParams.append(e,`ilike(any).{${t.join(",")}}`),this}regexMatch(e,t){return this.url.searchParams.append(e,`match.${t}`),this}regexIMatch(e,t){return this.url.searchParams.append(e,`imatch.${t}`),this}is(e,t){return this.url.searchParams.append(e,`is.${t}`),this}isDistinct(e,t){return this.url.searchParams.append(e,`isdistinct.${t}`),this}in(e,t){const r=Array.from(new Set(t)).map(n=>typeof n=="string"&&tw.test(n)?`"${n}"`:`${n}`).join(",");return this.url.searchParams.append(e,`in.(${r})`),this}notIn(e,t){const r=Array.from(new Set(t)).map(n=>typeof n=="string"&&tw.test(n)?`"${n}"`:`${n}`).join(",");return this.url.searchParams.append(e,`not.in.(${r})`),this}contains(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cs.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cs.{${t.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(t)}`),this}containedBy(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cd.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cd.{${t.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(t)}`),this}rangeGt(e,t){return this.url.searchParams.append(e,`sr.${t}`),this}rangeGte(e,t){return this.url.searchParams.append(e,`nxl.${t}`),this}rangeLt(e,t){return this.url.searchParams.append(e,`sl.${t}`),this}rangeLte(e,t){return this.url.searchParams.append(e,`nxr.${t}`),this}rangeAdjacent(e,t){return this.url.searchParams.append(e,`adj.${t}`),this}overlaps(e,t){return typeof t=="string"?this.url.searchParams.append(e,`ov.${t}`):this.url.searchParams.append(e,`ov.{${t.join(",")}}`),this}textSearch(e,t,{config:r,type:n}={}){let s="";n==="plain"?s="pl":n==="phrase"?s="ph":n==="websearch"&&(s="w");const i=r===void 0?"":`(${r})`;return this.url.searchParams.append(e,`${s}fts${i}.${t}`),this}match(e){return Object.entries(e).forEach(([t,r])=>{this.url.searchParams.append(t,`eq.${r}`)}),this}not(e,t,r){return this.url.searchParams.append(e,`not.${t}.${r}`),this}or(e,{foreignTable:t,referencedTable:r=t}={}){const n=r?`${r}.or`:"or";return this.url.searchParams.append(n,`(${e})`),this}filter(e,t,r){return this.url.searchParams.append(e,`${t}.${r}`),this}},iI=class{constructor(e,{headers:t={},schema:r,fetch:n}){this.url=e,this.headers=new Headers(t),this.schema=r,this.fetch=n}cloneRequestState(){return{url:new URL(this.url.toString()),headers:new Headers(this.headers)}}select(e,t){const{head:r=!1,count:n}=t??{},s=r?"HEAD":"GET";let i=!1;const o=(e??"*").split("").map(c=>/\s/.test(c)&&!i?"":(c==='"'&&(i=!i),c)).join(""),{url:a,headers:l}=this.cloneRequestState();return a.searchParams.set("select",o),n&&l.append("Prefer",`count=${n}`),new qi({method:s,url:a,headers:l,schema:this.schema,fetch:this.fetch})}insert(e,{count:t,defaultToNull:r=!0}={}){var n;const s="POST",{url:i,headers:o}=this.cloneRequestState();if(t&&o.append("Prefer",`count=${t}`),r||o.append("Prefer","missing=default"),Array.isArray(e)){const a=e.reduce((l,c)=>l.concat(Object.keys(c)),[]);if(a.length>0){const l=[...new Set(a)].map(c=>`"${c}"`);i.searchParams.set("columns",l.join(","))}}return new qi({method:s,url:i,headers:o,schema:this.schema,body:e,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}upsert(e,{onConflict:t,ignoreDuplicates:r=!1,count:n,defaultToNull:s=!0}={}){var i;const o="POST",{url:a,headers:l}=this.cloneRequestState();if(l.append("Prefer",`resolution=${r?"ignore":"merge"}-duplicates`),t!==void 0&&a.searchParams.set("on_conflict",t),n&&l.append("Prefer",`count=${n}`),s||l.append("Prefer","missing=default"),Array.isArray(e)){const c=e.reduce((u,f)=>u.concat(Object.keys(f)),[]);if(c.length>0){const u=[...new Set(c)].map(f=>`"${f}"`);a.searchParams.set("columns",u.join(","))}}return new qi({method:o,url:a,headers:l,schema:this.schema,body:e,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch})}update(e,{count:t}={}){var r;const n="PATCH",{url:s,headers:i}=this.cloneRequestState();return t&&i.append("Prefer",`count=${t}`),new qi({method:n,url:s,headers:i,schema:this.schema,body:e,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}delete({count:e}={}){var t;const r="DELETE",{url:n,headers:s}=this.cloneRequestState();return e&&s.append("Prefer",`count=${e}`),new qi({method:r,url:n,headers:s,schema:this.schema,fetch:(t=this.fetch)!==null&&t!==void 0?t:fetch})}},oI=class ZS{constructor(t,{headers:r={},schema:n,fetch:s}={}){this.url=t,this.headers=new Headers(r),this.schemaName=n,this.fetch=s}from(t){if(!t||typeof t!="string"||t.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new iI(new URL(`${this.url}/${t}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new ZS(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,r={},{head:n=!1,get:s=!1,count:i}={}){var o;let a;const l=new URL(`${this.url}/rpc/${t}`);let c;const u=h=>h!==null&&typeof h=="object"&&(!Array.isArray(h)||h.some(u)),f=n&&Object.values(r).some(u);f?(a="POST",c=r):n||s?(a=n?"HEAD":"GET",Object.entries(r).filter(([h,x])=>x!==void 0).map(([h,x])=>[h,Array.isArray(x)?`{${x.join(",")}}`:`${x}`]).forEach(([h,x])=>{l.searchParams.append(h,x)})):(a="POST",c=r);const p=new Headers(this.headers);return f?p.set("Prefer",i?`count=${i},return=minimal`:"return=minimal"):i&&p.set("Prefer",`count=${i}`),new qi({method:a,url:l,headers:p,schema:this.schemaName,body:c,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}};class aI{constructor(){}static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};const r=globalThis.process;if(r){const n=r.versions;if(n&&n.node){const s=n.node,i=parseInt(s.replace(/^v/,"").split(".")[0]);return i>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${i} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${i} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let r=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(r+=`

Suggested solution: ${t.workaround}`),new Error(r)}static createWebSocket(t,r){const n=this.getWebSocketConstructor();return new n(t,r)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const lI="2.90.1",cI=`realtime-js/${lI}`,XS="1.0.0",uI="2.0.0",rw=XS,Xp=1e4,dI=1e3,fI=100;var Gn;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(Gn||(Gn={}));var ot;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(ot||(ot={}));var Or;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(Or||(Or={}));var Jp;(function(e){e.websocket="websocket"})(Jp||(Jp={}));var Ks;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(Ks||(Ks={}));class hI{constructor(t){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=t??[]}encode(t,r){if(t.event===this.BROADCAST_EVENT&&!(t.payload instanceof ArrayBuffer)&&typeof t.payload.event=="string")return r(this._binaryEncodeUserBroadcastPush(t));let n=[t.join_ref,t.ref,t.topic,t.event,t.payload];return r(JSON.stringify(n))}_binaryEncodeUserBroadcastPush(t){var r;return this._isArrayBuffer((r=t.payload)===null||r===void 0?void 0:r.payload)?this._encodeBinaryUserBroadcastPush(t):this._encodeJsonUserBroadcastPush(t)}_encodeBinaryUserBroadcastPush(t){var r,n;const s=(n=(r=t.payload)===null||r===void 0?void 0:r.payload)!==null&&n!==void 0?n:new ArrayBuffer(0);return this._encodeUserBroadcastPush(t,this.BINARY_ENCODING,s)}_encodeJsonUserBroadcastPush(t){var r,n;const s=(n=(r=t.payload)===null||r===void 0?void 0:r.payload)!==null&&n!==void 0?n:{},o=new TextEncoder().encode(JSON.stringify(s)).buffer;return this._encodeUserBroadcastPush(t,this.JSON_ENCODING,o)}_encodeUserBroadcastPush(t,r,n){var s,i;const o=t.topic,a=(s=t.ref)!==null&&s!==void 0?s:"",l=(i=t.join_ref)!==null&&i!==void 0?i:"",c=t.payload.event,u=this.allowedMetadataKeys?this._pick(t.payload,this.allowedMetadataKeys):{},f=Object.keys(u).length===0?"":JSON.stringify(u);if(l.length>255)throw new Error(`joinRef length ${l.length} exceeds maximum of 255`);if(a.length>255)throw new Error(`ref length ${a.length} exceeds maximum of 255`);if(o.length>255)throw new Error(`topic length ${o.length} exceeds maximum of 255`);if(c.length>255)throw new Error(`userEvent length ${c.length} exceeds maximum of 255`);if(f.length>255)throw new Error(`metadata length ${f.length} exceeds maximum of 255`);const p=this.USER_BROADCAST_PUSH_META_LENGTH+l.length+a.length+o.length+c.length+f.length,h=new ArrayBuffer(this.HEADER_LENGTH+p);let x=new DataView(h),v=0;x.setUint8(v++,this.KINDS.userBroadcastPush),x.setUint8(v++,l.length),x.setUint8(v++,a.length),x.setUint8(v++,o.length),x.setUint8(v++,c.length),x.setUint8(v++,f.length),x.setUint8(v++,r),Array.from(l,g=>x.setUint8(v++,g.charCodeAt(0))),Array.from(a,g=>x.setUint8(v++,g.charCodeAt(0))),Array.from(o,g=>x.setUint8(v++,g.charCodeAt(0))),Array.from(c,g=>x.setUint8(v++,g.charCodeAt(0))),Array.from(f,g=>x.setUint8(v++,g.charCodeAt(0)));var y=new Uint8Array(h.byteLength+n.byteLength);return y.set(new Uint8Array(h),0),y.set(new Uint8Array(n),h.byteLength),y.buffer}decode(t,r){if(this._isArrayBuffer(t)){let n=this._binaryDecode(t);return r(n)}if(typeof t=="string"){const n=JSON.parse(t),[s,i,o,a,l]=n;return r({join_ref:s,ref:i,topic:o,event:a,payload:l})}return r({})}_binaryDecode(t){const r=new DataView(t),n=r.getUint8(0),s=new TextDecoder;switch(n){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(t,r,s)}}_decodeUserBroadcast(t,r,n){const s=r.getUint8(1),i=r.getUint8(2),o=r.getUint8(3),a=r.getUint8(4);let l=this.HEADER_LENGTH+4;const c=n.decode(t.slice(l,l+s));l=l+s;const u=n.decode(t.slice(l,l+i));l=l+i;const f=n.decode(t.slice(l,l+o));l=l+o;const p=t.slice(l,t.byteLength),h=a===this.JSON_ENCODING?JSON.parse(n.decode(p)):p,x={type:this.BROADCAST_EVENT,event:u,payload:h};return o>0&&(x.meta=JSON.parse(f)),{join_ref:null,ref:null,topic:c,event:this.BROADCAST_EVENT,payload:x}}_isArrayBuffer(t){var r;return t instanceof ArrayBuffer||((r=t==null?void 0:t.constructor)===null||r===void 0?void 0:r.name)==="ArrayBuffer"}_pick(t,r){return!t||typeof t!="object"?{}:Object.fromEntries(Object.entries(t).filter(([n])=>r.includes(n)))}}let JS=class{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}};var Le;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(Le||(Le={}));const nw=(e,t,r={})=>{var n;const s=(n=r.skipTypes)!==null&&n!==void 0?n:[];return t?Object.keys(t).reduce((i,o)=>(i[o]=pI(o,e,t,s),i),{}):{}},pI=(e,t,r,n)=>{const s=t.find(a=>a.name===e),i=s==null?void 0:s.type,o=r[e];return i&&!n.includes(i)?ek(i,o):em(o)},ek=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return yI(t,r)}switch(e){case Le.bool:return mI(t);case Le.float4:case Le.float8:case Le.int2:case Le.int4:case Le.int8:case Le.numeric:case Le.oid:return gI(t);case Le.json:case Le.jsonb:return vI(t);case Le.timestamp:return wI(t);case Le.abstime:case Le.date:case Le.daterange:case Le.int4range:case Le.int8range:case Le.money:case Le.reltime:case Le.text:case Le.time:case Le.timestamptz:case Le.timetz:case Le.tsrange:case Le.tstzrange:return em(t);default:return em(t)}},em=e=>e,mI=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},gI=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},vI=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch{return e}return e},yI=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,n=e[r];if(e[0]==="{"&&n==="}"){let i;const o=e.slice(1,r);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(a=>ek(t,a))}return e},wI=e=>typeof e=="string"?e.replace(" ","T"):e,tk=e=>{const t=new URL(e);return t.protocol=t.protocol.replace(/^ws/i,"http"),t.pathname=t.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),t.pathname===""||t.pathname==="/"?t.pathname="/api/broadcast":t.pathname=t.pathname+"/api/broadcast",t.href};class ih{constructor(t,r,n={},s=Xp){this.channel=t,this.event=r,this.payload=n,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var n;return this._hasReceived(t)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var sw;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(sw||(sw={}));class Fa{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},s=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Fa.syncState(this.state,s,i,o),this.pendingDiffs.forEach(l=>{this.state=Fa.syncDiff(this.state,l,i,o)}),this.pendingDiffs=[],a()}),this.channel._on(n.diff,{},s=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=Fa.syncDiff(this.state,s,i,o),a())}),this.onJoin((s,i,o)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:i,newPresences:o})}),this.onLeave((s,i,o)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,n,s){const i=this.cloneDeep(t),o=this.transformState(r),a={},l={};return this.map(i,(c,u)=>{o[c]||(l[c]=u)}),this.map(o,(c,u)=>{const f=i[c];if(f){const p=u.map(y=>y.presence_ref),h=f.map(y=>y.presence_ref),x=u.filter(y=>h.indexOf(y.presence_ref)<0),v=f.filter(y=>p.indexOf(y.presence_ref)<0);x.length>0&&(a[c]=x),v.length>0&&(l[c]=v)}else a[c]=u}),this.syncDiff(i,{joins:a,leaves:l},n,s)}static syncDiff(t,r,n,s){const{joins:i,leaves:o}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),s||(s=()=>{}),this.map(i,(a,l)=>{var c;const u=(c=t[a])!==null&&c!==void 0?c:[];if(t[a]=this.cloneDeep(l),u.length>0){const f=t[a].map(h=>h.presence_ref),p=u.filter(h=>f.indexOf(h.presence_ref)<0);t[a].unshift(...p)}n(a,u,l)}),this.map(o,(a,l)=>{let c=t[a];if(!c)return;const u=l.map(f=>f.presence_ref);c=c.filter(f=>u.indexOf(f.presence_ref)<0),t[a]=c,s(a,c,l),c.length===0&&delete t[a]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(n=>r(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,n)=>{const s=t[n];return"metas"in s?r[n]=s.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):r[n]=s,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var iw;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(iw||(iw={}));var Ua;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(Ua||(Ua={}));var mn;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(mn||(mn={}));class ao{constructor(t,r={config:{}},n){var s,i;if(this.topic=t,this.params=r,this.socket=n,this.bindings={},this.state=ot.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new ih(this,Or.join,this.params,this.timeout),this.rejoinTimer=new JS(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=ot.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(o=>o.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=ot.closed,this.socket._remove(this)}),this._onError(o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=ot.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=ot.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=ot.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Or.reply,{},(o,a)=>{this._trigger(this._replyEventName(a),o)}),this.presence=new Fa(this),this.broadcastEndpointURL=tk(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((i=(s=this.params.config)===null||s===void 0?void 0:s.broadcast)===null||i===void 0)&&i.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,r=this.timeout){var n,s,i;if(this.socket.isConnected()||this.socket.connect(),this.state==ot.closed){const{config:{broadcast:o,presence:a,private:l}}=this.params,c=(s=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(h=>h.filter))!==null&&s!==void 0?s:[],u=!!this.bindings[Ua.PRESENCE]&&this.bindings[Ua.PRESENCE].length>0||((i=this.params.config.presence)===null||i===void 0?void 0:i.enabled)===!0,f={},p={broadcast:o,presence:Object.assign(Object.assign({},a),{enabled:u}),postgres_changes:c,private:l};this.socket.accessTokenValue&&(f.access_token=this.socket.accessTokenValue),this._onError(h=>t==null?void 0:t(mn.CHANNEL_ERROR,h)),this._onClose(()=>t==null?void 0:t(mn.CLOSED)),this.updateJoinPayload(Object.assign({config:p},f)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:h})=>{var x;if(this.socket._isManualToken()||this.socket.setAuth(),h===void 0){t==null||t(mn.SUBSCRIBED);return}else{const v=this.bindings.postgres_changes,y=(x=v==null?void 0:v.length)!==null&&x!==void 0?x:0,g=[];for(let w=0;w<y;w++){const b=v[w],{filter:{event:_,schema:S,table:C,filter:E}}=b,R=h&&h[w];if(R&&R.event===_&&ao.isFilterValueEqual(R.schema,S)&&ao.isFilterValueEqual(R.table,C)&&ao.isFilterValueEqual(R.filter,E))g.push(Object.assign(Object.assign({},b),{id:R.id}));else{this.unsubscribe(),this.state=ot.errored,t==null||t(mn.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=g,t&&t(mn.SUBSCRIBED);return}}).receive("error",h=>{this.state=ot.errored,t==null||t(mn.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(h).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(mn.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,n){return this.state===ot.joined&&t===Ua.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(t,r,n)}async httpSend(t,r,n={}){var s;if(r==null)return Promise.reject("Payload is required for httpSend()");const i={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(i.Authorization=`Bearer ${this.socket.accessTokenValue}`);const o={method:"POST",headers:i,body:JSON.stringify({messages:[{topic:this.subTopic,event:t,payload:r,private:this.private}]})},a=await this._fetchWithTimeout(this.broadcastEndpointURL,o,(s=n.timeout)!==null&&s!==void 0?s:this.timeout);if(a.status===202)return{success:!0};let l=a.statusText;try{const c=await a.json();l=c.error||c.message||l}catch{}return Promise.reject(new Error(l))}async send(t,r={}){var n,s;if(!this._canPush()&&t.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:i,payload:o}=t,a={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(a.Authorization=`Bearer ${this.socket.accessTokenValue}`);const l={method:"POST",headers:a,body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const c=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((s=c.body)===null||s===void 0?void 0:s.cancel()),c.ok?"ok":"error"}catch(c){return c.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,a,l;const c=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((l=(a=(o=this.params)===null||o===void 0?void 0:o.config)===null||a===void 0?void 0:a.broadcast)===null||l===void 0)&&l.ack)&&i("ok"),c.receive("ok",()=>i("ok")),c.receive("error",()=>i("error")),c.receive("timeout",()=>i("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=ot.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Or.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(s=>{n=new ih(this,Or.leave,{},t),n.receive("ok",()=>{r(),s("ok")}).receive("timeout",()=>{r(),s("timed out")}).receive("error",()=>{s("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=ot.closed,this.bindings={}}async _fetchWithTimeout(t,r,n){const s=new AbortController,i=setTimeout(()=>s.abort(),n),o=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:s.signal}));return clearTimeout(i),o}_push(t,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new ih(this,t,r,n);return this._canPush()?s.send():this._addToPushBuffer(s),s}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>fI){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(t,r,n){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,n){var s,i;const o=t.toLocaleLowerCase(),{close:a,error:l,leave:c,join:u}=Or;if(n&&[a,l,c,u].indexOf(o)>=0&&n!==this._joinRef())return;let p=this._onMessage(o,r,n);if(r&&!p)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(h=>{var x,v,y;return((x=h.filter)===null||x===void 0?void 0:x.event)==="*"||((y=(v=h.filter)===null||v===void 0?void 0:v.event)===null||y===void 0?void 0:y.toLocaleLowerCase())===o}).map(h=>h.callback(p,n)):(i=this.bindings[o])===null||i===void 0||i.filter(h=>{var x,v,y,g,w,b,_,S;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in h){const C=h.id,E=(x=h.filter)===null||x===void 0?void 0:x.event;return C&&((v=r.ids)===null||v===void 0?void 0:v.includes(C))&&(E==="*"||(E==null?void 0:E.toLocaleLowerCase())===((y=r.data)===null||y===void 0?void 0:y.type.toLocaleLowerCase()))&&(!(!((g=h.filter)===null||g===void 0)&&g.table)||h.filter.table===((w=r.data)===null||w===void 0?void 0:w.table))}else{const C=(_=(b=h==null?void 0:h.filter)===null||b===void 0?void 0:b.event)===null||_===void 0?void 0:_.toLocaleLowerCase();return C==="*"||C===((S=r==null?void 0:r.event)===null||S===void 0?void 0:S.toLocaleLowerCase())}else return h.type.toLocaleLowerCase()===o}).map(h=>{if(typeof p=="object"&&"ids"in p){const x=p.data,{schema:v,table:y,commit_timestamp:g,type:w,errors:b}=x;p=Object.assign(Object.assign({},{schema:v,table:y,commit_timestamp:g,eventType:w,new:{},old:{},errors:b}),this._getPayloadRecords(x))}h.callback(p,n)})}_isClosed(){return this.state===ot.closed}_isJoined(){return this.state===ot.joined}_isJoining(){return this.state===ot.joining}_isLeaving(){return this.state===ot.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,n){const s=t.toLocaleLowerCase(),i={type:s,filter:r,callback:n};return this.bindings[s]?this.bindings[s].push(i):this.bindings[s]=[i],this}_off(t,r){const n=t.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(s=>{var i;return!(((i=s.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===n&&ao.isEqual(s.filter,r))})),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const n in t)if(t[n]!==r[n])return!1;return!0}static isFilterValueEqual(t,r){return(t??void 0)===(r??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(Or.close,{},t)}_onError(t){this._on(Or.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=ot.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=nw(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=nw(t.columns,t.old_record)),r}}const oh=()=>{},jc={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},xI=[1e3,2e3,5e3,1e4],bI=1e4,_I=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class SI{constructor(t,r){var n;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Xp,this.transport=null,this.heartbeatIntervalMs=jc.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=oh,this.ref=0,this.reconnectTimer=null,this.vsn=rw,this.logger=oh,this.conn=null,this.sendBuffer=[],this.serializer=new hI,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._heartbeatSentAt=null,this._resolveFetch=s=>s?(...i)=>s(...i):(...i)=>fetch(...i),!(!((n=r==null?void 0:r.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${t}/${Jp.websocket}`,this.httpEndpoint=tk(t),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r==null?void 0:r.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=aI.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const r=t.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(t,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(t?this.conn.close(t,r??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,r,n){this.logger(t,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case Gn.connecting:return Ks.Connecting;case Gn.open:return Ks.Open;case Gn.closing:return Ks.Closing;default:return Ks.Closed}}isConnected(){return this.connectionState()===Ks.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,r={config:{}}){const n=`realtime:${t}`,s=this.getChannels().find(i=>i.topic===n);if(s)return s;{const i=new ao(`realtime:${t}`,r,this);return this.channels.push(i),i}}push(t){const{topic:r,event:n,payload:s,ref:i}=t,o=()=>{this.encode(t,a=>{var l;(l=this.conn)===null||l===void 0||l.send(a)})};this.log("push",`${r} ${n} (${i})`,s),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this._heartbeatSentAt=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(dI,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},jc.HEARTBEAT_TIMEOUT_FALLBACK);return}this._heartbeatSentAt=Date.now(),this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(n=>n.topic===t&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply"&&r.ref&&r.ref===this.pendingHeartbeatRef){const c=this._heartbeatSentAt?Date.now()-this._heartbeatSentAt:void 0;try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error",c)}catch(u){this.log("error","error in heartbeat callback",u)}this._heartbeatSentAt=null,this.pendingHeartbeatRef=null}const{topic:n,event:s,payload:i,ref:o}=r,a=o?`(${o})`:"",l=i.status||"";this.log("receive",`${l} ${n} ${s} ${a}`.trim(),i),this.channels.filter(c=>c._isMember(n)).forEach(c=>c._trigger(s,i,o)),this._triggerStateCallbacks("message",r)})}_clearTimer(t){var r;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t),this.conn.readyState===Gn.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===Gn.open||this.conn.readyState===Gn.connecting)try{this.conn.close()}catch(t){this.log("error","Error closing connection",t)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(r=>{this.log("error","error waiting for auth on connect",r),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this._terminateWorker()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(t){var r;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(Or.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const n=t.match(/\?/)?"&":"?",s=new URLSearchParams(r);return`${t}${n}${s}`}_workerObjectUrl(t){let r;if(t)r=t;else{const n=new Blob([_I],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}_setConnectionState(t,r=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(t=null){let r,n=!1;if(t)r=t,n=!0;else if(this.accessToken)try{r=await this.accessToken()}catch(s){this.log("error","Error fetching access token from callback",s),r=this.accessTokenValue}else r=this.accessTokenValue;n?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(s=>{const i={access_token:r,version:cI};r&&s.updateJoinPayload(i),s.joinedOnce&&s._isJoined()&&s._push(Or.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this._isManualToken()||this.setAuth().catch(r=>{this.log("error",`Error setting auth in ${t}`,r)})}_triggerStateCallbacks(t,r){try{this.stateChangeCallbacks[t].forEach(n=>{try{n(r)}catch(s){this.log("error",`error in ${t} callback`,s)}})}catch(n){this.log("error",`error triggering ${t} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new JS(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},jc.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var r,n,s,i,o,a,l,c,u,f,p,h;switch(this.transport=(r=t==null?void 0:t.transport)!==null&&r!==void 0?r:null,this.timeout=(n=t==null?void 0:t.timeout)!==null&&n!==void 0?n:Xp,this.heartbeatIntervalMs=(s=t==null?void 0:t.heartbeatIntervalMs)!==null&&s!==void 0?s:jc.HEARTBEAT_INTERVAL,this.worker=(i=t==null?void 0:t.worker)!==null&&i!==void 0?i:!1,this.accessToken=(o=t==null?void 0:t.accessToken)!==null&&o!==void 0?o:null,this.heartbeatCallback=(a=t==null?void 0:t.heartbeatCallback)!==null&&a!==void 0?a:oh,this.vsn=(l=t==null?void 0:t.vsn)!==null&&l!==void 0?l:rw,t!=null&&t.params&&(this.params=t.params),t!=null&&t.logger&&(this.logger=t.logger),(t!=null&&t.logLevel||t!=null&&t.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(c=t==null?void 0:t.reconnectAfterMs)!==null&&c!==void 0?c:x=>xI[x-1]||bI,this.vsn){case XS:this.encode=(u=t==null?void 0:t.encode)!==null&&u!==void 0?u:(x,v)=>v(JSON.stringify(x)),this.decode=(f=t==null?void 0:t.decode)!==null&&f!==void 0?f:(x,v)=>v(JSON.parse(x));break;case uI:this.encode=(p=t==null?void 0:t.encode)!==null&&p!==void 0?p:this.serializer.encode.bind(this.serializer),this.decode=(h=t==null?void 0:t.decode)!==null&&h!==void 0?h:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t==null?void 0:t.workerUrl}}}var hl=class extends Error{constructor(e,t){var r;super(e),this.name="IcebergError",this.status=t.status,this.icebergType=t.icebergType,this.icebergCode=t.icebergCode,this.details=t.details,this.isCommitStateUnknown=t.icebergType==="CommitStateUnknownException"||[500,502,504].includes(t.status)&&((r=t.icebergType)==null?void 0:r.includes("CommitState"))===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function kI(e,t,r){const n=new URL(t,e);if(r)for(const[s,i]of Object.entries(r))i!==void 0&&n.searchParams.set(s,i);return n.toString()}async function EI(e){return!e||e.type==="none"?{}:e.type==="bearer"?{Authorization:`Bearer ${e.token}`}:e.type==="header"?{[e.name]:e.value}:e.type==="custom"?await e.getHeaders():{}}function CI(e){const t=e.fetchImpl??globalThis.fetch;return{async request({method:r,path:n,query:s,body:i,headers:o}){const a=kI(e.baseUrl,n,s),l=await EI(e.auth),c=await t(a,{method:r,headers:{...i?{"Content-Type":"application/json"}:{},...l,...o},body:i?JSON.stringify(i):void 0}),u=await c.text(),f=(c.headers.get("content-type")||"").includes("application/json"),p=f&&u?JSON.parse(u):u;if(!c.ok){const h=f?p:void 0,x=h==null?void 0:h.error;throw new hl((x==null?void 0:x.message)??`Request failed with status ${c.status}`,{status:c.status,icebergType:x==null?void 0:x.type,icebergCode:x==null?void 0:x.code,details:h})}return{status:c.status,headers:c.headers,data:p}}}}function Ac(e){return e.join("")}var NI=class{constructor(e,t=""){this.client=e,this.prefix=t}async listNamespaces(e){const t=e?{parent:Ac(e.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:t})).data.namespaces.map(n=>({namespace:n}))}async createNamespace(e,t){const r={namespace:e.namespace,properties:t==null?void 0:t.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:r})).data}async dropNamespace(e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Ac(e.namespace)}`})}async loadNamespaceMetadata(e){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Ac(e.namespace)}`})).data.properties}}async namespaceExists(e){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Ac(e.namespace)}`}),!0}catch(t){if(t instanceof hl&&t.status===404)return!1;throw t}}async createNamespaceIfNotExists(e,t){try{return await this.createNamespace(e,t)}catch(r){if(r instanceof hl&&r.status===409)return;throw r}}};function Ii(e){return e.join("")}var TI=class{constructor(e,t="",r){this.client=e,this.prefix=t,this.accessDelegation=r}async listTables(e){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Ii(e.namespace)}/tables`})).data.identifiers}async createTable(e,t){const r={};return this.accessDelegation&&(r["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Ii(e.namespace)}/tables`,body:t,headers:r})).data.metadata}async updateTable(e,t){const r=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Ii(e.namespace)}/tables/${e.name}`,body:t});return{"metadata-location":r.data["metadata-location"],metadata:r.data.metadata}}async dropTable(e,t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Ii(e.namespace)}/tables/${e.name}`,query:{purgeRequested:String((t==null?void 0:t.purge)??!1)}})}async loadTable(e){const t={};return this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Ii(e.namespace)}/tables/${e.name}`,headers:t})).data.metadata}async tableExists(e){const t={};this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Ii(e.namespace)}/tables/${e.name}`,headers:t}),!0}catch(r){if(r instanceof hl&&r.status===404)return!1;throw r}}async createTableIfNotExists(e,t){try{return await this.createTable(e,t)}catch(r){if(r instanceof hl&&r.status===409)return await this.loadTable({namespace:e.namespace,name:t.name});throw r}}},RI=class{constructor(e){var n;let t="v1";e.catalogName&&(t+=`/${e.catalogName}`);const r=e.baseUrl.endsWith("/")?e.baseUrl:`${e.baseUrl}/`;this.client=CI({baseUrl:r,auth:e.auth,fetchImpl:e.fetch}),this.accessDelegation=(n=e.accessDelegation)==null?void 0:n.join(","),this.namespaceOps=new NI(this.client,t),this.tableOps=new TI(this.client,t,this.accessDelegation)}async listNamespaces(e){return this.namespaceOps.listNamespaces(e)}async createNamespace(e,t){return this.namespaceOps.createNamespace(e,t)}async dropNamespace(e){await this.namespaceOps.dropNamespace(e)}async loadNamespaceMetadata(e){return this.namespaceOps.loadNamespaceMetadata(e)}async listTables(e){return this.tableOps.listTables(e)}async createTable(e,t){return this.tableOps.createTable(e,t)}async updateTable(e,t){return this.tableOps.updateTable(e,t)}async dropTable(e,t){await this.tableOps.dropTable(e,t)}async loadTable(e){return this.tableOps.loadTable(e)}async namespaceExists(e){return this.namespaceOps.namespaceExists(e)}async tableExists(e){return this.tableOps.tableExists(e)}async createNamespaceIfNotExists(e,t){return this.namespaceOps.createNamespaceIfNotExists(e,t)}async createTableIfNotExists(e,t){return this.tableOps.createTableIfNotExists(e,t)}},Kd=class extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}};function Ke(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}var jI=class extends Kd{constructor(e,t,r){super(e),this.name="StorageApiError",this.status=t,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},tm=class extends Kd{constructor(e,t){super(e),this.name="StorageUnknownError",this.originalError=t}};const ov=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),AI=()=>Response,rm=e=>{if(Array.isArray(e))return e.map(r=>rm(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,n])=>{const s=r.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));t[s]=rm(n)}),t},PI=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},OI=e=>!e||typeof e!="string"||e.length===0||e.length>100||e.trim()!==e||e.includes("/")||e.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(e);function pl(e){"@babel/helpers - typeof";return pl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},pl(e)}function DI(e,t){if(pl(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(pl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function II(e){var t=DI(e,"string");return pl(t)=="symbol"?t:t+""}function MI(e,t,r){return(t=II(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ow(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function me(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ow(Object(r),!0).forEach(function(n){MI(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ow(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}const ah=e=>{var t;return e.msg||e.message||e.error_description||(typeof e.error=="string"?e.error:(t=e.error)===null||t===void 0?void 0:t.message)||JSON.stringify(e)},$I=async(e,t,r)=>{e instanceof await AI()&&!(r!=null&&r.noResolveJson)?e.json().then(n=>{const s=e.status||500,i=(n==null?void 0:n.statusCode)||s+"";t(new jI(ah(n),s,i))}).catch(n=>{t(new tm(ah(n),n))}):t(new tm(ah(e),e))},LI=(e,t,r,n)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||!n?s:(PI(n)?(s.headers=me({"Content-Type":"application/json"},t==null?void 0:t.headers),s.body=JSON.stringify(n)):s.body=n,t!=null&&t.duplex&&(s.duplex=t.duplex),me(me({},s),r))};async function Kl(e,t,r,n,s,i){return new Promise((o,a)=>{e(r,LI(t,n,s,i)).then(l=>{if(!l.ok)throw l;return n!=null&&n.noResolveJson?l:l.json()}).then(l=>o(l)).catch(l=>$I(l,a,n))})}async function ml(e,t,r,n){return Kl(e,"GET",t,r,n)}async function Rr(e,t,r,n,s){return Kl(e,"POST",t,n,s,r)}async function nm(e,t,r,n,s){return Kl(e,"PUT",t,n,s,r)}async function FI(e,t,r,n){return Kl(e,"HEAD",t,me(me({},r),{},{noResolveJson:!0}),n)}async function av(e,t,r,n,s){return Kl(e,"DELETE",t,n,s,r)}var UI=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t}then(e,t){return this.execute().then(e,t)}async execute(){var e=this;try{return{data:(await e.downloadFn()).body,error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(Ke(t))return{data:null,error:t};throw t}}};let rk;rk=Symbol.toStringTag;var zI=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t,this[rk]="BlobDownloadBuilder",this.promise=null}asStream(){return new UI(this.downloadFn,this.shouldThrowOnError)}then(e,t){return this.getPromise().then(e,t)}catch(e){return this.getPromise().catch(e)}finally(e){return this.getPromise().finally(e)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var e=this;try{return{data:await(await e.downloadFn()).blob(),error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(Ke(t))return{data:null,error:t};throw t}}};const BI={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},aw={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var WI=class{constructor(e,t={},r,n){this.shouldThrowOnError=!1,this.url=e,this.headers=t,this.bucketId=r,this.fetch=ov(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async uploadOrUpdate(e,t,r,n){var s=this;try{let i;const o=me(me({},aw),n);let a=me(me({},s.headers),e==="POST"&&{"x-upsert":String(o.upsert)});const l=o.metadata;typeof Blob<"u"&&r instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),l&&i.append("metadata",s.encodeMetadata(l)),i.append("",r)):typeof FormData<"u"&&r instanceof FormData?(i=r,i.has("cacheControl")||i.append("cacheControl",o.cacheControl),l&&!i.has("metadata")&&i.append("metadata",s.encodeMetadata(l))):(i=r,a["cache-control"]=`max-age=${o.cacheControl}`,a["content-type"]=o.contentType,l&&(a["x-metadata"]=s.toBase64(s.encodeMetadata(l))),(typeof ReadableStream<"u"&&i instanceof ReadableStream||i&&typeof i=="object"&&"pipe"in i&&typeof i.pipe=="function")&&!o.duplex&&(o.duplex="half")),n!=null&&n.headers&&(a=me(me({},a),n.headers));const c=s._removeEmptyFolders(t),u=s._getFinalPath(c),f=await(e=="PUT"?nm:Rr)(s.fetch,`${s.url}/object/${u}`,i,me({headers:a},o!=null&&o.duplex?{duplex:o.duplex}:{}));return{data:{path:c,id:f.Id,fullPath:f.Key},error:null}}catch(i){if(s.shouldThrowOnError)throw i;if(Ke(i))return{data:null,error:i};throw i}}async upload(e,t,r){return this.uploadOrUpdate("POST",e,t,r)}async uploadToSignedUrl(e,t,r,n){var s=this;const i=s._removeEmptyFolders(e),o=s._getFinalPath(i),a=new URL(s.url+`/object/upload/sign/${o}`);a.searchParams.set("token",t);try{let l;const c=me({upsert:aw.upsert},n),u=me(me({},s.headers),{"x-upsert":String(c.upsert)});return typeof Blob<"u"&&r instanceof Blob?(l=new FormData,l.append("cacheControl",c.cacheControl),l.append("",r)):typeof FormData<"u"&&r instanceof FormData?(l=r,l.append("cacheControl",c.cacheControl)):(l=r,u["cache-control"]=`max-age=${c.cacheControl}`,u["content-type"]=c.contentType),{data:{path:i,fullPath:(await nm(s.fetch,a.toString(),l,{headers:u})).Key},error:null}}catch(l){if(s.shouldThrowOnError)throw l;if(Ke(l))return{data:null,error:l};throw l}}async createSignedUploadUrl(e,t){var r=this;try{let n=r._getFinalPath(e);const s=me({},r.headers);t!=null&&t.upsert&&(s["x-upsert"]="true");const i=await Rr(r.fetch,`${r.url}/object/upload/sign/${n}`,{},{headers:s}),o=new URL(r.url+i.url),a=o.searchParams.get("token");if(!a)throw new Kd("No token returned by API");return{data:{signedUrl:o.toString(),path:e,token:a},error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(Ke(n))return{data:null,error:n};throw n}}async update(e,t,r){return this.uploadOrUpdate("PUT",e,t,r)}async move(e,t,r){var n=this;try{return{data:await Rr(n.fetch,`${n.url}/object/move`,{bucketId:n.bucketId,sourceKey:e,destinationKey:t,destinationBucket:r==null?void 0:r.destinationBucket},{headers:n.headers}),error:null}}catch(s){if(n.shouldThrowOnError)throw s;if(Ke(s))return{data:null,error:s};throw s}}async copy(e,t,r){var n=this;try{return{data:{path:(await Rr(n.fetch,`${n.url}/object/copy`,{bucketId:n.bucketId,sourceKey:e,destinationKey:t,destinationBucket:r==null?void 0:r.destinationBucket},{headers:n.headers})).Key},error:null}}catch(s){if(n.shouldThrowOnError)throw s;if(Ke(s))return{data:null,error:s};throw s}}async createSignedUrl(e,t,r){var n=this;try{let s=n._getFinalPath(e),i=await Rr(n.fetch,`${n.url}/object/sign/${s}`,me({expiresIn:t},r!=null&&r.transform?{transform:r.transform}:{}),{headers:n.headers});const o=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return i={signedUrl:encodeURI(`${n.url}${i.signedURL}${o}`)},{data:i,error:null}}catch(s){if(n.shouldThrowOnError)throw s;if(Ke(s))return{data:null,error:s};throw s}}async createSignedUrls(e,t,r){var n=this;try{const s=await Rr(n.fetch,`${n.url}/object/sign/${n.bucketId}`,{expiresIn:t,paths:e},{headers:n.headers}),i=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:s.map(o=>me(me({},o),{},{signedUrl:o.signedURL?encodeURI(`${n.url}${o.signedURL}${i}`):null})),error:null}}catch(s){if(n.shouldThrowOnError)throw s;if(Ke(s))return{data:null,error:s};throw s}}download(e,t){const r=typeof(t==null?void 0:t.transform)<"u"?"render/image/authenticated":"object",n=this.transformOptsToQueryString((t==null?void 0:t.transform)||{}),s=n?`?${n}`:"",i=this._getFinalPath(e),o=()=>ml(this.fetch,`${this.url}/${r}/${i}${s}`,{headers:this.headers,noResolveJson:!0});return new zI(o,this.shouldThrowOnError)}async info(e){var t=this;const r=t._getFinalPath(e);try{return{data:rm(await ml(t.fetch,`${t.url}/object/info/${r}`,{headers:t.headers})),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Ke(n))return{data:null,error:n};throw n}}async exists(e){var t=this;const r=t._getFinalPath(e);try{return await FI(t.fetch,`${t.url}/object/${r}`,{headers:t.headers}),{data:!0,error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Ke(n)&&n instanceof tm){const s=n.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:n}}throw n}}getPublicUrl(e,t){const r=this._getFinalPath(e),n=[],s=t!=null&&t.download?`download=${t.download===!0?"":t.download}`:"";s!==""&&n.push(s);const i=typeof(t==null?void 0:t.transform)<"u"?"render/image":"object",o=this.transformOptsToQueryString((t==null?void 0:t.transform)||{});o!==""&&n.push(o);let a=n.join("&");return a!==""&&(a=`?${a}`),{data:{publicUrl:encodeURI(`${this.url}/${i}/public/${r}${a}`)}}}async remove(e){var t=this;try{return{data:await av(t.fetch,`${t.url}/object/${t.bucketId}`,{prefixes:e},{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Ke(r))return{data:null,error:r};throw r}}async list(e,t,r){var n=this;try{const s=me(me(me({},BI),t),{},{prefix:e||""});return{data:await Rr(n.fetch,`${n.url}/object/list/${n.bucketId}`,s,{headers:n.headers},r),error:null}}catch(s){if(n.shouldThrowOnError)throw s;if(Ke(s))return{data:null,error:s};throw s}}async listV2(e,t){var r=this;try{const n=me({},e);return{data:await Rr(r.fetch,`${r.url}/object/list-v2/${r.bucketId}`,n,{headers:r.headers},t),error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(Ke(n))return{data:null,error:n};throw n}}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const t=[];return e.width&&t.push(`width=${e.width}`),e.height&&t.push(`height=${e.height}`),e.resize&&t.push(`resize=${e.resize}`),e.format&&t.push(`format=${e.format}`),e.quality&&t.push(`quality=${e.quality}`),t.join("&")}};const nk="2.90.1",sk={"X-Client-Info":`storage-js/${nk}`};var VI=class{constructor(e,t={},r,n){this.shouldThrowOnError=!1;const s=new URL(e);n!=null&&n.useNewHostname&&/supabase\.(co|in|red)$/.test(s.hostname)&&!s.hostname.includes("storage.supabase.")&&(s.hostname=s.hostname.replace("supabase.","storage.supabase.")),this.url=s.href.replace(/\/$/,""),this.headers=me(me({},sk),t),this.fetch=ov(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async listBuckets(e){var t=this;try{const r=t.listBucketOptionsToQueryString(e);return{data:await ml(t.fetch,`${t.url}/bucket${r}`,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Ke(r))return{data:null,error:r};throw r}}async getBucket(e){var t=this;try{return{data:await ml(t.fetch,`${t.url}/bucket/${e}`,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Ke(r))return{data:null,error:r};throw r}}async createBucket(e,t={public:!1}){var r=this;try{return{data:await Rr(r.fetch,`${r.url}/bucket`,{id:e,name:e,type:t.type,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:r.headers}),error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(Ke(n))return{data:null,error:n};throw n}}async updateBucket(e,t){var r=this;try{return{data:await nm(r.fetch,`${r.url}/bucket/${e}`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:r.headers}),error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(Ke(n))return{data:null,error:n};throw n}}async emptyBucket(e){var t=this;try{return{data:await Rr(t.fetch,`${t.url}/bucket/${e}/empty`,{},{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Ke(r))return{data:null,error:r};throw r}}async deleteBucket(e){var t=this;try{return{data:await av(t.fetch,`${t.url}/bucket/${e}`,{},{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Ke(r))return{data:null,error:r};throw r}}listBucketOptionsToQueryString(e){const t={};return e&&("limit"in e&&(t.limit=String(e.limit)),"offset"in e&&(t.offset=String(e.offset)),e.search&&(t.search=e.search),e.sortColumn&&(t.sortColumn=e.sortColumn),e.sortOrder&&(t.sortOrder=e.sortOrder)),Object.keys(t).length>0?"?"+new URLSearchParams(t).toString():""}},qI=class{constructor(e,t={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=me(me({},sk),t),this.fetch=ov(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(e){var t=this;try{return{data:await Rr(t.fetch,`${t.url}/bucket`,{name:e},{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Ke(r))return{data:null,error:r};throw r}}async listBuckets(e){var t=this;try{const r=new URLSearchParams;(e==null?void 0:e.limit)!==void 0&&r.set("limit",e.limit.toString()),(e==null?void 0:e.offset)!==void 0&&r.set("offset",e.offset.toString()),e!=null&&e.sortColumn&&r.set("sortColumn",e.sortColumn),e!=null&&e.sortOrder&&r.set("sortOrder",e.sortOrder),e!=null&&e.search&&r.set("search",e.search);const n=r.toString(),s=n?`${t.url}/bucket?${n}`:`${t.url}/bucket`;return{data:await ml(t.fetch,s,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Ke(r))return{data:null,error:r};throw r}}async deleteBucket(e){var t=this;try{return{data:await av(t.fetch,`${t.url}/bucket/${e}`,{},{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Ke(r))return{data:null,error:r};throw r}}from(e){var t=this;if(!OI(e))throw new Kd("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const r=new RI({baseUrl:this.url,catalogName:e,auth:{type:"custom",getHeaders:async()=>t.headers},fetch:this.fetch}),n=this.shouldThrowOnError;return new Proxy(r,{get(s,i){const o=s[i];return typeof o!="function"?o:async(...a)=>{try{return{data:await o.apply(s,a),error:null}}catch(l){if(n)throw l;return{data:null,error:l}}}}})}};const lv={"X-Client-Info":`storage-js/${nk}`,"Content-Type":"application/json"};var ik=class extends Error{constructor(e){super(e),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}};function Zt(e){return typeof e=="object"&&e!==null&&"__isStorageVectorsError"in e}var lh=class extends ik{constructor(e,t,r){super(e),this.name="StorageVectorsApiError",this.status=t,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},KI=class extends ik{constructor(e,t){super(e),this.name="StorageVectorsUnknownError",this.originalError=t}};const cv=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),HI=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},lw=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),GI=async(e,t,r)=>{if(e&&typeof e=="object"&&"status"in e&&"ok"in e&&typeof e.status=="number"&&!(r!=null&&r.noResolveJson)){const n=e.status||500,s=e;if(typeof s.json=="function")s.json().then(i=>{const o=(i==null?void 0:i.statusCode)||(i==null?void 0:i.code)||n+"";t(new lh(lw(i),n,o))}).catch(()=>{const i=n+"";t(new lh(s.statusText||`HTTP ${n} error`,n,i))});else{const i=n+"";t(new lh(s.statusText||`HTTP ${n} error`,n,i))}}else t(new KI(lw(e),e))},QI=(e,t,r,n)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return n?(HI(n)?(s.headers=me({"Content-Type":"application/json"},t==null?void 0:t.headers),s.body=JSON.stringify(n)):s.body=n,me(me({},s),r)):s};async function YI(e,t,r,n,s,i){return new Promise((o,a)=>{e(r,QI(t,n,s,i)).then(l=>{if(!l.ok)throw l;if(n!=null&&n.noResolveJson)return l;const c=l.headers.get("content-type");return!c||!c.includes("application/json")?{}:l.json()}).then(l=>o(l)).catch(l=>GI(l,a,n))})}async function Xt(e,t,r,n,s){return YI(e,"POST",t,n,s,r)}var ZI=class{constructor(e,t={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=me(me({},lv),t),this.fetch=cv(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async createIndex(e){var t=this;try{return{data:await Xt(t.fetch,`${t.url}/CreateIndex`,e,{headers:t.headers})||{},error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Zt(r))return{data:null,error:r};throw r}}async getIndex(e,t){var r=this;try{return{data:await Xt(r.fetch,`${r.url}/GetIndex`,{vectorBucketName:e,indexName:t},{headers:r.headers}),error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(Zt(n))return{data:null,error:n};throw n}}async listIndexes(e){var t=this;try{return{data:await Xt(t.fetch,`${t.url}/ListIndexes`,e,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Zt(r))return{data:null,error:r};throw r}}async deleteIndex(e,t){var r=this;try{return{data:await Xt(r.fetch,`${r.url}/DeleteIndex`,{vectorBucketName:e,indexName:t},{headers:r.headers})||{},error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(Zt(n))return{data:null,error:n};throw n}}},XI=class{constructor(e,t={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=me(me({},lv),t),this.fetch=cv(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async putVectors(e){var t=this;try{if(e.vectors.length<1||e.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:await Xt(t.fetch,`${t.url}/PutVectors`,e,{headers:t.headers})||{},error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Zt(r))return{data:null,error:r};throw r}}async getVectors(e){var t=this;try{return{data:await Xt(t.fetch,`${t.url}/GetVectors`,e,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Zt(r))return{data:null,error:r};throw r}}async listVectors(e){var t=this;try{if(e.segmentCount!==void 0){if(e.segmentCount<1||e.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(e.segmentIndex!==void 0&&(e.segmentIndex<0||e.segmentIndex>=e.segmentCount))throw new Error(`segmentIndex must be between 0 and ${e.segmentCount-1}`)}return{data:await Xt(t.fetch,`${t.url}/ListVectors`,e,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Zt(r))return{data:null,error:r};throw r}}async queryVectors(e){var t=this;try{return{data:await Xt(t.fetch,`${t.url}/QueryVectors`,e,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Zt(r))return{data:null,error:r};throw r}}async deleteVectors(e){var t=this;try{if(e.keys.length<1||e.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:await Xt(t.fetch,`${t.url}/DeleteVectors`,e,{headers:t.headers})||{},error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Zt(r))return{data:null,error:r};throw r}}},JI=class{constructor(e,t={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=me(me({},lv),t),this.fetch=cv(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(e){var t=this;try{return{data:await Xt(t.fetch,`${t.url}/CreateVectorBucket`,{vectorBucketName:e},{headers:t.headers})||{},error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Zt(r))return{data:null,error:r};throw r}}async getBucket(e){var t=this;try{return{data:await Xt(t.fetch,`${t.url}/GetVectorBucket`,{vectorBucketName:e},{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Zt(r))return{data:null,error:r};throw r}}async listBuckets(e={}){var t=this;try{return{data:await Xt(t.fetch,`${t.url}/ListVectorBuckets`,e,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Zt(r))return{data:null,error:r};throw r}}async deleteBucket(e){var t=this;try{return{data:await Xt(t.fetch,`${t.url}/DeleteVectorBucket`,{vectorBucketName:e},{headers:t.headers})||{},error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Zt(r))return{data:null,error:r};throw r}}},eM=class extends JI{constructor(e,t={}){super(e,t.headers||{},t.fetch)}from(e){return new tM(this.url,this.headers,e,this.fetch)}async createBucket(e){var t=()=>super.createBucket,r=this;return t().call(r,e)}async getBucket(e){var t=()=>super.getBucket,r=this;return t().call(r,e)}async listBuckets(e={}){var t=()=>super.listBuckets,r=this;return t().call(r,e)}async deleteBucket(e){var t=()=>super.deleteBucket,r=this;return t().call(r,e)}},tM=class extends ZI{constructor(e,t,r,n){super(e,t,n),this.vectorBucketName=r}async createIndex(e){var t=()=>super.createIndex,r=this;return t().call(r,me(me({},e),{},{vectorBucketName:r.vectorBucketName}))}async listIndexes(e={}){var t=()=>super.listIndexes,r=this;return t().call(r,me(me({},e),{},{vectorBucketName:r.vectorBucketName}))}async getIndex(e){var t=()=>super.getIndex,r=this;return t().call(r,r.vectorBucketName,e)}async deleteIndex(e){var t=()=>super.deleteIndex,r=this;return t().call(r,r.vectorBucketName,e)}index(e){return new rM(this.url,this.headers,this.vectorBucketName,e,this.fetch)}},rM=class extends XI{constructor(e,t,r,n,s){super(e,t,s),this.vectorBucketName=r,this.indexName=n}async putVectors(e){var t=()=>super.putVectors,r=this;return t().call(r,me(me({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async getVectors(e){var t=()=>super.getVectors,r=this;return t().call(r,me(me({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async listVectors(e={}){var t=()=>super.listVectors,r=this;return t().call(r,me(me({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async queryVectors(e){var t=()=>super.queryVectors,r=this;return t().call(r,me(me({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async deleteVectors(e){var t=()=>super.deleteVectors,r=this;return t().call(r,me(me({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}},nM=class extends VI{constructor(e,t={},r,n){super(e,t,r,n)}from(e){return new WI(this.url,this.headers,e,this.fetch)}get vectors(){return new eM(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new qI(this.url+"/iceberg",this.headers,this.fetch)}};const ok="2.90.1",Ki=30*1e3,sm=3,ch=sm*Ki,sM="http://localhost:9999",iM="supabase.auth.token",oM={"X-Client-Info":`gotrue-js/${ok}`},im="X-Supabase-Api-Version",ak={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},aM=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,lM=10*60*1e3;class gl extends Error{constructor(t,r,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function ue(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class cM extends gl{constructor(t,r,n){super(t,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function uM(e){return ue(e)&&e.name==="AuthApiError"}class Hs extends gl{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}}class In extends gl{constructor(t,r,n,s){super(t,n,s),this.name=r,this.status=n}}class Ht extends In{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function dM(e){return ue(e)&&e.name==="AuthSessionMissingError"}class Mi extends In{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Pc extends In{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class Oc extends In{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function fM(e){return ue(e)&&e.name==="AuthImplicitGrantRedirectError"}class cw extends In{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class hM extends In{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class om extends In{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}}function uh(e){return ue(e)&&e.name==="AuthRetryableFetchError"}class uw extends In{constructor(t,r,n){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class am extends In{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const Hu="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),dw=` 	
\r=`.split(""),pM=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<dw.length;t+=1)e[dw[t].charCodeAt(0)]=-2;for(let t=0;t<Hu.length;t+=1)e[Hu[t].charCodeAt(0)]=t;return e})();function fw(e,t,r){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(Hu[n]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(Hu[n]),t.queuedBits-=6}}function lk(e,t,r){const n=pM[e];if(n>-1)for(t.queue=t.queue<<6|n,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function hw(e){const t=[],r=o=>{t.push(String.fromCodePoint(o))},n={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},i=o=>{vM(o,n,r)};for(let o=0;o<e.length;o+=1)lk(e.charCodeAt(o),s,i);return t.join("")}function mM(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function gM(e,t){for(let r=0;r<e.length;r+=1){let n=e.charCodeAt(r);if(n>55295&&n<=56319){const s=(n-55296)*1024&65535;n=(e.charCodeAt(r+1)-56320&65535|s)+65536,r+=1}mM(n,t)}}function vM(e,t,r){if(t.utf8seq===0){if(e<=127){r(e);return}for(let n=1;n<6;n+=1)if(!(e>>7-n&1)){t.utf8seq=n;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&r(t.codepoint)}}function vo(e){const t=[],r={queue:0,queuedBits:0},n=s=>{t.push(s)};for(let s=0;s<e.length;s+=1)lk(e.charCodeAt(s),r,n);return new Uint8Array(t)}function yM(e){const t=[];return gM(e,r=>t.push(r)),new Uint8Array(t)}function Xs(e){const t=[],r={queue:0,queuedBits:0},n=s=>{t.push(s)};return e.forEach(s=>fw(s,r,n)),fw(null,r,n),t.join("")}function wM(e){return Math.round(Date.now()/1e3)+e}function xM(){return Symbol("auth-callback")}const ht=()=>typeof window<"u"&&typeof document<"u",Fs={tested:!1,writable:!1},ck=()=>{if(!ht())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Fs.tested)return Fs.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),Fs.tested=!0,Fs.writable=!0}catch{Fs.tested=!0,Fs.writable=!1}return Fs.writable};function bM(e){const t={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((s,i)=>{t[i]=s})}catch{}return r.searchParams.forEach((n,s)=>{t[s]=n}),t}const uk=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),_M=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",Hi=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},Us=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},ft=async(e,t)=>{await e.removeItem(t)};class Hd{constructor(){this.promise=new Hd.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}Hd.promiseConstructor=Promise;function dh(e){const t=e.split(".");if(t.length!==3)throw new am("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!aM.test(t[n]))throw new am("JWT not in base64url format");return{header:JSON.parse(hw(t[0])),payload:JSON.parse(hw(t[1])),signature:vo(t[2]),raw:{header:t[0],payload:t[1]}}}async function SM(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function kM(e,t){return new Promise((n,s)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await e(i);if(!t(i,null,o)){n(o);return}}catch(o){if(!t(i,o)){s(o);return}}})()})}function EM(e){return("0"+e.toString(16)).substr(-2)}function CM(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let s="";for(let i=0;i<56;i++)s+=r.charAt(Math.floor(Math.random()*n));return s}return crypto.getRandomValues(t),Array.from(t,EM).join("")}async function NM(e){const r=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",r),s=new Uint8Array(n);return Array.from(s).map(i=>String.fromCharCode(i)).join("")}async function TM(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const r=await NM(e);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function $i(e,t,r=!1){const n=CM();let s=n;r&&(s+="/PASSWORD_RECOVERY"),await Hi(e,`${t}-code-verifier`,s);const i=await TM(n);return[i,n===i?"plain":"s256"]}const RM=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function jM(e){const t=e.headers.get(im);if(!t||!t.match(RM))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function AM(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function PM(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const OM=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Li(e){if(!OM.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function fh(){const e={};return new Proxy(e,{get:(t,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function DM(e,t){return new Proxy(e,{get:(r,n,s)=>{if(n==="__isInsecureUserWarningProxy")return!0;if(typeof n=="symbol"){const i=n.toString();if(i==="Symbol(Symbol.toPrimitive)"||i==="Symbol(Symbol.toStringTag)"||i==="Symbol(util.inspect.custom)"||i==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(r,n,s)}return!t.value&&typeof n=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),t.value=!0),Reflect.get(r,n,s)}})}function pw(e){return JSON.parse(JSON.stringify(e))}const qs=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),IM=[502,503,504];async function mw(e){var t;if(!_M(e))throw new om(qs(e),0);if(IM.includes(e.status))throw new om(qs(e),e.status);let r;try{r=await e.json()}catch(i){throw new Hs(qs(i),i)}let n;const s=jM(e);if(s&&s.getTime()>=ak["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new uw(qs(r),e.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(n==="session_not_found")throw new Ht}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new uw(qs(r),e.status,r.weak_password.reasons);throw new cM(qs(r),e.status||500,n)}const MM=(e,t,r,n)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),s.body=JSON.stringify(n),Object.assign(Object.assign({},s),r))};async function pe(e,t,r,n){var s;const i=Object.assign({},n==null?void 0:n.headers);i[im]||(i[im]=ak["2024-01-01"].name),n!=null&&n.jwt&&(i.Authorization=`Bearer ${n.jwt}`);const o=(s=n==null?void 0:n.query)!==null&&s!==void 0?s:{};n!=null&&n.redirectTo&&(o.redirect_to=n.redirectTo);const a=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",l=await $M(e,t,r+a,{headers:i,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(l):{data:Object.assign({},l),error:null}}async function $M(e,t,r,n,s,i){const o=MM(t,n,s,i);let a;try{a=await e(r,Object.assign({},o))}catch(l){throw console.error(l),new om(qs(l),0)}if(a.ok||await mw(a),n!=null&&n.noResolveJson)return a;try{return await a.json()}catch(l){await mw(l)}}function Nr(e){var t;let r=null;UM(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=wM(e.expires_in)));const n=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:n},error:null}}function gw(e){const t=Nr(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(t.data.weak_password=e.weak_password),t}function Jn(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function LM(e){return{data:e,error:null}}function FM(e){const{action_link:t,email_otp:r,hashed_token:n,redirect_to:s,verification_type:i}=e,o=oa(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:t,email_otp:r,hashed_token:n,redirect_to:s,verification_type:i},l=Object.assign({},o);return{data:{properties:a,user:l},error:null}}function vw(e){return e}function UM(e){return e.access_token&&e.refresh_token&&e.expires_in}const hh=["global","local","others"];class zM{constructor({url:t="",headers:r={},fetch:n}){this.url=t,this.headers=r,this.fetch=uk(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(t,r=hh[0]){if(hh.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${hh.join(", ")}`);try{return await pe(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if(ue(n))return{data:null,error:n};throw n}}async inviteUserByEmail(t,r={}){try{return await pe(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:Jn})}catch(n){if(ue(n))return{data:{user:null},error:n};throw n}}async generateLink(t){try{const{options:r}=t,n=oa(t,["options"]),s=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(s.new_email=n==null?void 0:n.newEmail,delete s.newEmail),await pe(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:FM,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(ue(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await pe(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Jn})}catch(r){if(ue(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,n,s,i,o,a,l;try{const c={nextPage:null,lastPage:0,total:0},u=await pe(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:vw});if(u.error)throw u.error;const f=await u.json(),p=(o=u.headers.get("x-total-count"))!==null&&o!==void 0?o:0,h=(l=(a=u.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return h.length>0&&(h.forEach(x=>{const v=parseInt(x.split(";")[0].split("=")[1].substring(0,1)),y=JSON.parse(x.split(";")[1].split("=")[1]);c[`${y}Page`]=v}),c.total=parseInt(p)),{data:Object.assign(Object.assign({},f),c),error:null}}catch(c){if(ue(c))return{data:{users:[]},error:c};throw c}}async getUserById(t){Li(t);try{return await pe(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Jn})}catch(r){if(ue(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){Li(t);try{return await pe(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:Jn})}catch(n){if(ue(n))return{data:{user:null},error:n};throw n}}async deleteUser(t,r=!1){Li(t);try{return await pe(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:Jn})}catch(n){if(ue(n))return{data:{user:null},error:n};throw n}}async _listFactors(t){Li(t.userId);try{const{data:r,error:n}=await pe(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:r,error:n}}catch(r){if(ue(r))return{data:null,error:r};throw r}}async _deleteFactor(t){Li(t.userId),Li(t.id);try{return{data:await pe(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if(ue(r))return{data:null,error:r};throw r}}async _listOAuthClients(t){var r,n,s,i,o,a,l;try{const c={nextPage:null,lastPage:0,total:0},u=await pe(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:vw});if(u.error)throw u.error;const f=await u.json(),p=(o=u.headers.get("x-total-count"))!==null&&o!==void 0?o:0,h=(l=(a=u.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return h.length>0&&(h.forEach(x=>{const v=parseInt(x.split(";")[0].split("=")[1].substring(0,1)),y=JSON.parse(x.split(";")[1].split("=")[1]);c[`${y}Page`]=v}),c.total=parseInt(p)),{data:Object.assign(Object.assign({},f),c),error:null}}catch(c){if(ue(c))return{data:{clients:[]},error:c};throw c}}async _createOAuthClient(t){try{return await pe(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(ue(r))return{data:null,error:r};throw r}}async _getOAuthClient(t){try{return await pe(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(ue(r))return{data:null,error:r};throw r}}async _updateOAuthClient(t,r){try{return await pe(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${t}`,{body:r,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(ue(n))return{data:null,error:n};throw n}}async _deleteOAuthClient(t){try{return await pe(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(r){if(ue(r))return{data:null,error:r};throw r}}async _regenerateOAuthClientSecret(t){try{return await pe(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(ue(r))return{data:null,error:r};throw r}}}function yw(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}const Fi={debug:!!(globalThis&&ck()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class dk extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class BM extends dk{}async function WM(e,t,r){Fi.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;return t>0&&setTimeout(()=>{n.abort(),Fi.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async s=>{if(s){Fi.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,s.name);try{return await r()}finally{Fi.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,s.name)}}else{if(t===0)throw Fi.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new BM(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(Fi.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}function VM(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function fk(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function qM(e){return parseInt(e,16)}function KM(e){const t=new TextEncoder().encode(e);return"0x"+Array.from(t,n=>n.toString(16).padStart(2,"0")).join("")}function HM(e){var t;const{chainId:r,domain:n,expirationTime:s,issuedAt:i=new Date,nonce:o,notBefore:a,requestId:l,resources:c,scheme:u,uri:f,version:p}=e;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!n)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(o&&o.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${o}`);if(!f)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(p!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${p}`);if(!((t=e.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`)}const h=fk(e.address),x=u?`${u}://${n}`:n,v=e.statement?`${e.statement}
`:"",y=`${x} wants you to sign in with your Ethereum account:
${h}

${v}`;let g=`URI: ${f}
Version: ${p}
Chain ID: ${r}${o?`
Nonce: ${o}`:""}
Issued At: ${i.toISOString()}`;if(s&&(g+=`
Expiration Time: ${s.toISOString()}`),a&&(g+=`
Not Before: ${a.toISOString()}`),l&&(g+=`
Request ID: ${l}`),c){let w=`
Resources:`;for(const b of c){if(!b||typeof b!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${b}`);w+=`
- ${b}`}g+=w}return`${y}
${g}`}class rt extends Error{constructor({message:t,code:r,cause:n,name:s}){var i;super(t,{cause:n}),this.__isWebAuthnError=!0,this.name=(i=s??(n instanceof Error?n.name:void 0))!==null&&i!==void 0?i:"Unknown Error",this.code=r}}class Gu extends rt{constructor(t,r){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r,message:t}),this.name="WebAuthnUnknownError",this.originalError=r}}function GM({error:e,options:t}){var r,n,s;const{publicKey:i}=t;if(!i)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new rt({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if(e.name==="ConstraintError"){if(((r=i.authenticatorSelection)===null||r===void 0?void 0:r.requireResidentKey)===!0)return new rt({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:e});if(t.mediation==="conditional"&&((n=i.authenticatorSelection)===null||n===void 0?void 0:n.userVerification)==="required")return new rt({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:e});if(((s=i.authenticatorSelection)===null||s===void 0?void 0:s.userVerification)==="required")return new rt({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:e})}else{if(e.name==="InvalidStateError")return new rt({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:e});if(e.name==="NotAllowedError")return new rt({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="NotSupportedError")return i.pubKeyCredParams.filter(a=>a.type==="public-key").length===0?new rt({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:e}):new rt({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:e});if(e.name==="SecurityError"){const o=window.location.hostname;if(hk(o)){if(i.rp.id!==o)return new rt({message:`The RP ID "${i.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new rt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="TypeError"){if(i.user.id.byteLength<1||i.user.id.byteLength>64)return new rt({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:e})}else if(e.name==="UnknownError")return new rt({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new rt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}function QM({error:e,options:t}){const{publicKey:r}=t;if(!r)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new rt({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else{if(e.name==="NotAllowedError")return new rt({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="SecurityError"){const n=window.location.hostname;if(hk(n)){if(r.rpId!==n)return new rt({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new rt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="UnknownError")return new rt({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new rt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}class YM{createNewAbortSignal(){if(this.controller){const r=new Error("Cancelling existing WebAuthn API call for new one");r.name="AbortError",this.controller.abort(r)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}}const ZM=new YM;function XM(e){if(!e)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(e);const{challenge:t,user:r,excludeCredentials:n}=e,s=oa(e,["challenge","user","excludeCredentials"]),i=vo(t).buffer,o=Object.assign(Object.assign({},r),{id:vo(r.id).buffer}),a=Object.assign(Object.assign({},s),{challenge:i,user:o});if(n&&n.length>0){a.excludeCredentials=new Array(n.length);for(let l=0;l<n.length;l++){const c=n[l];a.excludeCredentials[l]=Object.assign(Object.assign({},c),{id:vo(c.id).buffer,type:c.type||"public-key",transports:c.transports})}}return a}function JM(e){if(!e)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(e);const{challenge:t,allowCredentials:r}=e,n=oa(e,["challenge","allowCredentials"]),s=vo(t).buffer,i=Object.assign(Object.assign({},n),{challenge:s});if(r&&r.length>0){i.allowCredentials=new Array(r.length);for(let o=0;o<r.length;o++){const a=r[o];i.allowCredentials[o]=Object.assign(Object.assign({},a),{id:vo(a.id).buffer,type:a.type||"public-key",transports:a.transports})}}return i}function e$(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e;return{id:e.id,rawId:e.id,response:{attestationObject:Xs(new Uint8Array(e.response.attestationObject)),clientDataJSON:Xs(new Uint8Array(e.response.clientDataJSON))},type:"public-key",clientExtensionResults:e.getClientExtensionResults(),authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function t$(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e,n=e.getClientExtensionResults(),s=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:Xs(new Uint8Array(s.authenticatorData)),clientDataJSON:Xs(new Uint8Array(s.clientDataJSON)),signature:Xs(new Uint8Array(s.signature)),userHandle:s.userHandle?Xs(new Uint8Array(s.userHandle)):void 0},type:"public-key",clientExtensionResults:n,authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function hk(e){return e==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function ww(){var e,t;return!!(ht()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.create)=="function"&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.get)=="function")}async function r$(e){try{const t=await navigator.credentials.create(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new Gu("Browser returned unexpected credential type",t)}:{data:null,error:new Gu("Empty credential response",t)}}catch(t){return{data:null,error:GM({error:t,options:e})}}}async function n$(e){try{const t=await navigator.credentials.get(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new Gu("Browser returned unexpected credential type",t)}:{data:null,error:new Gu("Empty credential response",t)}}catch(t){return{data:null,error:QM({error:t,options:e})}}}const s$={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},i$={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function Qu(...e){const t=s=>s!==null&&typeof s=="object"&&!Array.isArray(s),r=s=>s instanceof ArrayBuffer||ArrayBuffer.isView(s),n={};for(const s of e)if(s)for(const i in s){const o=s[i];if(o!==void 0)if(Array.isArray(o))n[i]=o;else if(r(o))n[i]=o;else if(t(o)){const a=n[i];t(a)?n[i]=Qu(a,o):n[i]=Qu(o)}else n[i]=o}return n}function o$(e,t){return Qu(s$,e,t||{})}function a$(e,t){return Qu(i$,e,t||{})}class l${constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(t){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))}async _challenge({factorId:t,webauthn:r,friendlyName:n,signal:s},i){try{const{data:o,error:a}=await this.client.mfa.challenge({factorId:t,webauthn:r});if(!o)return{data:null,error:a};const l=s??ZM.createNewAbortSignal();if(o.webauthn.type==="create"){const{user:c}=o.webauthn.credential_options.publicKey;c.name||(c.name=`${c.id}:${n}`),c.displayName||(c.displayName=c.name)}switch(o.webauthn.type){case"create":{const c=o$(o.webauthn.credential_options.publicKey,i==null?void 0:i.create),{data:u,error:f}=await r$({publicKey:c,signal:l});return u?{data:{factorId:t,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:u}},error:null}:{data:null,error:f}}case"request":{const c=a$(o.webauthn.credential_options.publicKey,i==null?void 0:i.request),{data:u,error:f}=await n$(Object.assign(Object.assign({},o.webauthn.credential_options),{publicKey:c,signal:l}));return u?{data:{factorId:t,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:u}},error:null}:{data:null,error:f}}}}catch(o){return ue(o)?{data:null,error:o}:{data:null,error:new Hs("Unexpected error in challenge",o)}}}async _verify({challengeId:t,factorId:r,webauthn:n}){return this.client.mfa.verify({factorId:r,challengeId:t,webauthn:n})}async _authenticate({factorId:t,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:s}={}},i){if(!r)return{data:null,error:new gl("rpId is required for WebAuthn authentication")};try{if(!ww())return{data:null,error:new Hs("Browser does not support WebAuthn",null)};const{data:o,error:a}=await this.challenge({factorId:t,webauthn:{rpId:r,rpOrigins:n},signal:s},{request:i});if(!o)return{data:null,error:a};const{webauthn:l}=o;return this._verify({factorId:t,challengeId:o.challengeId,webauthn:{type:l.type,rpId:r,rpOrigins:n,credential_response:l.credential_response}})}catch(o){return ue(o)?{data:null,error:o}:{data:null,error:new Hs("Unexpected error in authenticate",o)}}}async _register({friendlyName:t,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:s}={}},i){if(!r)return{data:null,error:new gl("rpId is required for WebAuthn registration")};try{if(!ww())return{data:null,error:new Hs("Browser does not support WebAuthn",null)};const{data:o,error:a}=await this._enroll({friendlyName:t});if(!o)return await this.client.mfa.listFactors().then(u=>{var f;return(f=u.data)===null||f===void 0?void 0:f.all.find(p=>p.factor_type==="webauthn"&&p.friendly_name===t&&p.status!=="unverified")}).then(u=>u?this.client.mfa.unenroll({factorId:u==null?void 0:u.id}):void 0),{data:null,error:a};const{data:l,error:c}=await this._challenge({factorId:o.id,friendlyName:o.friendly_name,webauthn:{rpId:r,rpOrigins:n},signal:s},{create:i});return l?this._verify({factorId:o.id,challengeId:l.challengeId,webauthn:{rpId:r,rpOrigins:n,type:l.webauthn.type,credential_response:l.webauthn.credential_response}}):{data:null,error:c}}catch(o){return ue(o)?{data:null,error:o}:{data:null,error:new Hs("Unexpected error in register",o)}}}}VM();const c$={url:sM,storageKey:iM,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:oM,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1,lockAcquireTimeout:1e4};async function xw(e,t,r){return await r()}const Ui={};class vl{get jwks(){var t,r;return(r=(t=Ui[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(t){Ui[this.storageKey]=Object.assign(Object.assign({},Ui[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,r;return(r=(t=Ui[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){Ui[this.storageKey]=Object.assign(Object.assign({},Ui[this.storageKey]),{cachedAt:t})}constructor(t){var r,n,s;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.autoRefreshTickTimeout=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const i=Object.assign(Object.assign({},c$),t);if(this.storageKey=i.storageKey,this.instanceID=(r=vl.nextInstanceID[this.storageKey])!==null&&r!==void 0?r:0,vl.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.instanceID>0&&ht()){const o=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(o),this.logDebugMessages&&console.trace(o)}if(this.persistSession=i.persistSession,this.autoRefreshToken=i.autoRefreshToken,this.admin=new zM({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=uk(i.fetch),this.lock=i.lock||xw,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,this.throwOnError=i.throwOnError,this.lockAcquireTimeout=i.lockAcquireTimeout,i.lock?this.lock=i.lock:this.persistSession&&ht()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=WM:this.lock=xw,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new l$(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(i.storage?this.storage=i.storage:ck()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=yw(this.memoryStorage)),i.userStorage&&(this.userStorage=i.userStorage)):(this.memoryStorage={},this.storage=yw(this.memoryStorage)),ht()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(o){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",o)}(s=this.broadcastChannel)===null||s===void 0||s.addEventListener("message",async o=>{this._debug("received broadcast notification from other tab or client",o),await this._notifyAllSubscribers(o.data.event,o.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(t){if(this.throwOnError&&t&&t.error)throw t.error;return t}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${ok}) ${new Date().toISOString()}`}_debug(...t){return this.logDebugMessages&&this.logger(this._logPrefix(),...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(this.lockAcquireTimeout,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{let r={},n="none";if(ht()&&(r=bM(window.location.href),this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce")),ht()&&this.detectSessionInUrl&&n!=="none"){const{data:s,error:i}=await this._getSessionFromURL(r,n);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),fM(i)){const l=(t=i.details)===null||t===void 0?void 0:t.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:i}}return{error:i}}const{session:o,redirectType:a}=s;return this._debug("#_initialize()","detected session in URL",o,"redirect type",a),await this._saveSession(o),setTimeout(async()=>{a==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return ue(r)?this._returnResult({error:r}):this._returnResult({error:new Hs("Unexpected error during initialization",r)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,n,s;try{const i=await pe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=t==null?void 0:t.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(s=t==null?void 0:t.options)===null||s===void 0?void 0:s.captchaToken}},xform:Nr}),{data:o,error:a}=i;if(a||!o)return this._returnResult({data:{user:null,session:null},error:a});const l=o.session,c=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),this._returnResult({data:{user:c,session:l},error:null})}catch(i){if(ue(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signUp(t){var r,n,s;try{let i;if("email"in t){const{email:u,password:f,options:p}=t;let h=null,x=null;this.flowType==="pkce"&&([h,x]=await $i(this.storage,this.storageKey)),i=await pe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:p==null?void 0:p.emailRedirectTo,body:{email:u,password:f,data:(r=p==null?void 0:p.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken},code_challenge:h,code_challenge_method:x},xform:Nr})}else if("phone"in t){const{phone:u,password:f,options:p}=t;i=await pe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:u,password:f,data:(n=p==null?void 0:p.data)!==null&&n!==void 0?n:{},channel:(s=p==null?void 0:p.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken}},xform:Nr})}else throw new Pc("You must provide either an email or phone number and a password");const{data:o,error:a}=i;if(a||!o)return await ft(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:a});const l=o.session,c=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),this._returnResult({data:{user:c,session:l},error:null})}catch(i){if(await ft(this.storage,`${this.storageKey}-code-verifier`),ue(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithPassword(t){try{let r;if("email"in t){const{email:i,password:o,options:a}=t;r=await pe(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:gw})}else if("phone"in t){const{phone:i,password:o,options:a}=t;r=await pe(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:gw})}else throw new Pc("You must provide either an email or phone number and a password");const{data:n,error:s}=r;if(s)return this._returnResult({data:{user:null,session:null},error:s});if(!n||!n.session||!n.user){const i=new Mi;return this._returnResult({data:{user:null,session:null},error:i})}return n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),this._returnResult({data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:s})}catch(r){if(ue(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOAuth(t){var r,n,s,i;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(s=t.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(i=t.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(this.lockAcquireTimeout,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:r}=t;switch(r){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(t){var r,n,s,i,o,a,l,c,u,f,p;let h,x;if("message"in t)h=t.message,x=t.signature;else{const{chain:v,wallet:y,statement:g,options:w}=t;let b;if(ht())if(typeof y=="object")b=y;else{const P=window;if("ethereum"in P&&typeof P.ethereum=="object"&&"request"in P.ethereum&&typeof P.ethereum.request=="function")b=P.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof y!="object"||!(w!=null&&w.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");b=y}const _=new URL((r=w==null?void 0:w.url)!==null&&r!==void 0?r:window.location.href),S=await b.request({method:"eth_requestAccounts"}).then(P=>P).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!S||S.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const C=fk(S[0]);let E=(n=w==null?void 0:w.signInWithEthereum)===null||n===void 0?void 0:n.chainId;if(!E){const P=await b.request({method:"eth_chainId"});E=qM(P)}const R={domain:_.host,address:C,statement:g,uri:_.href,version:"1",chainId:E,nonce:(s=w==null?void 0:w.signInWithEthereum)===null||s===void 0?void 0:s.nonce,issuedAt:(o=(i=w==null?void 0:w.signInWithEthereum)===null||i===void 0?void 0:i.issuedAt)!==null&&o!==void 0?o:new Date,expirationTime:(a=w==null?void 0:w.signInWithEthereum)===null||a===void 0?void 0:a.expirationTime,notBefore:(l=w==null?void 0:w.signInWithEthereum)===null||l===void 0?void 0:l.notBefore,requestId:(c=w==null?void 0:w.signInWithEthereum)===null||c===void 0?void 0:c.requestId,resources:(u=w==null?void 0:w.signInWithEthereum)===null||u===void 0?void 0:u.resources};h=HM(R),x=await b.request({method:"personal_sign",params:[KM(h),C]})}try{const{data:v,error:y}=await pe(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:h,signature:x},!((f=t.options)===null||f===void 0)&&f.captchaToken?{gotrue_meta_security:{captcha_token:(p=t.options)===null||p===void 0?void 0:p.captchaToken}}:null),xform:Nr});if(y)throw y;if(!v||!v.session||!v.user){const g=new Mi;return this._returnResult({data:{user:null,session:null},error:g})}return v.session&&(await this._saveSession(v.session),await this._notifyAllSubscribers("SIGNED_IN",v.session)),this._returnResult({data:Object.assign({},v),error:y})}catch(v){if(ue(v))return this._returnResult({data:{user:null,session:null},error:v});throw v}}async signInWithSolana(t){var r,n,s,i,o,a,l,c,u,f,p,h;let x,v;if("message"in t)x=t.message,v=t.signature;else{const{chain:y,wallet:g,statement:w,options:b}=t;let _;if(ht())if(typeof g=="object")_=g;else{const C=window;if("solana"in C&&typeof C.solana=="object"&&("signIn"in C.solana&&typeof C.solana.signIn=="function"||"signMessage"in C.solana&&typeof C.solana.signMessage=="function"))_=C.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof g!="object"||!(b!=null&&b.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");_=g}const S=new URL((r=b==null?void 0:b.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in _&&_.signIn){const C=await _.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},b==null?void 0:b.signInWithSolana),{version:"1",domain:S.host,uri:S.href}),w?{statement:w}:null));let E;if(Array.isArray(C)&&C[0]&&typeof C[0]=="object")E=C[0];else if(C&&typeof C=="object"&&"signedMessage"in C&&"signature"in C)E=C;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in E&&"signature"in E&&(typeof E.signedMessage=="string"||E.signedMessage instanceof Uint8Array)&&E.signature instanceof Uint8Array)x=typeof E.signedMessage=="string"?E.signedMessage:new TextDecoder().decode(E.signedMessage),v=E.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in _)||typeof _.signMessage!="function"||!("publicKey"in _)||typeof _!="object"||!_.publicKey||!("toBase58"in _.publicKey)||typeof _.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");x=[`${S.host} wants you to sign in with your Solana account:`,_.publicKey.toBase58(),...w?["",w,""]:[""],"Version: 1",`URI: ${S.href}`,`Issued At: ${(s=(n=b==null?void 0:b.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((i=b==null?void 0:b.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${b.signInWithSolana.notBefore}`]:[],...!((o=b==null?void 0:b.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${b.signInWithSolana.expirationTime}`]:[],...!((a=b==null?void 0:b.signInWithSolana)===null||a===void 0)&&a.chainId?[`Chain ID: ${b.signInWithSolana.chainId}`]:[],...!((l=b==null?void 0:b.signInWithSolana)===null||l===void 0)&&l.nonce?[`Nonce: ${b.signInWithSolana.nonce}`]:[],...!((c=b==null?void 0:b.signInWithSolana)===null||c===void 0)&&c.requestId?[`Request ID: ${b.signInWithSolana.requestId}`]:[],...!((f=(u=b==null?void 0:b.signInWithSolana)===null||u===void 0?void 0:u.resources)===null||f===void 0)&&f.length?["Resources",...b.signInWithSolana.resources.map(E=>`- ${E}`)]:[]].join(`
`);const C=await _.signMessage(new TextEncoder().encode(x),"utf8");if(!C||!(C instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");v=C}}try{const{data:y,error:g}=await pe(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:x,signature:Xs(v)},!((p=t.options)===null||p===void 0)&&p.captchaToken?{gotrue_meta_security:{captcha_token:(h=t.options)===null||h===void 0?void 0:h.captchaToken}}:null),xform:Nr});if(g)throw g;if(!y||!y.session||!y.user){const w=new Mi;return this._returnResult({data:{user:null,session:null},error:w})}return y.session&&(await this._saveSession(y.session),await this._notifyAllSubscribers("SIGNED_IN",y.session)),this._returnResult({data:Object.assign({},y),error:g})}catch(y){if(ue(y))return this._returnResult({data:{user:null,session:null},error:y});throw y}}async _exchangeCodeForSession(t){const r=await Us(this.storage,`${this.storageKey}-code-verifier`),[n,s]=(r??"").split("/");try{if(!n&&this.flowType==="pkce")throw new hM;const{data:i,error:o}=await pe(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:Nr});if(await ft(this.storage,`${this.storageKey}-code-verifier`),o)throw o;if(!i||!i.session||!i.user){const a=new Mi;return this._returnResult({data:{user:null,session:null,redirectType:null},error:a})}return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),this._returnResult({data:Object.assign(Object.assign({},i),{redirectType:s??null}),error:o})}catch(i){if(await ft(this.storage,`${this.storageKey}-code-verifier`),ue(i))return this._returnResult({data:{user:null,session:null,redirectType:null},error:i});throw i}}async signInWithIdToken(t){try{const{options:r,provider:n,token:s,access_token:i,nonce:o}=t,a=await pe(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:s,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:Nr}),{data:l,error:c}=a;if(c)return this._returnResult({data:{user:null,session:null},error:c});if(!l||!l.session||!l.user){const u=new Mi;return this._returnResult({data:{user:null,session:null},error:u})}return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),this._returnResult({data:l,error:c})}catch(r){if(ue(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOtp(t){var r,n,s,i,o;try{if("email"in t){const{email:a,options:l}=t;let c=null,u=null;this.flowType==="pkce"&&([c,u]=await $i(this.storage,this.storageKey));const{error:f}=await pe(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:a,data:(r=l==null?void 0:l.data)!==null&&r!==void 0?r:{},create_user:(n=l==null?void 0:l.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:c,code_challenge_method:u},redirectTo:l==null?void 0:l.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:f})}if("phone"in t){const{phone:a,options:l}=t,{data:c,error:u}=await pe(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:a,data:(s=l==null?void 0:l.data)!==null&&s!==void 0?s:{},create_user:(i=l==null?void 0:l.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(o=l==null?void 0:l.channel)!==null&&o!==void 0?o:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:c==null?void 0:c.message_id},error:u})}throw new Pc("You must provide either an email or phone number.")}catch(a){if(await ft(this.storage,`${this.storageKey}-code-verifier`),ue(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async verifyOtp(t){var r,n;try{let s,i;"options"in t&&(s=(r=t.options)===null||r===void 0?void 0:r.redirectTo,i=(n=t.options)===null||n===void 0?void 0:n.captchaToken);const{data:o,error:a}=await pe(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:i}}),redirectTo:s,xform:Nr});if(a)throw a;if(!o)throw new Error("An error occurred on token verification.");const l=o.session,c=o.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),this._returnResult({data:{user:c,session:l},error:null})}catch(s){if(ue(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signInWithSSO(t){var r,n,s,i,o;try{let a=null,l=null;this.flowType==="pkce"&&([a,l]=await $i(this.storage,this.storageKey));const c=await pe(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((s=t==null?void 0:t.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:a,code_challenge_method:l}),headers:this.headers,xform:LM});return!((i=c.data)===null||i===void 0)&&i.url&&ht()&&!(!((o=t.options)===null||o===void 0)&&o.skipBrowserRedirect)&&window.location.assign(c.data.url),this._returnResult(c)}catch(a){if(await ft(this.storage,`${this.storageKey}-code-verifier`),ue(a))return this._returnResult({data:null,error:a});throw a}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;if(n)throw n;if(!r)throw new Ht;const{error:s}=await pe(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return this._returnResult({data:{user:null,session:null},error:s})})}catch(t){if(ue(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:n,type:s,options:i}=t,{error:o}=await pe(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:o})}else if("phone"in t){const{phone:n,type:s,options:i}=t,{data:o,error:a}=await pe(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:a})}throw new Pc("You must provide either an email or phone number and a type")}catch(r){if(ue(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await Us(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const n=t.expires_at?t.expires_at*1e3-Date.now()<ch:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n){if(this.userStorage){const o=await Us(this.userStorage,this.storageKey+"-user");o!=null&&o.user?t.user=o.user:t.user=fh()}if(this.storage.isServer&&t.user&&!t.user.__isUserNotAvailableProxy){const o={value:this.suppressGetSessionWarning};t.user=DM(t.user,o),o.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:t},error:null}}const{data:s,error:i}=await this._callRefreshToken(t.refresh_token);return i?this._returnResult({data:{session:null},error:i}):this._returnResult({data:{session:s},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(t){if(t)return await this._getUser(t);await this.initializePromise;const r=await this._acquireLock(this.lockAcquireTimeout,async()=>await this._getUser());return r.data.user&&(this.suppressGetSessionWarning=!0),r}async _getUser(t){try{return t?await pe(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Jn}):await this._useSession(async r=>{var n,s,i;const{data:o,error:a}=r;if(a)throw a;return!(!((n=o.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Ht}:await pe(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(s=o.session)===null||s===void 0?void 0:s.access_token)!==null&&i!==void 0?i:void 0,xform:Jn})})}catch(r){if(ue(r))return dM(r)&&(await this._removeSession(),await ft(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:r});throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async n=>{const{data:s,error:i}=n;if(i)throw i;if(!s.session)throw new Ht;const o=s.session;let a=null,l=null;this.flowType==="pkce"&&t.email!=null&&([a,l]=await $i(this.storage,this.storageKey));const{data:c,error:u}=await pe(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:a,code_challenge_method:l}),jwt:o.access_token,xform:Jn});if(u)throw u;return o.user=c.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),this._returnResult({data:{user:o.user},error:null})})}catch(n){if(await ft(this.storage,`${this.storageKey}-code-verifier`),ue(n))return this._returnResult({data:{user:null},error:n});throw n}}async setSession(t){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new Ht;const r=Date.now()/1e3;let n=r,s=!0,i=null;const{payload:o}=dh(t.access_token);if(o.exp&&(n=o.exp,s=n<=r),s){const{data:a,error:l}=await this._callRefreshToken(t.refresh_token);if(l)return this._returnResult({data:{user:null,session:null},error:l});if(!a)return{data:{user:null,session:null},error:null};i=a}else{const{data:a,error:l}=await this._getUser(t.access_token);if(l)throw l;i={access_token:t.access_token,refresh_token:t.refresh_token,user:a.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return this._returnResult({data:{user:i.user,session:i},error:null})}catch(r){if(ue(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var n;if(!t){const{data:o,error:a}=r;if(a)throw a;t=(n=o.session)!==null&&n!==void 0?n:void 0}if(!(t!=null&&t.refresh_token))throw new Ht;const{data:s,error:i}=await this._callRefreshToken(t.refresh_token);return i?this._returnResult({data:{user:null,session:null},error:i}):s?this._returnResult({data:{user:s.user,session:s},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(r){if(ue(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async _getSessionFromURL(t,r){try{if(!ht())throw new Oc("No browser detected.");if(t.error||t.error_description||t.error_code)throw new Oc(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new cw("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Oc("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new cw("No code detected.");const{data:w,error:b}=await this._exchangeCodeForSession(t.code);if(b)throw b;const _=new URL(window.location.href);return _.searchParams.delete("code"),window.history.replaceState(window.history.state,"",_.toString()),{data:{session:w.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:s,access_token:i,refresh_token:o,expires_in:a,expires_at:l,token_type:c}=t;if(!i||!a||!o||!c)throw new Oc("No session defined in URL");const u=Math.round(Date.now()/1e3),f=parseInt(a);let p=u+f;l&&(p=parseInt(l));const h=p-u;h*1e3<=Ki&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${h}s, should have been closer to ${f}s`);const x=p-f;u-x>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",x,p,u):u-x<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",x,p,u);const{data:v,error:y}=await this._getUser(i);if(y)throw y;const g={provider_token:n,provider_refresh_token:s,access_token:i,expires_in:f,expires_at:p,refresh_token:o,token_type:c,user:v.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:g,redirectType:t.type},error:null})}catch(n){if(ue(n))return this._returnResult({data:{session:null,redirectType:null},error:n});throw n}}_isImplicitGrantCallback(t){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),t):!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await Us(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return this._returnResult({error:i});const o=(n=s.session)===null||n===void 0?void 0:n.access_token;if(o){const{error:a}=await this.admin.signOut(o,t);if(a&&!(uM(a)&&(a.status===404||a.status===401||a.status===403)))return this._returnResult({error:a})}return t!=="others"&&(await this._removeSession(),await ft(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(t){const r=xM(),n={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(t){return await this._useSession(async r=>{var n,s;try{const{data:{session:i},error:o}=r;if(o)throw o;await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",t,"session",i)}catch(i){await((s=this.stateChangeEmitters.get(t))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",i),console.error(i)}})}async resetPasswordForEmail(t,r={}){let n=null,s=null;this.flowType==="pkce"&&([n,s]=await $i(this.storage,this.storageKey,!0));try{return await pe(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:s,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(i){if(await ft(this.storage,`${this.storageKey}-code-verifier`),ue(i))return this._returnResult({data:null,error:i});throw i}}async getUserIdentities(){var t;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return this._returnResult({data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null})}catch(r){if(ue(r))return this._returnResult({data:null,error:r});throw r}}async linkIdentity(t){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)}async linkIdentityOAuth(t){var r;try{const{data:n,error:s}=await this._useSession(async i=>{var o,a,l,c,u;const{data:f,error:p}=i;if(p)throw p;const h=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(o=t.options)===null||o===void 0?void 0:o.redirectTo,scopes:(a=t.options)===null||a===void 0?void 0:a.scopes,queryParams:(l=t.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await pe(this.fetch,"GET",h,{headers:this.headers,jwt:(u=(c=f.session)===null||c===void 0?void 0:c.access_token)!==null&&u!==void 0?u:void 0})});if(s)throw s;return ht()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),this._returnResult({data:{provider:t.provider,url:n==null?void 0:n.url},error:null})}catch(n){if(ue(n))return this._returnResult({data:{provider:t.provider,url:null},error:n});throw n}}async linkIdentityIdToken(t){return await this._useSession(async r=>{var n;try{const{error:s,data:{session:i}}=r;if(s)throw s;const{options:o,provider:a,token:l,access_token:c,nonce:u}=t,f=await pe(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(n=i==null?void 0:i.access_token)!==null&&n!==void 0?n:void 0,body:{provider:a,id_token:l,access_token:c,nonce:u,link_identity:!0,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:Nr}),{data:p,error:h}=f;return h?this._returnResult({data:{user:null,session:null},error:h}):!p||!p.session||!p.user?this._returnResult({data:{user:null,session:null},error:new Mi}):(p.session&&(await this._saveSession(p.session),await this._notifyAllSubscribers("USER_UPDATED",p.session)),this._returnResult({data:p,error:h}))}catch(s){if(await ft(this.storage,`${this.storageKey}-code-verifier`),ue(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}})}async unlinkIdentity(t){try{return await this._useSession(async r=>{var n,s;const{data:i,error:o}=r;if(o)throw o;return await pe(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(s=(n=i.session)===null||n===void 0?void 0:n.access_token)!==null&&s!==void 0?s:void 0})})}catch(r){if(ue(r))return this._returnResult({data:null,error:r});throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await kM(async s=>(s>0&&await SM(200*Math.pow(2,s-1)),this._debug(r,"refreshing attempt",s),await pe(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:Nr})),(s,i)=>{const o=200*Math.pow(2,s);return i&&uh(i)&&Date.now()+o-n<Ki})}catch(n){if(this._debug(r,"error",n),ue(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",n),ht()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}}async _recoverAndRefresh(){var t,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const s=await Us(this.storage,this.storageKey);if(s&&this.userStorage){let o=await Us(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:s.user},await Hi(this.userStorage,this.storageKey+"-user",o)),s.user=(t=o==null?void 0:o.user)!==null&&t!==void 0?t:fh()}else if(s&&!s.user&&!s.user){const o=await Us(this.storage,this.storageKey+"-user");o&&(o!=null&&o.user)?(s.user=o.user,await ft(this.storage,this.storageKey+"-user"),await Hi(this.storage,this.storageKey,s)):s.user=fh()}if(this._debug(n,"session from storage",s),!this._isValidSession(s)){this._debug(n,"session is not valid"),s!==null&&await this._removeSession();return}const i=((r=s.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<ch;if(this._debug(n,`session has${i?"":" not"} expired with margin of ${ch}s`),i){if(this.autoRefreshToken&&s.refresh_token){const{error:o}=await this._callRefreshToken(s.refresh_token);o&&(console.error(o),uh(o)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(s.user&&s.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:a}=await this._getUser(s.access_token);!a&&(o!=null&&o.user)?(s.user=o.user,await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(n,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",s)}catch(s){this._debug(n,"error",s),console.error(s);return}finally{this._debug(n,"end")}}async _callRefreshToken(t){var r,n;if(!t)throw new Ht;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new Hd;const{data:i,error:o}=await this._refreshAccessToken(t);if(o)throw o;if(!i.session)throw new Ht;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const a={data:i.session,error:null};return this.refreshingDeferred.resolve(a),a}catch(i){if(this._debug(s,"error",i),ue(i)){const o={data:null,error:i};return uh(i)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(o),o}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(i),i}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(t,r,n=!0){const s=`#_notifyAllSubscribers(${t})`;this._debug(s,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:r});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async a=>{try{await a.callback(t,r)}catch(l){i.push(l)}});if(await Promise.all(o),i.length>0){for(let a=0;a<i.length;a+=1)console.error(i[a]);throw i[0]}}finally{this._debug(s,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await ft(this.storage,`${this.storageKey}-code-verifier`);const r=Object.assign({},t),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await Hi(this.userStorage,this.storageKey+"-user",{user:r.user});const s=Object.assign({},r);delete s.user;const i=pw(s);await Hi(this.storage,this.storageKey,i)}else{const s=pw(r);await Hi(this.storage,this.storageKey,s)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await ft(this.storage,this.storageKey),await ft(this.storage,this.storageKey+"-code-verifier"),await ft(this.storage,this.storageKey+"-user"),this.userStorage&&await ft(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&ht()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),Ki);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t);const r=setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0);this.autoRefreshTickTimeout=r,r&&typeof r=="object"&&typeof r.unref=="function"?r.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(r)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t);const r=this.autoRefreshTickTimeout;this.autoRefreshTickTimeout=null,r&&clearTimeout(r)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((n.expires_at*1e3-t)/Ki);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${Ki}ms, refresh threshold is ${sm} ticks`),s<=sm&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof dk)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!ht()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,n){const s=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&s.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&s.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[i,o]=await $i(this.storage,this.storageKey),a=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});s.push(a.toString())}if(n!=null&&n.queryParams){const i=new URLSearchParams(n.queryParams);s.push(i.toString())}return n!=null&&n.skipBrowserRedirect&&s.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${t}?${s.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;return i?this._returnResult({data:null,error:i}):await pe(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(ue(r))return this._returnResult({data:null,error:r});throw r}}async _enroll(t){try{return await this._useSession(async r=>{var n,s;const{data:i,error:o}=r;if(o)return this._returnResult({data:null,error:o});const a=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:l,error:c}=await pe(this.fetch,"POST",`${this.url}/factors`,{body:a,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return c?this._returnResult({data:null,error:c}):(t.factorType==="totp"&&l.type==="totp"&&(!((s=l==null?void 0:l.totp)===null||s===void 0)&&s.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),this._returnResult({data:l,error:null}))})}catch(r){if(ue(r))return this._returnResult({data:null,error:r});throw r}}async _verify(t){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return this._returnResult({data:null,error:i});const o=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?e$(t.webauthn.credential_response):t$(t.webauthn.credential_response)})}:{code:t.code}),{data:a,error:l}=await pe(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:o,headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});return l?this._returnResult({data:null,error:l}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+a.expires_in},a)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",a),this._returnResult({data:a,error:l}))})}catch(r){if(ue(r))return this._returnResult({data:null,error:r});throw r}})}async _challenge(t){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return this._returnResult({data:null,error:i});const o=await pe(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});if(o.error)return o;const{data:a}=o;if(a.type!=="webauthn")return{data:a,error:null};switch(a.webauthn.type){case"create":return{data:Object.assign(Object.assign({},a),{webauthn:Object.assign(Object.assign({},a.webauthn),{credential_options:Object.assign(Object.assign({},a.webauthn.credential_options),{publicKey:XM(a.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},a),{webauthn:Object.assign(Object.assign({},a.webauthn),{credential_options:Object.assign(Object.assign({},a.webauthn.credential_options),{publicKey:JM(a.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if(ue(r))return this._returnResult({data:null,error:r});throw r}})}async _challengeAndVerify(t){const{data:r,error:n}=await this._challenge({factorId:t.factorId});return n?this._returnResult({data:null,error:n}):await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){var t;const{data:{user:r},error:n}=await this.getUser();if(n)return{data:null,error:n};const s={all:[],phone:[],totp:[],webauthn:[]};for(const i of(t=r==null?void 0:r.factors)!==null&&t!==void 0?t:[])s.all.push(i),i.status==="verified"&&s[i.factor_type].push(i);return{data:s,error:null}}async _getAuthenticatorAssuranceLevel(){var t,r;const{data:{session:n},error:s}=await this.getSession();if(s)return this._returnResult({data:null,error:s});if(!n)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:i}=dh(n.access_token);let o=null;i.aal&&(o=i.aal);let a=o;((r=(t=n.user.factors)===null||t===void 0?void 0:t.filter(u=>u.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(a="aal2");const c=i.amr||[];return{data:{currentLevel:o,nextLevel:a,currentAuthenticationMethods:c},error:null}}async _getAuthorizationDetails(t){try{return await this._useSession(async r=>{const{data:{session:n},error:s}=r;return s?this._returnResult({data:null,error:s}):n?await pe(this.fetch,"GET",`${this.url}/oauth/authorizations/${t}`,{headers:this.headers,jwt:n.access_token,xform:i=>({data:i,error:null})}):this._returnResult({data:null,error:new Ht})})}catch(r){if(ue(r))return this._returnResult({data:null,error:r});throw r}}async _approveAuthorization(t,r){try{return await this._useSession(async n=>{const{data:{session:s},error:i}=n;if(i)return this._returnResult({data:null,error:i});if(!s)return this._returnResult({data:null,error:new Ht});const o=await pe(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:s.access_token,body:{action:"approve"},xform:a=>({data:a,error:null})});return o.data&&o.data.redirect_url&&ht()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(o.data.redirect_url),o})}catch(n){if(ue(n))return this._returnResult({data:null,error:n});throw n}}async _denyAuthorization(t,r){try{return await this._useSession(async n=>{const{data:{session:s},error:i}=n;if(i)return this._returnResult({data:null,error:i});if(!s)return this._returnResult({data:null,error:new Ht});const o=await pe(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:s.access_token,body:{action:"deny"},xform:a=>({data:a,error:null})});return o.data&&o.data.redirect_url&&ht()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(o.data.redirect_url),o})}catch(n){if(ue(n))return this._returnResult({data:null,error:n});throw n}}async _listOAuthGrants(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;return n?this._returnResult({data:null,error:n}):r?await pe(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,xform:s=>({data:s,error:null})}):this._returnResult({data:null,error:new Ht})})}catch(t){if(ue(t))return this._returnResult({data:null,error:t});throw t}}async _revokeOAuthGrant(t){try{return await this._useSession(async r=>{const{data:{session:n},error:s}=r;return s?this._returnResult({data:null,error:s}):n?(await pe(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,query:{client_id:t.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new Ht})})}catch(r){if(ue(r))return this._returnResult({data:null,error:r});throw r}}async fetchJwk(t,r={keys:[]}){let n=r.keys.find(a=>a.kid===t);if(n)return n;const s=Date.now();if(n=this.jwks.keys.find(a=>a.kid===t),n&&this.jwks_cached_at+lM>s)return n;const{data:i,error:o}=await pe(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!i.keys||i.keys.length===0||(this.jwks=i,this.jwks_cached_at=s,n=i.keys.find(a=>a.kid===t),!n)?null:n}async getClaims(t,r={}){try{let n=t;if(!n){const{data:h,error:x}=await this.getSession();if(x||!h.session)return this._returnResult({data:null,error:x});n=h.session.access_token}const{header:s,payload:i,signature:o,raw:{header:a,payload:l}}=dh(n);r!=null&&r.allowExpired||AM(i.exp);const c=!s.alg||s.alg.startsWith("HS")||!s.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(s.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!c){const{error:h}=await this.getUser(n);if(h)throw h;return{data:{claims:i,header:s,signature:o},error:null}}const u=PM(s.alg),f=await crypto.subtle.importKey("jwk",c,u,!0,["verify"]);if(!await crypto.subtle.verify(u,f,o,yM(`${a}.${l}`)))throw new am("Invalid JWT signature");return{data:{claims:i,header:s,signature:o},error:null}}catch(n){if(ue(n))return this._returnResult({data:null,error:n});throw n}}}vl.nextInstanceID={};const u$=vl,d$="2.90.1";let ka="";typeof Deno<"u"?ka="deno":typeof document<"u"?ka="web":typeof navigator<"u"&&navigator.product==="ReactNative"?ka="react-native":ka="node";const f$={"X-Client-Info":`supabase-js-${ka}/${d$}`},h$={headers:f$},p$={schema:"public"},m$={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},g$={};function yl(e){"@babel/helpers - typeof";return yl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},yl(e)}function v$(e,t){if(yl(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(yl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function y$(e){var t=v$(e,"string");return yl(t)=="symbol"?t:t+""}function w$(e,t,r){return(t=y$(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function bw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Xe(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?bw(Object(r),!0).forEach(function(n){w$(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):bw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}const x$=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),b$=()=>Headers,_$=(e,t,r)=>{const n=x$(r),s=b$();return async(i,o)=>{var a;const l=(a=await t())!==null&&a!==void 0?a:e;let c=new s(o==null?void 0:o.headers);return c.has("apikey")||c.set("apikey",e),c.has("Authorization")||c.set("Authorization",`Bearer ${l}`),n(i,Xe(Xe({},o),{},{headers:c}))}};function S$(e){return e.endsWith("/")?e:e+"/"}function k$(e,t){var r,n;const{db:s,auth:i,realtime:o,global:a}=e,{db:l,auth:c,realtime:u,global:f}=t,p={db:Xe(Xe({},l),s),auth:Xe(Xe({},c),i),realtime:Xe(Xe({},u),o),storage:{},global:Xe(Xe(Xe({},f),a),{},{headers:Xe(Xe({},(r=f==null?void 0:f.headers)!==null&&r!==void 0?r:{}),(n=a==null?void 0:a.headers)!==null&&n!==void 0?n:{})}),accessToken:async()=>""};return e.accessToken?p.accessToken=e.accessToken:delete p.accessToken,p}function E$(e){const t=e==null?void 0:e.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(S$(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var C$=class extends u${constructor(e){super(e)}},N$=class{constructor(e,t,r){var n,s;this.supabaseUrl=e,this.supabaseKey=t;const i=E$(e);if(!t)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",i),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",i),this.storageUrl=new URL("storage/v1",i),this.functionsUrl=new URL("functions/v1",i);const o=`sb-${i.hostname.split(".")[0]}-auth-token`,a={db:p$,realtime:g$,auth:Xe(Xe({},m$),{},{storageKey:o}),global:h$},l=k$(r??{},a);if(this.storageKey=(n=l.auth.storageKey)!==null&&n!==void 0?n:"",this.headers=(s=l.global.headers)!==null&&s!==void 0?s:{},l.accessToken)this.accessToken=l.accessToken,this.auth=new Proxy({},{get:(u,f)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(f)} is not possible`)}});else{var c;this.auth=this._initSupabaseAuthClient((c=l.auth)!==null&&c!==void 0?c:{},this.headers,l.global.fetch)}this.fetch=_$(t,this._getAccessToken.bind(this),l.global.fetch),this.realtime=this._initRealtimeClient(Xe({headers:this.headers,accessToken:this._getAccessToken.bind(this)},l.realtime)),this.accessToken&&this.accessToken().then(u=>this.realtime.setAuth(u)).catch(u=>console.warn("Failed to set initial Realtime auth token:",u)),this.rest=new oI(new URL("rest/v1",i).href,{headers:this.headers,schema:l.db.schema,fetch:this.fetch}),this.storage=new nM(this.storageUrl.href,this.headers,this.fetch,r==null?void 0:r.storage),l.accessToken||this._listenForAuthEvents()}get functions(){return new tI(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,t={},r={head:!1,get:!1,count:void 0}){return this.rest.rpc(e,t,r)}channel(e,t={config:{}}){return this.realtime.channel(e,t)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var e=this,t,r;if(e.accessToken)return await e.accessToken();const{data:n}=await e.auth.getSession();return(t=(r=n.session)===null||r===void 0?void 0:r.access_token)!==null&&t!==void 0?t:e.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:t,detectSessionInUrl:r,storage:n,userStorage:s,storageKey:i,flowType:o,lock:a,debug:l,throwOnError:c},u,f){const p={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new C$({url:this.authUrl.href,headers:Xe(Xe({},p),u),storageKey:i,autoRefreshToken:e,persistSession:t,detectSessionInUrl:r,storage:n,userStorage:s,flowType:o,lock:a,debug:l,throwOnError:c,fetch:f,hasCustomAuthorizationHeader:Object.keys(this.headers).some(h=>h.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new SI(this.realtimeUrl.href,Xe(Xe({},e),{},{params:Xe(Xe({},{apikey:this.supabaseKey}),e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((e,t)=>{this._handleTokenChanged(e,"CLIENT",t==null?void 0:t.access_token)})}_handleTokenChanged(e,t,r){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==r?(this.changedAccessToken=r,this.realtime.setAuth(r)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),t=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const T$=(e,t,r)=>new N$(e,t,r);function R$(){if(typeof window<"u")return!1;const e=globalThis.process;if(!e)return!1;const t=e.version;if(t==null)return!1;const r=t.match(/^v(\d+)\./);return r?parseInt(r[1],10)<=18:!1}R$()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const j$="https://joknhyopvvdsljfjertr.supabase.co",A$="sb_publishable_EqkyCysITrfzWU-L-3EkwQ_ONDzMlaV",ee=T$(j$,A$),P$=()=>{const[e,t]=m.useState(null),[r,n]=m.useState(null),[s,i]=m.useState(!0);m.useEffect(()=>{const{data:{subscription:u}}=ee.auth.onAuthStateChange((f,p)=>{n(p),t((p==null?void 0:p.user)??null),i(!1)});return ee.auth.getSession().then(({data:{session:f}})=>{n(f),t((f==null?void 0:f.user)??null),i(!1)}),()=>u.unsubscribe()},[]);const o=m.useCallback(async(u,f)=>{const p=`${window.location.origin}/`,{error:h}=await ee.auth.signUp({email:u,password:f,options:{emailRedirectTo:p}});return{error:h}},[]),a=m.useCallback(async(u,f)=>{const{error:p}=await ee.auth.signInWithPassword({email:u,password:f});return{error:p}},[]),l=m.useCallback(async()=>{const{error:u}=await ee.auth.signOut();return{error:u}},[]),c=m.useCallback(async u=>{const f=`${window.location.origin}/auth?reset=true`,{error:p}=await ee.auth.resetPasswordForEmail(u,{redirectTo:f});return{error:p}},[]);return{user:e,session:r,loading:s,signUp:o,signIn:a,signOut:l,resetPassword:c}},pk=m.createContext(void 0),O$=({children:e})=>{const t=P$();return d.jsx(pk.Provider,{value:t,children:e})},wr=()=>{const e=m.useContext(pk);if(e===void 0)throw new Error("useAuthContext must be used within an AuthProvider");return e};function ps(e){const t=D$(e.initial_url);return t||(e.source_label??e.domain)}function D$(e){try{const r=new URL(e).pathname.match(/^\/wiki\/([^/?#]+)$/);if(r){const n=decodeURIComponent(r[1].replace(/_/g," "));if(n&&n.length<100)return n}}catch{}return null}function uv(e,t){if(!(e!=null&&e.trim()))return e||"";let r=e.trim();const n=[/\s*-\s*Wikipedia\s*$/i,/\s*\s*Wikipedia\s*$/i,/\s*-\s*Wikidata\s*$/i,/\s*-\s*Wikimedia\s*$/i];for(const s of n)r=r.replace(s,"").trim();return r||e.trim()}const dv=Ul("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),Te=m.forwardRef(({className:e,variant:t,size:r,asChild:n=!1,...s},i)=>{const o=n?wj:"button";return d.jsx(o,{className:K(dv({variant:t,size:r,className:e})),ref:i,...s})});Te.displayName="Button";var I$=m.createContext(void 0);function Gd(e){const t=m.useContext(I$);return e||t||"ltr"}function M$(e,[t,r]){return Math.min(r,Math.max(t,e))}function $$(e,t){return m.useReducer((r,n)=>t[r][n]??r,e)}var fv="ScrollArea",[mk,KB]=yr(fv),[L$,xr]=mk(fv),gk=m.forwardRef((e,t)=>{const{__scopeScrollArea:r,type:n="hover",dir:s,scrollHideDelay:i=600,...o}=e,[a,l]=m.useState(null),[c,u]=m.useState(null),[f,p]=m.useState(null),[h,x]=m.useState(null),[v,y]=m.useState(null),[g,w]=m.useState(0),[b,_]=m.useState(0),[S,C]=m.useState(!1),[E,R]=m.useState(!1),P=De(t,W=>l(W)),D=Gd(s);return d.jsx(L$,{scope:r,type:n,dir:D,scrollHideDelay:i,scrollArea:a,viewport:c,onViewportChange:u,content:f,onContentChange:p,scrollbarX:h,onScrollbarXChange:x,scrollbarXEnabled:S,onScrollbarXEnabledChange:C,scrollbarY:v,onScrollbarYChange:y,scrollbarYEnabled:E,onScrollbarYEnabledChange:R,onCornerWidthChange:w,onCornerHeightChange:_,children:d.jsx(be.div,{dir:D,...o,ref:P,style:{position:"relative","--radix-scroll-area-corner-width":g+"px","--radix-scroll-area-corner-height":b+"px",...e.style}})})});gk.displayName=fv;var vk="ScrollAreaViewport",yk=m.forwardRef((e,t)=>{const{__scopeScrollArea:r,children:n,nonce:s,...i}=e,o=xr(vk,r),a=m.useRef(null),l=De(t,a,o.onViewportChange);return d.jsxs(d.Fragment,{children:[d.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:s}),d.jsx(be.div,{"data-radix-scroll-area-viewport":"",...i,ref:l,style:{overflowX:o.scrollbarXEnabled?"scroll":"hidden",overflowY:o.scrollbarYEnabled?"scroll":"hidden",...e.style},children:d.jsx("div",{ref:o.onContentChange,style:{minWidth:"100%",display:"table"},children:n})})]})});yk.displayName=vk;var an="ScrollAreaScrollbar",hv=m.forwardRef((e,t)=>{const{forceMount:r,...n}=e,s=xr(an,e.__scopeScrollArea),{onScrollbarXEnabledChange:i,onScrollbarYEnabledChange:o}=s,a=e.orientation==="horizontal";return m.useEffect(()=>(a?i(!0):o(!0),()=>{a?i(!1):o(!1)}),[a,i,o]),s.type==="hover"?d.jsx(F$,{...n,ref:t,forceMount:r}):s.type==="scroll"?d.jsx(U$,{...n,ref:t,forceMount:r}):s.type==="auto"?d.jsx(wk,{...n,ref:t,forceMount:r}):s.type==="always"?d.jsx(pv,{...n,ref:t}):null});hv.displayName=an;var F$=m.forwardRef((e,t)=>{const{forceMount:r,...n}=e,s=xr(an,e.__scopeScrollArea),[i,o]=m.useState(!1);return m.useEffect(()=>{const a=s.scrollArea;let l=0;if(a){const c=()=>{window.clearTimeout(l),o(!0)},u=()=>{l=window.setTimeout(()=>o(!1),s.scrollHideDelay)};return a.addEventListener("pointerenter",c),a.addEventListener("pointerleave",u),()=>{window.clearTimeout(l),a.removeEventListener("pointerenter",c),a.removeEventListener("pointerleave",u)}}},[s.scrollArea,s.scrollHideDelay]),d.jsx(It,{present:r||i,children:d.jsx(wk,{"data-state":i?"visible":"hidden",...n,ref:t})})}),U$=m.forwardRef((e,t)=>{const{forceMount:r,...n}=e,s=xr(an,e.__scopeScrollArea),i=e.orientation==="horizontal",o=Yd(()=>l("SCROLL_END"),100),[a,l]=$$("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return m.useEffect(()=>{if(a==="idle"){const c=window.setTimeout(()=>l("HIDE"),s.scrollHideDelay);return()=>window.clearTimeout(c)}},[a,s.scrollHideDelay,l]),m.useEffect(()=>{const c=s.viewport,u=i?"scrollLeft":"scrollTop";if(c){let f=c[u];const p=()=>{const h=c[u];f!==h&&(l("SCROLL"),o()),f=h};return c.addEventListener("scroll",p),()=>c.removeEventListener("scroll",p)}},[s.viewport,i,l,o]),d.jsx(It,{present:r||a!=="hidden",children:d.jsx(pv,{"data-state":a==="hidden"?"hidden":"visible",...n,ref:t,onPointerEnter:oe(e.onPointerEnter,()=>l("POINTER_ENTER")),onPointerLeave:oe(e.onPointerLeave,()=>l("POINTER_LEAVE"))})})}),wk=m.forwardRef((e,t)=>{const r=xr(an,e.__scopeScrollArea),{forceMount:n,...s}=e,[i,o]=m.useState(!1),a=e.orientation==="horizontal",l=Yd(()=>{if(r.viewport){const c=r.viewport.offsetWidth<r.viewport.scrollWidth,u=r.viewport.offsetHeight<r.viewport.scrollHeight;o(a?c:u)}},10);return qo(r.viewport,l),qo(r.content,l),d.jsx(It,{present:n||i,children:d.jsx(pv,{"data-state":i?"visible":"hidden",...s,ref:t})})}),pv=m.forwardRef((e,t)=>{const{orientation:r="vertical",...n}=e,s=xr(an,e.__scopeScrollArea),i=m.useRef(null),o=m.useRef(0),[a,l]=m.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),c=kk(a.viewport,a.content),u={...n,sizes:a,onSizesChange:l,hasThumb:c>0&&c<1,onThumbChange:p=>i.current=p,onThumbPointerUp:()=>o.current=0,onThumbPointerDown:p=>o.current=p};function f(p,h){return K$(p,o.current,a,h)}return r==="horizontal"?d.jsx(z$,{...u,ref:t,onThumbPositionChange:()=>{if(s.viewport&&i.current){const p=s.viewport.scrollLeft,h=_w(p,a,s.dir);i.current.style.transform=`translate3d(${h}px, 0, 0)`}},onWheelScroll:p=>{s.viewport&&(s.viewport.scrollLeft=p)},onDragScroll:p=>{s.viewport&&(s.viewport.scrollLeft=f(p,s.dir))}}):r==="vertical"?d.jsx(B$,{...u,ref:t,onThumbPositionChange:()=>{if(s.viewport&&i.current){const p=s.viewport.scrollTop,h=_w(p,a);i.current.style.transform=`translate3d(0, ${h}px, 0)`}},onWheelScroll:p=>{s.viewport&&(s.viewport.scrollTop=p)},onDragScroll:p=>{s.viewport&&(s.viewport.scrollTop=f(p))}}):null}),z$=m.forwardRef((e,t)=>{const{sizes:r,onSizesChange:n,...s}=e,i=xr(an,e.__scopeScrollArea),[o,a]=m.useState(),l=m.useRef(null),c=De(t,l,i.onScrollbarXChange);return m.useEffect(()=>{l.current&&a(getComputedStyle(l.current))},[l]),d.jsx(bk,{"data-orientation":"horizontal",...s,ref:c,sizes:r,style:{bottom:0,left:i.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:i.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":Qd(r)+"px",...e.style},onThumbPointerDown:u=>e.onThumbPointerDown(u.x),onDragScroll:u=>e.onDragScroll(u.x),onWheelScroll:(u,f)=>{if(i.viewport){const p=i.viewport.scrollLeft+u.deltaX;e.onWheelScroll(p),Ck(p,f)&&u.preventDefault()}},onResize:()=>{l.current&&i.viewport&&o&&n({content:i.viewport.scrollWidth,viewport:i.viewport.offsetWidth,scrollbar:{size:l.current.clientWidth,paddingStart:Zu(o.paddingLeft),paddingEnd:Zu(o.paddingRight)}})}})}),B$=m.forwardRef((e,t)=>{const{sizes:r,onSizesChange:n,...s}=e,i=xr(an,e.__scopeScrollArea),[o,a]=m.useState(),l=m.useRef(null),c=De(t,l,i.onScrollbarYChange);return m.useEffect(()=>{l.current&&a(getComputedStyle(l.current))},[l]),d.jsx(bk,{"data-orientation":"vertical",...s,ref:c,sizes:r,style:{top:0,right:i.dir==="ltr"?0:void 0,left:i.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":Qd(r)+"px",...e.style},onThumbPointerDown:u=>e.onThumbPointerDown(u.y),onDragScroll:u=>e.onDragScroll(u.y),onWheelScroll:(u,f)=>{if(i.viewport){const p=i.viewport.scrollTop+u.deltaY;e.onWheelScroll(p),Ck(p,f)&&u.preventDefault()}},onResize:()=>{l.current&&i.viewport&&o&&n({content:i.viewport.scrollHeight,viewport:i.viewport.offsetHeight,scrollbar:{size:l.current.clientHeight,paddingStart:Zu(o.paddingTop),paddingEnd:Zu(o.paddingBottom)}})}})}),[W$,xk]=mk(an),bk=m.forwardRef((e,t)=>{const{__scopeScrollArea:r,sizes:n,hasThumb:s,onThumbChange:i,onThumbPointerUp:o,onThumbPointerDown:a,onThumbPositionChange:l,onDragScroll:c,onWheelScroll:u,onResize:f,...p}=e,h=xr(an,r),[x,v]=m.useState(null),y=De(t,P=>v(P)),g=m.useRef(null),w=m.useRef(""),b=h.viewport,_=n.content-n.viewport,S=st(u),C=st(l),E=Yd(f,10);function R(P){if(g.current){const D=P.clientX-g.current.left,W=P.clientY-g.current.top;c({x:D,y:W})}}return m.useEffect(()=>{const P=D=>{const W=D.target;(x==null?void 0:x.contains(W))&&S(D,_)};return document.addEventListener("wheel",P,{passive:!1}),()=>document.removeEventListener("wheel",P,{passive:!1})},[b,x,_,S]),m.useEffect(C,[n,C]),qo(x,E),qo(h.content,E),d.jsx(W$,{scope:r,scrollbar:x,hasThumb:s,onThumbChange:st(i),onThumbPointerUp:st(o),onThumbPositionChange:C,onThumbPointerDown:st(a),children:d.jsx(be.div,{...p,ref:y,style:{position:"absolute",...p.style},onPointerDown:oe(e.onPointerDown,P=>{P.button===0&&(P.target.setPointerCapture(P.pointerId),g.current=x.getBoundingClientRect(),w.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",h.viewport&&(h.viewport.style.scrollBehavior="auto"),R(P))}),onPointerMove:oe(e.onPointerMove,R),onPointerUp:oe(e.onPointerUp,P=>{const D=P.target;D.hasPointerCapture(P.pointerId)&&D.releasePointerCapture(P.pointerId),document.body.style.webkitUserSelect=w.current,h.viewport&&(h.viewport.style.scrollBehavior=""),g.current=null})})})}),Yu="ScrollAreaThumb",_k=m.forwardRef((e,t)=>{const{forceMount:r,...n}=e,s=xk(Yu,e.__scopeScrollArea);return d.jsx(It,{present:r||s.hasThumb,children:d.jsx(V$,{ref:t,...n})})}),V$=m.forwardRef((e,t)=>{const{__scopeScrollArea:r,style:n,...s}=e,i=xr(Yu,r),o=xk(Yu,r),{onThumbPositionChange:a}=o,l=De(t,f=>o.onThumbChange(f)),c=m.useRef(void 0),u=Yd(()=>{c.current&&(c.current(),c.current=void 0)},100);return m.useEffect(()=>{const f=i.viewport;if(f){const p=()=>{if(u(),!c.current){const h=H$(f,a);c.current=h,a()}};return a(),f.addEventListener("scroll",p),()=>f.removeEventListener("scroll",p)}},[i.viewport,u,a]),d.jsx(be.div,{"data-state":o.hasThumb?"visible":"hidden",...s,ref:l,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...n},onPointerDownCapture:oe(e.onPointerDownCapture,f=>{const h=f.target.getBoundingClientRect(),x=f.clientX-h.left,v=f.clientY-h.top;o.onThumbPointerDown({x,y:v})}),onPointerUp:oe(e.onPointerUp,o.onThumbPointerUp)})});_k.displayName=Yu;var mv="ScrollAreaCorner",Sk=m.forwardRef((e,t)=>{const r=xr(mv,e.__scopeScrollArea),n=!!(r.scrollbarX&&r.scrollbarY);return r.type!=="scroll"&&n?d.jsx(q$,{...e,ref:t}):null});Sk.displayName=mv;var q$=m.forwardRef((e,t)=>{const{__scopeScrollArea:r,...n}=e,s=xr(mv,r),[i,o]=m.useState(0),[a,l]=m.useState(0),c=!!(i&&a);return qo(s.scrollbarX,()=>{var f;const u=((f=s.scrollbarX)==null?void 0:f.offsetHeight)||0;s.onCornerHeightChange(u),l(u)}),qo(s.scrollbarY,()=>{var f;const u=((f=s.scrollbarY)==null?void 0:f.offsetWidth)||0;s.onCornerWidthChange(u),o(u)}),c?d.jsx(be.div,{...n,ref:t,style:{width:i,height:a,position:"absolute",right:s.dir==="ltr"?0:void 0,left:s.dir==="rtl"?0:void 0,bottom:0,...e.style}}):null});function Zu(e){return e?parseInt(e,10):0}function kk(e,t){const r=e/t;return isNaN(r)?0:r}function Qd(e){const t=kk(e.viewport,e.content),r=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,n=(e.scrollbar.size-r)*t;return Math.max(n,18)}function K$(e,t,r,n="ltr"){const s=Qd(r),i=s/2,o=t||i,a=s-o,l=r.scrollbar.paddingStart+o,c=r.scrollbar.size-r.scrollbar.paddingEnd-a,u=r.content-r.viewport,f=n==="ltr"?[0,u]:[u*-1,0];return Ek([l,c],f)(e)}function _w(e,t,r="ltr"){const n=Qd(t),s=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,i=t.scrollbar.size-s,o=t.content-t.viewport,a=i-n,l=r==="ltr"?[0,o]:[o*-1,0],c=M$(e,l);return Ek([0,o],[0,a])(c)}function Ek(e,t){return r=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const n=(t[1]-t[0])/(e[1]-e[0]);return t[0]+n*(r-e[0])}}function Ck(e,t){return e>0&&e<t}var H$=(e,t=()=>{})=>{let r={left:e.scrollLeft,top:e.scrollTop},n=0;return function s(){const i={left:e.scrollLeft,top:e.scrollTop},o=r.left!==i.left,a=r.top!==i.top;(o||a)&&t(),r=i,n=window.requestAnimationFrame(s)}(),()=>window.cancelAnimationFrame(n)};function Yd(e,t){const r=st(e),n=m.useRef(0);return m.useEffect(()=>()=>window.clearTimeout(n.current),[]),m.useCallback(()=>{window.clearTimeout(n.current),n.current=window.setTimeout(r,t)},[r,t])}function qo(e,t){const r=st(t);rn(()=>{let n=0;if(e){const s=new ResizeObserver(()=>{cancelAnimationFrame(n),n=window.requestAnimationFrame(r)});return s.observe(e),()=>{window.cancelAnimationFrame(n),s.unobserve(e)}}},[e,r])}var Nk=gk,G$=yk,Q$=Sk;const Hl=m.forwardRef(({className:e,children:t,...r},n)=>d.jsxs(Nk,{ref:n,className:K("relative overflow-hidden",e),...r,children:[d.jsx(G$,{className:"h-full w-full rounded-[inherit]",children:t}),d.jsx(Tk,{}),d.jsx(Q$,{})]}));Hl.displayName=Nk.displayName;const Tk=m.forwardRef(({className:e,orientation:t="vertical",...r},n)=>d.jsx(hv,{ref:n,orientation:t,className:K("flex touch-none select-none transition-colors",t==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",t==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",e),...r,children:d.jsx(_k,{className:"relative flex-1 rounded-full bg-border"})}));Tk.displayName=hv.displayName;var ph=0;function Rk(){m.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??Sw()),document.body.insertAdjacentElement("beforeend",e[1]??Sw()),ph++,()=>{ph===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),ph--}},[])}function Sw(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var mh="focusScope.autoFocusOnMount",gh="focusScope.autoFocusOnUnmount",kw={bubbles:!1,cancelable:!0},Y$="FocusScope",gv=m.forwardRef((e,t)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:s,onUnmountAutoFocus:i,...o}=e,[a,l]=m.useState(null),c=st(s),u=st(i),f=m.useRef(null),p=De(t,v=>l(v)),h=m.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;m.useEffect(()=>{if(n){let v=function(b){if(h.paused||!a)return;const _=b.target;a.contains(_)?f.current=_:qn(f.current,{select:!0})},y=function(b){if(h.paused||!a)return;const _=b.relatedTarget;_!==null&&(a.contains(_)||qn(f.current,{select:!0}))},g=function(b){if(document.activeElement===document.body)for(const S of b)S.removedNodes.length>0&&qn(a)};document.addEventListener("focusin",v),document.addEventListener("focusout",y);const w=new MutationObserver(g);return a&&w.observe(a,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",v),document.removeEventListener("focusout",y),w.disconnect()}}},[n,a,h.paused]),m.useEffect(()=>{if(a){Cw.add(h);const v=document.activeElement;if(!a.contains(v)){const g=new CustomEvent(mh,kw);a.addEventListener(mh,c),a.dispatchEvent(g),g.defaultPrevented||(Z$(rL(jk(a)),{select:!0}),document.activeElement===v&&qn(a))}return()=>{a.removeEventListener(mh,c),setTimeout(()=>{const g=new CustomEvent(gh,kw);a.addEventListener(gh,u),a.dispatchEvent(g),g.defaultPrevented||qn(v??document.body,{select:!0}),a.removeEventListener(gh,u),Cw.remove(h)},0)}}},[a,c,u,h]);const x=m.useCallback(v=>{if(!r&&!n||h.paused)return;const y=v.key==="Tab"&&!v.altKey&&!v.ctrlKey&&!v.metaKey,g=document.activeElement;if(y&&g){const w=v.currentTarget,[b,_]=X$(w);b&&_?!v.shiftKey&&g===_?(v.preventDefault(),r&&qn(b,{select:!0})):v.shiftKey&&g===b&&(v.preventDefault(),r&&qn(_,{select:!0})):g===w&&v.preventDefault()}},[r,n,h.paused]);return d.jsx(be.div,{tabIndex:-1,...o,ref:p,onKeyDown:x})});gv.displayName=Y$;function Z$(e,{select:t=!1}={}){const r=document.activeElement;for(const n of e)if(qn(n,{select:t}),document.activeElement!==r)return}function X$(e){const t=jk(e),r=Ew(t,e),n=Ew(t.reverse(),e);return[r,n]}function jk(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const s=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||s?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function Ew(e,t){for(const r of e)if(!J$(r,{upTo:t}))return r}function J$(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function eL(e){return e instanceof HTMLInputElement&&"select"in e}function qn(e,{select:t=!1}={}){if(e&&e.focus){const r=document.activeElement;e.focus({preventScroll:!0}),e!==r&&eL(e)&&t&&e.select()}}var Cw=tL();function tL(){let e=[];return{add(t){const r=e[0];t!==r&&(r==null||r.pause()),e=Nw(e,t),e.unshift(t)},remove(t){var r;e=Nw(e,t),(r=e[0])==null||r.resume()}}}function Nw(e,t){const r=[...e],n=r.indexOf(t);return n!==-1&&r.splice(n,1),r}function rL(e){return e.filter(t=>t.tagName!=="A")}var vh="rovingFocusGroup.onEntryFocus",nL={bubbles:!1,cancelable:!0},Gl="RovingFocusGroup",[lm,Ak,sL]=Mg(Gl),[iL,Zd]=yr(Gl,[sL]),[oL,aL]=iL(Gl),Pk=m.forwardRef((e,t)=>d.jsx(lm.Provider,{scope:e.__scopeRovingFocusGroup,children:d.jsx(lm.Slot,{scope:e.__scopeRovingFocusGroup,children:d.jsx(lL,{...e,ref:t})})}));Pk.displayName=Gl;var lL=m.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,orientation:n,loop:s=!1,dir:i,currentTabStopId:o,defaultCurrentTabStopId:a,onCurrentTabStopIdChange:l,onEntryFocus:c,preventScrollOnEntryFocus:u=!1,...f}=e,p=m.useRef(null),h=De(t,p),x=Gd(i),[v,y]=Ti({prop:o,defaultProp:a??null,onChange:l,caller:Gl}),[g,w]=m.useState(!1),b=st(c),_=Ak(r),S=m.useRef(!1),[C,E]=m.useState(0);return m.useEffect(()=>{const R=p.current;if(R)return R.addEventListener(vh,b),()=>R.removeEventListener(vh,b)},[b]),d.jsx(oL,{scope:r,orientation:n,dir:x,loop:s,currentTabStopId:v,onItemFocus:m.useCallback(R=>y(R),[y]),onItemShiftTab:m.useCallback(()=>w(!0),[]),onFocusableItemAdd:m.useCallback(()=>E(R=>R+1),[]),onFocusableItemRemove:m.useCallback(()=>E(R=>R-1),[]),children:d.jsx(be.div,{tabIndex:g||C===0?-1:0,"data-orientation":n,...f,ref:h,style:{outline:"none",...e.style},onMouseDown:oe(e.onMouseDown,()=>{S.current=!0}),onFocus:oe(e.onFocus,R=>{const P=!S.current;if(R.target===R.currentTarget&&P&&!g){const D=new CustomEvent(vh,nL);if(R.currentTarget.dispatchEvent(D),!D.defaultPrevented){const W=_().filter(O=>O.focusable),B=W.find(O=>O.active),Z=W.find(O=>O.id===v),L=[B,Z,...W].filter(Boolean).map(O=>O.ref.current);Ik(L,u)}}S.current=!1}),onBlur:oe(e.onBlur,()=>w(!1))})})}),Ok="RovingFocusGroupItem",Dk=m.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,focusable:n=!0,active:s=!1,tabStopId:i,children:o,...a}=e,l=Es(),c=i||l,u=aL(Ok,r),f=u.currentTabStopId===c,p=Ak(r),{onFocusableItemAdd:h,onFocusableItemRemove:x,currentTabStopId:v}=u;return m.useEffect(()=>{if(n)return h(),()=>x()},[n,h,x]),d.jsx(lm.ItemSlot,{scope:r,id:c,focusable:n,active:s,children:d.jsx(be.span,{tabIndex:f?0:-1,"data-orientation":u.orientation,...a,ref:t,onMouseDown:oe(e.onMouseDown,y=>{n?u.onItemFocus(c):y.preventDefault()}),onFocus:oe(e.onFocus,()=>u.onItemFocus(c)),onKeyDown:oe(e.onKeyDown,y=>{if(y.key==="Tab"&&y.shiftKey){u.onItemShiftTab();return}if(y.target!==y.currentTarget)return;const g=dL(y,u.orientation,u.dir);if(g!==void 0){if(y.metaKey||y.ctrlKey||y.altKey||y.shiftKey)return;y.preventDefault();let b=p().filter(_=>_.focusable).map(_=>_.ref.current);if(g==="last")b.reverse();else if(g==="prev"||g==="next"){g==="prev"&&b.reverse();const _=b.indexOf(y.currentTarget);b=u.loop?fL(b,_+1):b.slice(_+1)}setTimeout(()=>Ik(b))}}),children:typeof o=="function"?o({isCurrentTabStop:f,hasTabStop:v!=null}):o})})});Dk.displayName=Ok;var cL={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function uL(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function dL(e,t,r){const n=uL(e.key,r);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(n))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(n)))return cL[n]}function Ik(e,t=!1){const r=document.activeElement;for(const n of e)if(n===r||(n.focus({preventScroll:t}),document.activeElement!==r))return}function fL(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var Mk=Pk,$k=Dk,hL=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},zi=new WeakMap,Dc=new WeakMap,Ic={},yh=0,Lk=function(e){return e&&(e.host||Lk(e.parentNode))},pL=function(e,t){return t.map(function(r){if(e.contains(r))return r;var n=Lk(r);return n&&e.contains(n)?n:(console.error("aria-hidden",r,"in not contained inside",e,". Doing nothing"),null)}).filter(function(r){return!!r})},mL=function(e,t,r,n){var s=pL(t,Array.isArray(e)?e:[e]);Ic[r]||(Ic[r]=new WeakMap);var i=Ic[r],o=[],a=new Set,l=new Set(s),c=function(f){!f||a.has(f)||(a.add(f),c(f.parentNode))};s.forEach(c);var u=function(f){!f||l.has(f)||Array.prototype.forEach.call(f.children,function(p){if(a.has(p))u(p);else try{var h=p.getAttribute(n),x=h!==null&&h!=="false",v=(zi.get(p)||0)+1,y=(i.get(p)||0)+1;zi.set(p,v),i.set(p,y),o.push(p),v===1&&x&&Dc.set(p,!0),y===1&&p.setAttribute(r,"true"),x||p.setAttribute(n,"true")}catch(g){console.error("aria-hidden: cannot operate on ",p,g)}})};return u(t),a.clear(),yh++,function(){o.forEach(function(f){var p=zi.get(f)-1,h=i.get(f)-1;zi.set(f,p),i.set(f,h),p||(Dc.has(f)||f.removeAttribute(n),Dc.delete(f)),h||f.removeAttribute(r)}),yh--,yh||(zi=new WeakMap,zi=new WeakMap,Dc=new WeakMap,Ic={})}},Fk=function(e,t,r){r===void 0&&(r="data-aria-hidden");var n=Array.from(Array.isArray(e)?e:[e]),s=hL(e);return s?(n.push.apply(n,Array.from(s.querySelectorAll("[aria-live]"))),mL(n,s,r,"aria-hidden")):function(){return null}},ou="right-scroll-bar-position",au="width-before-scroll-bar",gL="with-scroll-bars-hidden",vL="--removed-body-scroll-bar-size";function wh(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function yL(e,t){var r=m.useState(function(){return{value:e,callback:t,facade:{get current(){return r.value},set current(n){var s=r.value;s!==n&&(r.value=n,r.callback(n,s))}}}})[0];return r.callback=t,r.facade}var wL=typeof window<"u"?m.useLayoutEffect:m.useEffect,Tw=new WeakMap;function xL(e,t){var r=yL(null,function(n){return e.forEach(function(s){return wh(s,n)})});return wL(function(){var n=Tw.get(r);if(n){var s=new Set(n),i=new Set(e),o=r.current;s.forEach(function(a){i.has(a)||wh(a,null)}),i.forEach(function(a){s.has(a)||wh(a,o)})}Tw.set(r,e)},[e]),r}function bL(e){return e}function _L(e,t){t===void 0&&(t=bL);var r=[],n=!1,s={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:e},useMedium:function(i){var o=t(i,n);return r.push(o),function(){r=r.filter(function(a){return a!==o})}},assignSyncMedium:function(i){for(n=!0;r.length;){var o=r;r=[],o.forEach(i)}r={push:function(a){return i(a)},filter:function(){return r}}},assignMedium:function(i){n=!0;var o=[];if(r.length){var a=r;r=[],a.forEach(i),o=r}var l=function(){var u=o;o=[],u.forEach(i)},c=function(){return Promise.resolve().then(l)};c(),r={push:function(u){o.push(u),c()},filter:function(u){return o=o.filter(u),r}}}};return s}function SL(e){e===void 0&&(e={});var t=_L(null);return t.options=Qr({async:!0,ssr:!1},e),t}var Uk=function(e){var t=e.sideCar,r=oa(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=t.read();if(!n)throw new Error("Sidecar medium not found");return m.createElement(n,Qr({},r))};Uk.isSideCarExport=!0;function kL(e,t){return e.useMedium(t),Uk}var zk=SL(),xh=function(){},Xd=m.forwardRef(function(e,t){var r=m.useRef(null),n=m.useState({onScrollCapture:xh,onWheelCapture:xh,onTouchMoveCapture:xh}),s=n[0],i=n[1],o=e.forwardProps,a=e.children,l=e.className,c=e.removeScrollBar,u=e.enabled,f=e.shards,p=e.sideCar,h=e.noRelative,x=e.noIsolation,v=e.inert,y=e.allowPinchZoom,g=e.as,w=g===void 0?"div":g,b=e.gapMode,_=oa(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),S=p,C=xL([r,t]),E=Qr(Qr({},_),s);return m.createElement(m.Fragment,null,u&&m.createElement(S,{sideCar:zk,removeScrollBar:c,shards:f,noRelative:h,noIsolation:x,inert:v,setCallbacks:i,allowPinchZoom:!!y,lockRef:r,gapMode:b}),o?m.cloneElement(m.Children.only(a),Qr(Qr({},E),{ref:C})):m.createElement(w,Qr({},E,{className:l,ref:C}),a))});Xd.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Xd.classNames={fullWidth:au,zeroRight:ou};var EL=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function CL(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=EL();return t&&e.setAttribute("nonce",t),e}function NL(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function TL(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var RL=function(){var e=0,t=null;return{add:function(r){e==0&&(t=CL())&&(NL(t,r),TL(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},jL=function(){var e=RL();return function(t,r){m.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&r])}},Bk=function(){var e=jL(),t=function(r){var n=r.styles,s=r.dynamic;return e(n,s),null};return t},AL={left:0,top:0,right:0,gap:0},bh=function(e){return parseInt(e||"",10)||0},PL=function(e){var t=window.getComputedStyle(document.body),r=t[e==="padding"?"paddingLeft":"marginLeft"],n=t[e==="padding"?"paddingTop":"marginTop"],s=t[e==="padding"?"paddingRight":"marginRight"];return[bh(r),bh(n),bh(s)]},OL=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return AL;var t=PL(e),r=document.documentElement.clientWidth,n=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,n-r+t[2]-t[0])}},DL=Bk(),yo="data-scroll-locked",IL=function(e,t,r,n){var s=e.left,i=e.top,o=e.right,a=e.gap;return r===void 0&&(r="margin"),`
  .`.concat(gL,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(a,"px ").concat(n,`;
  }
  body[`).concat(yo,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(n,";"),r==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(a,"px ").concat(n,`;
    `),r==="padding"&&"padding-right: ".concat(a,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(ou,` {
    right: `).concat(a,"px ").concat(n,`;
  }
  
  .`).concat(au,` {
    margin-right: `).concat(a,"px ").concat(n,`;
  }
  
  .`).concat(ou," .").concat(ou,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(au," .").concat(au,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body[`).concat(yo,`] {
    `).concat(vL,": ").concat(a,`px;
  }
`)},Rw=function(){var e=parseInt(document.body.getAttribute(yo)||"0",10);return isFinite(e)?e:0},ML=function(){m.useEffect(function(){return document.body.setAttribute(yo,(Rw()+1).toString()),function(){var e=Rw()-1;e<=0?document.body.removeAttribute(yo):document.body.setAttribute(yo,e.toString())}},[])},$L=function(e){var t=e.noRelative,r=e.noImportant,n=e.gapMode,s=n===void 0?"margin":n;ML();var i=m.useMemo(function(){return OL(s)},[s]);return m.createElement(DL,{styles:IL(i,!t,s,r?"":"!important")})},cm=!1;if(typeof window<"u")try{var Mc=Object.defineProperty({},"passive",{get:function(){return cm=!0,!0}});window.addEventListener("test",Mc,Mc),window.removeEventListener("test",Mc,Mc)}catch{cm=!1}var Bi=cm?{passive:!1}:!1,LL=function(e){return e.tagName==="TEXTAREA"},Wk=function(e,t){if(!(e instanceof Element))return!1;var r=window.getComputedStyle(e);return r[t]!=="hidden"&&!(r.overflowY===r.overflowX&&!LL(e)&&r[t]==="visible")},FL=function(e){return Wk(e,"overflowY")},UL=function(e){return Wk(e,"overflowX")},jw=function(e,t){var r=t.ownerDocument,n=t;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var s=Vk(e,n);if(s){var i=qk(e,n),o=i[1],a=i[2];if(o>a)return!0}n=n.parentNode}while(n&&n!==r.body);return!1},zL=function(e){var t=e.scrollTop,r=e.scrollHeight,n=e.clientHeight;return[t,r,n]},BL=function(e){var t=e.scrollLeft,r=e.scrollWidth,n=e.clientWidth;return[t,r,n]},Vk=function(e,t){return e==="v"?FL(t):UL(t)},qk=function(e,t){return e==="v"?zL(t):BL(t)},WL=function(e,t){return e==="h"&&t==="rtl"?-1:1},VL=function(e,t,r,n,s){var i=WL(e,window.getComputedStyle(t).direction),o=i*n,a=r.target,l=t.contains(a),c=!1,u=o>0,f=0,p=0;do{if(!a)break;var h=qk(e,a),x=h[0],v=h[1],y=h[2],g=v-y-i*x;(x||g)&&Vk(e,a)&&(f+=g,p+=x);var w=a.parentNode;a=w&&w.nodeType===Node.DOCUMENT_FRAGMENT_NODE?w.host:w}while(!l&&a!==document.body||l&&(t.contains(a)||t===a));return(u&&(Math.abs(f)<1||!s)||!u&&(Math.abs(p)<1||!s))&&(c=!0),c},$c=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},Aw=function(e){return[e.deltaX,e.deltaY]},Pw=function(e){return e&&"current"in e?e.current:e},qL=function(e,t){return e[0]===t[0]&&e[1]===t[1]},KL=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},HL=0,Wi=[];function GL(e){var t=m.useRef([]),r=m.useRef([0,0]),n=m.useRef(),s=m.useState(HL++)[0],i=m.useState(Bk)[0],o=m.useRef(e);m.useEffect(function(){o.current=e},[e]),m.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(s));var v=XD([e.lockRef.current],(e.shards||[]).map(Pw),!0).filter(Boolean);return v.forEach(function(y){return y.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),v.forEach(function(y){return y.classList.remove("allow-interactivity-".concat(s))})}}},[e.inert,e.lockRef.current,e.shards]);var a=m.useCallback(function(v,y){if("touches"in v&&v.touches.length===2||v.type==="wheel"&&v.ctrlKey)return!o.current.allowPinchZoom;var g=$c(v),w=r.current,b="deltaX"in v?v.deltaX:w[0]-g[0],_="deltaY"in v?v.deltaY:w[1]-g[1],S,C=v.target,E=Math.abs(b)>Math.abs(_)?"h":"v";if("touches"in v&&E==="h"&&C.type==="range")return!1;var R=jw(E,C);if(!R)return!0;if(R?S=E:(S=E==="v"?"h":"v",R=jw(E,C)),!R)return!1;if(!n.current&&"changedTouches"in v&&(b||_)&&(n.current=S),!S)return!0;var P=n.current||S;return VL(P,y,v,P==="h"?b:_,!0)},[]),l=m.useCallback(function(v){var y=v;if(!(!Wi.length||Wi[Wi.length-1]!==i)){var g="deltaY"in y?Aw(y):$c(y),w=t.current.filter(function(S){return S.name===y.type&&(S.target===y.target||y.target===S.shadowParent)&&qL(S.delta,g)})[0];if(w&&w.should){y.cancelable&&y.preventDefault();return}if(!w){var b=(o.current.shards||[]).map(Pw).filter(Boolean).filter(function(S){return S.contains(y.target)}),_=b.length>0?a(y,b[0]):!o.current.noIsolation;_&&y.cancelable&&y.preventDefault()}}},[]),c=m.useCallback(function(v,y,g,w){var b={name:v,delta:y,target:g,should:w,shadowParent:QL(g)};t.current.push(b),setTimeout(function(){t.current=t.current.filter(function(_){return _!==b})},1)},[]),u=m.useCallback(function(v){r.current=$c(v),n.current=void 0},[]),f=m.useCallback(function(v){c(v.type,Aw(v),v.target,a(v,e.lockRef.current))},[]),p=m.useCallback(function(v){c(v.type,$c(v),v.target,a(v,e.lockRef.current))},[]);m.useEffect(function(){return Wi.push(i),e.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:p}),document.addEventListener("wheel",l,Bi),document.addEventListener("touchmove",l,Bi),document.addEventListener("touchstart",u,Bi),function(){Wi=Wi.filter(function(v){return v!==i}),document.removeEventListener("wheel",l,Bi),document.removeEventListener("touchmove",l,Bi),document.removeEventListener("touchstart",u,Bi)}},[]);var h=e.removeScrollBar,x=e.inert;return m.createElement(m.Fragment,null,x?m.createElement(i,{styles:KL(s)}):null,h?m.createElement($L,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function QL(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const YL=kL(zk,GL);var vv=m.forwardRef(function(e,t){return m.createElement(Xd,Qr({},e,{ref:t,sideCar:YL}))});vv.classNames=Xd.classNames;var um=["Enter"," "],ZL=["ArrowDown","PageUp","Home"],Kk=["ArrowUp","PageDown","End"],XL=[...ZL,...Kk],JL={ltr:[...um,"ArrowRight"],rtl:[...um,"ArrowLeft"]},e4={ltr:["ArrowLeft"],rtl:["ArrowRight"]},Ql="Menu",[wl,t4,r4]=Mg(Ql),[ji,Hk]=yr(Ql,[r4,Fd,Zd]),Jd=Fd(),Gk=Zd(),[n4,Ai]=ji(Ql),[s4,Yl]=ji(Ql),Qk=e=>{const{__scopeMenu:t,open:r=!1,children:n,dir:s,onOpenChange:i,modal:o=!0}=e,a=Jd(t),[l,c]=m.useState(null),u=m.useRef(!1),f=st(i),p=Gd(s);return m.useEffect(()=>{const h=()=>{u.current=!0,document.addEventListener("pointerdown",x,{capture:!0,once:!0}),document.addEventListener("pointermove",x,{capture:!0,once:!0})},x=()=>u.current=!1;return document.addEventListener("keydown",h,{capture:!0}),()=>{document.removeEventListener("keydown",h,{capture:!0}),document.removeEventListener("pointerdown",x,{capture:!0}),document.removeEventListener("pointermove",x,{capture:!0})}},[]),d.jsx(pS,{...a,children:d.jsx(n4,{scope:t,open:r,onOpenChange:f,content:l,onContentChange:c,children:d.jsx(s4,{scope:t,onClose:m.useCallback(()=>f(!1),[f]),isUsingKeyboardRef:u,dir:p,modal:o,children:n})})})};Qk.displayName=Ql;var i4="MenuAnchor",yv=m.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e,s=Jd(r);return d.jsx(mS,{...s,...n,ref:t})});yv.displayName=i4;var wv="MenuPortal",[o4,Yk]=ji(wv,{forceMount:void 0}),Zk=e=>{const{__scopeMenu:t,forceMount:r,children:n,container:s}=e,i=Ai(wv,t);return d.jsx(o4,{scope:t,forceMount:r,children:d.jsx(It,{present:r||i.open,children:d.jsx(Od,{asChild:!0,container:s,children:n})})})};Zk.displayName=wv;var mr="MenuContent",[a4,xv]=ji(mr),Xk=m.forwardRef((e,t)=>{const r=Yk(mr,e.__scopeMenu),{forceMount:n=r.forceMount,...s}=e,i=Ai(mr,e.__scopeMenu),o=Yl(mr,e.__scopeMenu);return d.jsx(wl.Provider,{scope:e.__scopeMenu,children:d.jsx(It,{present:n||i.open,children:d.jsx(wl.Slot,{scope:e.__scopeMenu,children:o.modal?d.jsx(l4,{...s,ref:t}):d.jsx(c4,{...s,ref:t})})})})}),l4=m.forwardRef((e,t)=>{const r=Ai(mr,e.__scopeMenu),n=m.useRef(null),s=De(t,n);return m.useEffect(()=>{const i=n.current;if(i)return Fk(i)},[]),d.jsx(bv,{...e,ref:s,trapFocus:r.open,disableOutsidePointerEvents:r.open,disableOutsideScroll:!0,onFocusOutside:oe(e.onFocusOutside,i=>i.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>r.onOpenChange(!1)})}),c4=m.forwardRef((e,t)=>{const r=Ai(mr,e.__scopeMenu);return d.jsx(bv,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>r.onOpenChange(!1)})}),u4=Uo("MenuContent.ScrollLock"),bv=m.forwardRef((e,t)=>{const{__scopeMenu:r,loop:n=!1,trapFocus:s,onOpenAutoFocus:i,onCloseAutoFocus:o,disableOutsidePointerEvents:a,onEntryFocus:l,onEscapeKeyDown:c,onPointerDownOutside:u,onFocusOutside:f,onInteractOutside:p,onDismiss:h,disableOutsideScroll:x,...v}=e,y=Ai(mr,r),g=Yl(mr,r),w=Jd(r),b=Gk(r),_=t4(r),[S,C]=m.useState(null),E=m.useRef(null),R=De(t,E,y.onContentChange),P=m.useRef(0),D=m.useRef(""),W=m.useRef(0),B=m.useRef(null),Z=m.useRef("right"),N=m.useRef(0),L=x?vv:m.Fragment,O=x?{as:u4,allowPinchZoom:!0}:void 0,$=k=>{var F,te;const A=D.current+k,U=_().filter(re=>!re.disabled),M=document.activeElement,Q=(F=U.find(re=>re.ref.current===M))==null?void 0:F.textValue,q=U.map(re=>re.textValue),X=_4(q,A,Q),z=(te=U.find(re=>re.textValue===X))==null?void 0:te.ref.current;(function re(J){D.current=J,window.clearTimeout(P.current),J!==""&&(P.current=window.setTimeout(()=>re(""),1e3))})(A),z&&setTimeout(()=>z.focus())};m.useEffect(()=>()=>window.clearTimeout(P.current),[]),Rk();const j=m.useCallback(k=>{var U,M;return Z.current===((U=B.current)==null?void 0:U.side)&&k4(k,(M=B.current)==null?void 0:M.area)},[]);return d.jsx(a4,{scope:r,searchRef:D,onItemEnter:m.useCallback(k=>{j(k)&&k.preventDefault()},[j]),onItemLeave:m.useCallback(k=>{var A;j(k)||((A=E.current)==null||A.focus(),C(null))},[j]),onTriggerLeave:m.useCallback(k=>{j(k)&&k.preventDefault()},[j]),pointerGraceTimerRef:W,onPointerGraceIntentChange:m.useCallback(k=>{B.current=k},[]),children:d.jsx(L,{...O,children:d.jsx(gv,{asChild:!0,trapped:s,onMountAutoFocus:oe(i,k=>{var A;k.preventDefault(),(A=E.current)==null||A.focus({preventScroll:!0})}),onUnmountAutoFocus:o,children:d.jsx(Ll,{asChild:!0,disableOutsidePointerEvents:a,onEscapeKeyDown:c,onPointerDownOutside:u,onFocusOutside:f,onInteractOutside:p,onDismiss:h,children:d.jsx(Mk,{asChild:!0,...b,dir:g.dir,orientation:"vertical",loop:n,currentTabStopId:S,onCurrentTabStopIdChange:C,onEntryFocus:oe(l,k=>{g.isUsingKeyboardRef.current||k.preventDefault()}),preventScrollOnEntryFocus:!0,children:d.jsx(gS,{role:"menu","aria-orientation":"vertical","data-state":pE(y.open),"data-radix-menu-content":"",dir:g.dir,...w,...v,ref:R,style:{outline:"none",...v.style},onKeyDown:oe(v.onKeyDown,k=>{const U=k.target.closest("[data-radix-menu-content]")===k.currentTarget,M=k.ctrlKey||k.altKey||k.metaKey,Q=k.key.length===1;U&&(k.key==="Tab"&&k.preventDefault(),!M&&Q&&$(k.key));const q=E.current;if(k.target!==q||!XL.includes(k.key))return;k.preventDefault();const z=_().filter(F=>!F.disabled).map(F=>F.ref.current);Kk.includes(k.key)&&z.reverse(),x4(z)}),onBlur:oe(e.onBlur,k=>{k.currentTarget.contains(k.target)||(window.clearTimeout(P.current),D.current="")}),onPointerMove:oe(e.onPointerMove,xl(k=>{const A=k.target,U=N.current!==k.clientX;if(k.currentTarget.contains(A)&&U){const M=k.clientX>N.current?"right":"left";Z.current=M,N.current=k.clientX}}))})})})})})})});Xk.displayName=mr;var d4="MenuGroup",_v=m.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return d.jsx(be.div,{role:"group",...n,ref:t})});_v.displayName=d4;var f4="MenuLabel",Jk=m.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return d.jsx(be.div,{...n,ref:t})});Jk.displayName=f4;var Xu="MenuItem",Ow="menu.itemSelect",ef=m.forwardRef((e,t)=>{const{disabled:r=!1,onSelect:n,...s}=e,i=m.useRef(null),o=Yl(Xu,e.__scopeMenu),a=xv(Xu,e.__scopeMenu),l=De(t,i),c=m.useRef(!1),u=()=>{const f=i.current;if(!r&&f){const p=new CustomEvent(Ow,{bubbles:!0,cancelable:!0});f.addEventListener(Ow,h=>n==null?void 0:n(h),{once:!0}),$g(f,p),p.defaultPrevented?c.current=!1:o.onClose()}};return d.jsx(eE,{...s,ref:l,disabled:r,onClick:oe(e.onClick,u),onPointerDown:f=>{var p;(p=e.onPointerDown)==null||p.call(e,f),c.current=!0},onPointerUp:oe(e.onPointerUp,f=>{var p;c.current||(p=f.currentTarget)==null||p.click()}),onKeyDown:oe(e.onKeyDown,f=>{const p=a.searchRef.current!=="";r||p&&f.key===" "||um.includes(f.key)&&(f.currentTarget.click(),f.preventDefault())})})});ef.displayName=Xu;var eE=m.forwardRef((e,t)=>{const{__scopeMenu:r,disabled:n=!1,textValue:s,...i}=e,o=xv(Xu,r),a=Gk(r),l=m.useRef(null),c=De(t,l),[u,f]=m.useState(!1),[p,h]=m.useState("");return m.useEffect(()=>{const x=l.current;x&&h((x.textContent??"").trim())},[i.children]),d.jsx(wl.ItemSlot,{scope:r,disabled:n,textValue:s??p,children:d.jsx($k,{asChild:!0,...a,focusable:!n,children:d.jsx(be.div,{role:"menuitem","data-highlighted":u?"":void 0,"aria-disabled":n||void 0,"data-disabled":n?"":void 0,...i,ref:c,onPointerMove:oe(e.onPointerMove,xl(x=>{n?o.onItemLeave(x):(o.onItemEnter(x),x.defaultPrevented||x.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:oe(e.onPointerLeave,xl(x=>o.onItemLeave(x))),onFocus:oe(e.onFocus,()=>f(!0)),onBlur:oe(e.onBlur,()=>f(!1))})})})}),h4="MenuCheckboxItem",tE=m.forwardRef((e,t)=>{const{checked:r=!1,onCheckedChange:n,...s}=e;return d.jsx(oE,{scope:e.__scopeMenu,checked:r,children:d.jsx(ef,{role:"menuitemcheckbox","aria-checked":Ju(r)?"mixed":r,...s,ref:t,"data-state":kv(r),onSelect:oe(s.onSelect,()=>n==null?void 0:n(Ju(r)?!0:!r),{checkForDefaultPrevented:!1})})})});tE.displayName=h4;var rE="MenuRadioGroup",[p4,m4]=ji(rE,{value:void 0,onValueChange:()=>{}}),nE=m.forwardRef((e,t)=>{const{value:r,onValueChange:n,...s}=e,i=st(n);return d.jsx(p4,{scope:e.__scopeMenu,value:r,onValueChange:i,children:d.jsx(_v,{...s,ref:t})})});nE.displayName=rE;var sE="MenuRadioItem",iE=m.forwardRef((e,t)=>{const{value:r,...n}=e,s=m4(sE,e.__scopeMenu),i=r===s.value;return d.jsx(oE,{scope:e.__scopeMenu,checked:i,children:d.jsx(ef,{role:"menuitemradio","aria-checked":i,...n,ref:t,"data-state":kv(i),onSelect:oe(n.onSelect,()=>{var o;return(o=s.onValueChange)==null?void 0:o.call(s,r)},{checkForDefaultPrevented:!1})})})});iE.displayName=sE;var Sv="MenuItemIndicator",[oE,g4]=ji(Sv,{checked:!1}),aE=m.forwardRef((e,t)=>{const{__scopeMenu:r,forceMount:n,...s}=e,i=g4(Sv,r);return d.jsx(It,{present:n||Ju(i.checked)||i.checked===!0,children:d.jsx(be.span,{...s,ref:t,"data-state":kv(i.checked)})})});aE.displayName=Sv;var v4="MenuSeparator",lE=m.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return d.jsx(be.div,{role:"separator","aria-orientation":"horizontal",...n,ref:t})});lE.displayName=v4;var y4="MenuArrow",cE=m.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e,s=Jd(r);return d.jsx(vS,{...s,...n,ref:t})});cE.displayName=y4;var w4="MenuSub",[HB,uE]=ji(w4),Ea="MenuSubTrigger",dE=m.forwardRef((e,t)=>{const r=Ai(Ea,e.__scopeMenu),n=Yl(Ea,e.__scopeMenu),s=uE(Ea,e.__scopeMenu),i=xv(Ea,e.__scopeMenu),o=m.useRef(null),{pointerGraceTimerRef:a,onPointerGraceIntentChange:l}=i,c={__scopeMenu:e.__scopeMenu},u=m.useCallback(()=>{o.current&&window.clearTimeout(o.current),o.current=null},[]);return m.useEffect(()=>u,[u]),m.useEffect(()=>{const f=a.current;return()=>{window.clearTimeout(f),l(null)}},[a,l]),d.jsx(yv,{asChild:!0,...c,children:d.jsx(eE,{id:s.triggerId,"aria-haspopup":"menu","aria-expanded":r.open,"aria-controls":s.contentId,"data-state":pE(r.open),...e,ref:Pd(t,s.onTriggerChange),onClick:f=>{var p;(p=e.onClick)==null||p.call(e,f),!(e.disabled||f.defaultPrevented)&&(f.currentTarget.focus(),r.open||r.onOpenChange(!0))},onPointerMove:oe(e.onPointerMove,xl(f=>{i.onItemEnter(f),!f.defaultPrevented&&!e.disabled&&!r.open&&!o.current&&(i.onPointerGraceIntentChange(null),o.current=window.setTimeout(()=>{r.onOpenChange(!0),u()},100))})),onPointerLeave:oe(e.onPointerLeave,xl(f=>{var h,x;u();const p=(h=r.content)==null?void 0:h.getBoundingClientRect();if(p){const v=(x=r.content)==null?void 0:x.dataset.side,y=v==="right",g=y?-5:5,w=p[y?"left":"right"],b=p[y?"right":"left"];i.onPointerGraceIntentChange({area:[{x:f.clientX+g,y:f.clientY},{x:w,y:p.top},{x:b,y:p.top},{x:b,y:p.bottom},{x:w,y:p.bottom}],side:v}),window.clearTimeout(a.current),a.current=window.setTimeout(()=>i.onPointerGraceIntentChange(null),300)}else{if(i.onTriggerLeave(f),f.defaultPrevented)return;i.onPointerGraceIntentChange(null)}})),onKeyDown:oe(e.onKeyDown,f=>{var h;const p=i.searchRef.current!=="";e.disabled||p&&f.key===" "||JL[n.dir].includes(f.key)&&(r.onOpenChange(!0),(h=r.content)==null||h.focus(),f.preventDefault())})})})});dE.displayName=Ea;var fE="MenuSubContent",hE=m.forwardRef((e,t)=>{const r=Yk(mr,e.__scopeMenu),{forceMount:n=r.forceMount,...s}=e,i=Ai(mr,e.__scopeMenu),o=Yl(mr,e.__scopeMenu),a=uE(fE,e.__scopeMenu),l=m.useRef(null),c=De(t,l);return d.jsx(wl.Provider,{scope:e.__scopeMenu,children:d.jsx(It,{present:n||i.open,children:d.jsx(wl.Slot,{scope:e.__scopeMenu,children:d.jsx(bv,{id:a.contentId,"aria-labelledby":a.triggerId,...s,ref:c,align:"start",side:o.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:u=>{var f;o.isUsingKeyboardRef.current&&((f=l.current)==null||f.focus()),u.preventDefault()},onCloseAutoFocus:u=>u.preventDefault(),onFocusOutside:oe(e.onFocusOutside,u=>{u.target!==a.trigger&&i.onOpenChange(!1)}),onEscapeKeyDown:oe(e.onEscapeKeyDown,u=>{o.onClose(),u.preventDefault()}),onKeyDown:oe(e.onKeyDown,u=>{var h;const f=u.currentTarget.contains(u.target),p=e4[o.dir].includes(u.key);f&&p&&(i.onOpenChange(!1),(h=a.trigger)==null||h.focus(),u.preventDefault())})})})})})});hE.displayName=fE;function pE(e){return e?"open":"closed"}function Ju(e){return e==="indeterminate"}function kv(e){return Ju(e)?"indeterminate":e?"checked":"unchecked"}function x4(e){const t=document.activeElement;for(const r of e)if(r===t||(r.focus(),document.activeElement!==t))return}function b4(e,t){return e.map((r,n)=>e[(t+n)%e.length])}function _4(e,t,r){const s=t.length>1&&Array.from(t).every(c=>c===t[0])?t[0]:t,i=r?e.indexOf(r):-1;let o=b4(e,Math.max(i,0));s.length===1&&(o=o.filter(c=>c!==r));const l=o.find(c=>c.toLowerCase().startsWith(s.toLowerCase()));return l!==r?l:void 0}function S4(e,t){const{x:r,y:n}=e;let s=!1;for(let i=0,o=t.length-1;i<t.length;o=i++){const a=t[i],l=t[o],c=a.x,u=a.y,f=l.x,p=l.y;u>n!=p>n&&r<(f-c)*(n-u)/(p-u)+c&&(s=!s)}return s}function k4(e,t){if(!t)return!1;const r={x:e.clientX,y:e.clientY};return S4(r,t)}function xl(e){return t=>t.pointerType==="mouse"?e(t):void 0}var E4=Qk,C4=yv,N4=Zk,T4=Xk,R4=_v,j4=Jk,A4=ef,P4=tE,O4=nE,D4=iE,I4=aE,M4=lE,$4=cE,L4=dE,F4=hE,tf="DropdownMenu",[U4,GB]=yr(tf,[Hk]),Mt=Hk(),[z4,mE]=U4(tf),gE=e=>{const{__scopeDropdownMenu:t,children:r,dir:n,open:s,defaultOpen:i,onOpenChange:o,modal:a=!0}=e,l=Mt(t),c=m.useRef(null),[u,f]=Ti({prop:s,defaultProp:i??!1,onChange:o,caller:tf});return d.jsx(z4,{scope:t,triggerId:Es(),triggerRef:c,contentId:Es(),open:u,onOpenChange:f,onOpenToggle:m.useCallback(()=>f(p=>!p),[f]),modal:a,children:d.jsx(E4,{...l,open:u,onOpenChange:f,dir:n,modal:a,children:r})})};gE.displayName=tf;var vE="DropdownMenuTrigger",yE=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,disabled:n=!1,...s}=e,i=mE(vE,r),o=Mt(r);return d.jsx(C4,{asChild:!0,...o,children:d.jsx(be.button,{type:"button",id:i.triggerId,"aria-haspopup":"menu","aria-expanded":i.open,"aria-controls":i.open?i.contentId:void 0,"data-state":i.open?"open":"closed","data-disabled":n?"":void 0,disabled:n,...s,ref:Pd(t,i.triggerRef),onPointerDown:oe(e.onPointerDown,a=>{!n&&a.button===0&&a.ctrlKey===!1&&(i.onOpenToggle(),i.open||a.preventDefault())}),onKeyDown:oe(e.onKeyDown,a=>{n||(["Enter"," "].includes(a.key)&&i.onOpenToggle(),a.key==="ArrowDown"&&i.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(a.key)&&a.preventDefault())})})})});yE.displayName=vE;var B4="DropdownMenuPortal",wE=e=>{const{__scopeDropdownMenu:t,...r}=e,n=Mt(t);return d.jsx(N4,{...n,...r})};wE.displayName=B4;var xE="DropdownMenuContent",bE=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=mE(xE,r),i=Mt(r),o=m.useRef(!1);return d.jsx(T4,{id:s.contentId,"aria-labelledby":s.triggerId,...i,...n,ref:t,onCloseAutoFocus:oe(e.onCloseAutoFocus,a=>{var l;o.current||(l=s.triggerRef.current)==null||l.focus(),o.current=!1,a.preventDefault()}),onInteractOutside:oe(e.onInteractOutside,a=>{const l=a.detail.originalEvent,c=l.button===0&&l.ctrlKey===!0,u=l.button===2||c;(!s.modal||u)&&(o.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});bE.displayName=xE;var W4="DropdownMenuGroup",V4=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=Mt(r);return d.jsx(R4,{...s,...n,ref:t})});V4.displayName=W4;var q4="DropdownMenuLabel",_E=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=Mt(r);return d.jsx(j4,{...s,...n,ref:t})});_E.displayName=q4;var K4="DropdownMenuItem",SE=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=Mt(r);return d.jsx(A4,{...s,...n,ref:t})});SE.displayName=K4;var H4="DropdownMenuCheckboxItem",kE=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=Mt(r);return d.jsx(P4,{...s,...n,ref:t})});kE.displayName=H4;var G4="DropdownMenuRadioGroup",Q4=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=Mt(r);return d.jsx(O4,{...s,...n,ref:t})});Q4.displayName=G4;var Y4="DropdownMenuRadioItem",EE=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=Mt(r);return d.jsx(D4,{...s,...n,ref:t})});EE.displayName=Y4;var Z4="DropdownMenuItemIndicator",CE=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=Mt(r);return d.jsx(I4,{...s,...n,ref:t})});CE.displayName=Z4;var X4="DropdownMenuSeparator",NE=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=Mt(r);return d.jsx(M4,{...s,...n,ref:t})});NE.displayName=X4;var J4="DropdownMenuArrow",e5=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=Mt(r);return d.jsx($4,{...s,...n,ref:t})});e5.displayName=J4;var t5="DropdownMenuSubTrigger",TE=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=Mt(r);return d.jsx(L4,{...s,...n,ref:t})});TE.displayName=t5;var r5="DropdownMenuSubContent",RE=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=Mt(r);return d.jsx(F4,{...s,...n,ref:t,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});RE.displayName=r5;var n5=gE,s5=yE,i5=wE,jE=bE,AE=_E,PE=SE,OE=kE,DE=EE,IE=CE,ME=NE,$E=TE,LE=RE;const dm=n5,fm=s5,o5=m.forwardRef(({className:e,inset:t,children:r,...n},s)=>d.jsxs($E,{ref:s,className:K("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none data-[state=open]:bg-accent focus:bg-accent",t&&"pl-8",e),...n,children:[r,d.jsx(R1,{className:"ml-auto h-4 w-4"})]}));o5.displayName=$E.displayName;const a5=m.forwardRef(({className:e,...t},r)=>d.jsx(LE,{ref:r,className:K("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...t}));a5.displayName=LE.displayName;const ed=m.forwardRef(({className:e,sideOffset:t=4,...r},n)=>d.jsx(i5,{children:d.jsx(jE,{ref:n,sideOffset:t,className:K("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...r})}));ed.displayName=jE.displayName;const es=m.forwardRef(({className:e,inset:t,...r},n)=>d.jsx(PE,{ref:n,className:K("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",t&&"pl-8",e),...r}));es.displayName=PE.displayName;const l5=m.forwardRef(({className:e,children:t,checked:r,...n},s)=>d.jsxs(OE,{ref:s,className:K("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",e),checked:r,...n,children:[d.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:d.jsx(IE,{children:d.jsx(zo,{className:"h-4 w-4"})})}),t]}));l5.displayName=OE.displayName;const c5=m.forwardRef(({className:e,children:t,...r},n)=>d.jsxs(DE,{ref:n,className:K("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",e),...r,children:[d.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:d.jsx(IE,{children:d.jsx(pA,{className:"h-2 w-2 fill-current"})})}),t]}));c5.displayName=DE.displayName;const hm=m.forwardRef(({className:e,inset:t,...r},n)=>d.jsx(AE,{ref:n,className:K("px-2 py-1.5 text-sm font-semibold",t&&"pl-8",e),...r}));hm.displayName=AE.displayName;const pm=m.forwardRef(({className:e,...t},r)=>d.jsx(ME,{ref:r,className:K("-mx-1 my-1 h-px bg-muted",e),...t}));pm.displayName=ME.displayName;var rf="Dialog",[FE,UE]=yr(rf),[u5,zr]=FE(rf),zE=e=>{const{__scopeDialog:t,children:r,open:n,defaultOpen:s,onOpenChange:i,modal:o=!0}=e,a=m.useRef(null),l=m.useRef(null),[c,u]=Ti({prop:n,defaultProp:s??!1,onChange:i,caller:rf});return d.jsx(u5,{scope:t,triggerRef:a,contentRef:l,contentId:Es(),titleId:Es(),descriptionId:Es(),open:c,onOpenChange:u,onOpenToggle:m.useCallback(()=>u(f=>!f),[u]),modal:o,children:r})};zE.displayName=rf;var BE="DialogTrigger",WE=m.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=zr(BE,r),i=De(t,s.triggerRef);return d.jsx(be.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":Nv(s.open),...n,ref:i,onClick:oe(e.onClick,s.onOpenToggle)})});WE.displayName=BE;var Ev="DialogPortal",[d5,VE]=FE(Ev,{forceMount:void 0}),qE=e=>{const{__scopeDialog:t,forceMount:r,children:n,container:s}=e,i=zr(Ev,t);return d.jsx(d5,{scope:t,forceMount:r,children:m.Children.map(n,o=>d.jsx(It,{present:r||i.open,children:d.jsx(Od,{asChild:!0,container:s,children:o})}))})};qE.displayName=Ev;var td="DialogOverlay",KE=m.forwardRef((e,t)=>{const r=VE(td,e.__scopeDialog),{forceMount:n=r.forceMount,...s}=e,i=zr(td,e.__scopeDialog);return i.modal?d.jsx(It,{present:n||i.open,children:d.jsx(h5,{...s,ref:t})}):null});KE.displayName=td;var f5=Uo("DialogOverlay.RemoveScroll"),h5=m.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=zr(td,r);return d.jsx(vv,{as:f5,allowPinchZoom:!0,shards:[s.contentRef],children:d.jsx(be.div,{"data-state":Nv(s.open),...n,ref:t,style:{pointerEvents:"auto",...n.style}})})}),Si="DialogContent",HE=m.forwardRef((e,t)=>{const r=VE(Si,e.__scopeDialog),{forceMount:n=r.forceMount,...s}=e,i=zr(Si,e.__scopeDialog);return d.jsx(It,{present:n||i.open,children:i.modal?d.jsx(p5,{...s,ref:t}):d.jsx(m5,{...s,ref:t})})});HE.displayName=Si;var p5=m.forwardRef((e,t)=>{const r=zr(Si,e.__scopeDialog),n=m.useRef(null),s=De(t,r.contentRef,n);return m.useEffect(()=>{const i=n.current;if(i)return Fk(i)},[]),d.jsx(GE,{...e,ref:s,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:oe(e.onCloseAutoFocus,i=>{var o;i.preventDefault(),(o=r.triggerRef.current)==null||o.focus()}),onPointerDownOutside:oe(e.onPointerDownOutside,i=>{const o=i.detail.originalEvent,a=o.button===0&&o.ctrlKey===!0;(o.button===2||a)&&i.preventDefault()}),onFocusOutside:oe(e.onFocusOutside,i=>i.preventDefault())})}),m5=m.forwardRef((e,t)=>{const r=zr(Si,e.__scopeDialog),n=m.useRef(!1),s=m.useRef(!1);return d.jsx(GE,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var o,a;(o=e.onCloseAutoFocus)==null||o.call(e,i),i.defaultPrevented||(n.current||(a=r.triggerRef.current)==null||a.focus(),i.preventDefault()),n.current=!1,s.current=!1},onInteractOutside:i=>{var l,c;(l=e.onInteractOutside)==null||l.call(e,i),i.defaultPrevented||(n.current=!0,i.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const o=i.target;((c=r.triggerRef.current)==null?void 0:c.contains(o))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&s.current&&i.preventDefault()}})}),GE=m.forwardRef((e,t)=>{const{__scopeDialog:r,trapFocus:n,onOpenAutoFocus:s,onCloseAutoFocus:i,...o}=e,a=zr(Si,r),l=m.useRef(null),c=De(t,l);return Rk(),d.jsxs(d.Fragment,{children:[d.jsx(gv,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:s,onUnmountAutoFocus:i,children:d.jsx(Ll,{role:"dialog",id:a.contentId,"aria-describedby":a.descriptionId,"aria-labelledby":a.titleId,"data-state":Nv(a.open),...o,ref:c,onDismiss:()=>a.onOpenChange(!1)})}),d.jsxs(d.Fragment,{children:[d.jsx(v5,{titleId:a.titleId}),d.jsx(w5,{contentRef:l,descriptionId:a.descriptionId})]})]})}),Cv="DialogTitle",QE=m.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=zr(Cv,r);return d.jsx(be.h2,{id:s.titleId,...n,ref:t})});QE.displayName=Cv;var YE="DialogDescription",ZE=m.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=zr(YE,r);return d.jsx(be.p,{id:s.descriptionId,...n,ref:t})});ZE.displayName=YE;var XE="DialogClose",JE=m.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=zr(XE,r);return d.jsx(be.button,{type:"button",...n,ref:t,onClick:oe(e.onClick,()=>s.onOpenChange(!1))})});JE.displayName=XE;function Nv(e){return e?"open":"closed"}var eC="DialogTitleWarning",[g5,tC]=vj(eC,{contentName:Si,titleName:Cv,docsSlug:"dialog"}),v5=({titleId:e})=>{const t=tC(eC),r=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return m.useEffect(()=>{e&&(document.getElementById(e)||console.error(r))},[r,e]),null},y5="DialogDescriptionWarning",w5=({contentRef:e,descriptionId:t})=>{const n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${tC(y5).contentName}}.`;return m.useEffect(()=>{var i;const s=(i=e.current)==null?void 0:i.getAttribute("aria-describedby");t&&s&&(document.getElementById(t)||console.warn(n))},[n,e,t]),null},Tv=zE,rC=WE,Rv=qE,Zl=KE,Xl=HE,Jl=QE,ec=ZE,nf=JE;const jv=Tv,x5=rC,b5=Rv,nC=m.forwardRef(({className:e,...t},r)=>d.jsx(Zl,{className:K("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:r}));nC.displayName=Zl.displayName;const _5=Ul("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4  border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),sf=m.forwardRef(({side:e="right",className:t,children:r,...n},s)=>d.jsxs(b5,{children:[d.jsx(nC,{}),d.jsxs(Xl,{ref:s,className:K(_5({side:e}),t),...n,children:[r,d.jsxs(nf,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity data-[state=open]:bg-secondary hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none",children:[d.jsx(Bg,{className:"h-4 w-4"}),d.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));sf.displayName=Xl.displayName;const of=({className:e,...t})=>d.jsx("div",{className:K("flex flex-col space-y-2 text-center sm:text-left",e),...t});of.displayName="SheetHeader";const af=m.forwardRef(({className:e,...t},r)=>d.jsx(Jl,{ref:r,className:K("text-lg font-semibold text-foreground",e),...t}));af.displayName=Jl.displayName;const Av=m.forwardRef(({className:e,...t},r)=>d.jsx(ec,{ref:r,className:K("text-sm text-muted-foreground",e),...t}));Av.displayName=ec.displayName;var sC="AlertDialog",[S5,QB]=yr(sC,[UE]),Mn=UE(),iC=e=>{const{__scopeAlertDialog:t,...r}=e,n=Mn(t);return d.jsx(Tv,{...n,...r,modal:!0})};iC.displayName=sC;var k5="AlertDialogTrigger",E5=m.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,s=Mn(r);return d.jsx(rC,{...s,...n,ref:t})});E5.displayName=k5;var C5="AlertDialogPortal",oC=e=>{const{__scopeAlertDialog:t,...r}=e,n=Mn(t);return d.jsx(Rv,{...n,...r})};oC.displayName=C5;var N5="AlertDialogOverlay",aC=m.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,s=Mn(r);return d.jsx(Zl,{...s,...n,ref:t})});aC.displayName=N5;var wo="AlertDialogContent",[T5,R5]=S5(wo),j5=n1("AlertDialogContent"),lC=m.forwardRef((e,t)=>{const{__scopeAlertDialog:r,children:n,...s}=e,i=Mn(r),o=m.useRef(null),a=De(t,o),l=m.useRef(null);return d.jsx(g5,{contentName:wo,titleName:cC,docsSlug:"alert-dialog",children:d.jsx(T5,{scope:r,cancelRef:l,children:d.jsxs(Xl,{role:"alertdialog",...i,...s,ref:a,onOpenAutoFocus:oe(s.onOpenAutoFocus,c=>{var u;c.preventDefault(),(u=l.current)==null||u.focus({preventScroll:!0})}),onPointerDownOutside:c=>c.preventDefault(),onInteractOutside:c=>c.preventDefault(),children:[d.jsx(j5,{children:n}),d.jsx(P5,{contentRef:o})]})})})});lC.displayName=wo;var cC="AlertDialogTitle",uC=m.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,s=Mn(r);return d.jsx(Jl,{...s,...n,ref:t})});uC.displayName=cC;var dC="AlertDialogDescription",fC=m.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,s=Mn(r);return d.jsx(ec,{...s,...n,ref:t})});fC.displayName=dC;var A5="AlertDialogAction",hC=m.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,s=Mn(r);return d.jsx(nf,{...s,...n,ref:t})});hC.displayName=A5;var pC="AlertDialogCancel",mC=m.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,{cancelRef:s}=R5(pC,r),i=Mn(r),o=De(t,s);return d.jsx(nf,{...i,...n,ref:o})});mC.displayName=pC;var P5=({contentRef:e})=>{const t=`\`${wo}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${wo}\` by passing a \`${dC}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${wo}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return m.useEffect(()=>{var n;document.getElementById((n=e.current)==null?void 0:n.getAttribute("aria-describedby"))||console.warn(t)},[t,e]),null},O5=iC,D5=oC,gC=aC,vC=lC,yC=hC,wC=mC,xC=uC,bC=fC;const Pv=O5,I5=D5,_C=m.forwardRef(({className:e,...t},r)=>d.jsx(gC,{className:K("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:r}));_C.displayName=gC.displayName;const lf=m.forwardRef(({className:e,...t},r)=>d.jsxs(I5,{children:[d.jsx(_C,{}),d.jsx(vC,{ref:r,className:K("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...t})]}));lf.displayName=vC.displayName;const cf=({className:e,...t})=>d.jsx("div",{className:K("flex flex-col space-y-2 text-center sm:text-left",e),...t});cf.displayName="AlertDialogHeader";const uf=({className:e,...t})=>d.jsx("div",{className:K("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});uf.displayName="AlertDialogFooter";const df=m.forwardRef(({className:e,...t},r)=>d.jsx(xC,{ref:r,className:K("text-lg font-semibold",e),...t}));df.displayName=xC.displayName;const ff=m.forwardRef(({className:e,...t},r)=>d.jsx(bC,{ref:r,className:K("text-sm text-muted-foreground",e),...t}));ff.displayName=bC.displayName;const hf=m.forwardRef(({className:e,...t},r)=>d.jsx(yC,{ref:r,className:K(dv(),e),...t}));hf.displayName=yC.displayName;const pf=m.forwardRef(({className:e,...t},r)=>d.jsx(wC,{ref:r,className:K(dv({variant:"outline"}),"mt-2 sm:mt-0",e),...t}));pf.displayName=wC.displayName;var M5="Label",SC=m.forwardRef((e,t)=>d.jsx(be.label,{...e,ref:t,onMouseDown:r=>{var s;r.target.closest("button, input, select, textarea")||((s=e.onMouseDown)==null||s.call(e,r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));SC.displayName=M5;var kC=SC;const $5=Ul("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Jt=m.forwardRef(({className:e,...t},r)=>d.jsx(kC,{ref:r,className:K($5(),e),...t}));Jt.displayName=kC.displayName;const rd={async get(e){const{data:t,error:r}=await ee.from("user_settings").select("*").eq("owner_id",e).single();if(r){if(r.code==="PGRST116")return null;throw r}return t},async upsertSidebarWidth(e,t){const r=await this.get(e),{error:n}=await ee.from("user_settings").upsert({owner_id:e,sidebar_width:Math.round(t),copy_include_evidence:(r==null?void 0:r.copy_include_evidence)??!0,updated_at:new Date().toISOString()},{onConflict:"owner_id"});if(n)throw n},async upsertCopyIncludeEvidence(e,t){const r=await this.get(e),{error:n}=await ee.from("user_settings").upsert({owner_id:e,sidebar_width:(r==null?void 0:r.sidebar_width)??600,copy_include_evidence:t,updated_at:new Date().toISOString()},{onConflict:"owner_id"});if(n)throw n}},EC="scholia-copy-include-evidence";function Dw(){if(typeof window>"u")return!0;try{const e=localStorage.getItem(EC);if(e==="false")return!1;if(e==="true")return!0}catch{}return!0}function L5(e){try{localStorage.setItem(EC,String(e))}catch{}}function CC(){const{user:e}=wr(),t=lr(),[r,n]=m.useState(Dw),{data:s,isLoading:i}=Pt({queryKey:["user-settings",e==null?void 0:e.id],queryFn:()=>rd.get(e.id),enabled:!!e}),o=on({mutationFn:c=>rd.upsertCopyIncludeEvidence(e.id,c),onSuccess:()=>{t.invalidateQueries({queryKey:["user-settings",e==null?void 0:e.id]})}}),a=e?(s==null?void 0:s.copy_include_evidence)??!0:r,l=c=>{e?o.mutate(c):(L5(c),n(c))};return m.useEffect(()=>{e||n(Dw())},[e]),{copyIncludeEvidence:a,setCopyIncludeEvidence:l,isLoading:!!e&&i}}const tc={async list(e){const{data:t,error:r}=await ee.from("conversations").select("*").eq("owner_id",e).order("updated_at",{ascending:!1});if(r)throw r;return t},async get(e){const{data:t,error:r}=await ee.from("conversations").select("*").eq("id",e).single();if(r)throw r;return t},async create(e){const{data:{user:t}}=await ee.auth.getUser();if(!t)throw new Error("Authentication required");const r={...e,owner_id:t.id},{data:n,error:s}=await ee.from("conversations").insert(r).select().single();if(s)throw console.error("Create conversation error:",s),s;return n},async update(e,t){const{data:r,error:n}=await ee.from("conversations").update(t).eq("id",e).select().single();if(n)throw n;return r},async delete(e){const{data:t,error:r}=await ee.from("conversations").select("id, owner_id").eq("id",e).single();if(r||!t)throw console.error("Conversation not found:",r),new Error("Conversation not found");const{data:{user:n}}=await ee.auth.getUser();if(!n)throw new Error("Authentication required");if(t.owner_id!==n.id)throw console.error("Permission denied:",{conversationOwnerId:t.owner_id,currentUserId}),new Error("You do not have permission to delete this conversation.");const{error:s,data:i}=await ee.from("conversations").delete().eq("id",e).select();if(s)throw console.error("Delete conversation error:",s),s;if(!i||i.length===0)throw console.error("RLS policy blocked deletion. Conversation owner_id:",t.owner_id,"Current user:",n.id),new Error("Failed to delete conversation. RLS policy may be blocking deletion. Please check your database policies.")},async deleteAll(){const{data:{user:e}}=await ee.auth.getUser();if(!e)throw new Error("Authentication required");const{error:t}=await ee.from("conversations").delete().eq("owner_id",e.id);if(t)throw t}},F5=()=>{const{user:e}=wr(),t=(e==null?void 0:e.id)||null;return Pt({queryKey:["conversations",t],queryFn:()=>tc.list(t),enabled:!!t})},U5=()=>{const e=lr(),{user:t}=wr(),r=(t==null?void 0:t.id)||null;return on({mutationFn:n=>{if(!r)throw new Error("Authentication required");return tc.create({title:n||"New Research",dynamic_mode:!0})},onSuccess:()=>{e.invalidateQueries({queryKey:["conversations",r]})}})},z5=()=>{const e=lr(),{user:t}=wr(),r=(t==null?void 0:t.id)||null;return on({mutationFn:({id:n,title:s,dynamic_mode:i})=>tc.update(n,{...s!==void 0&&{title:s},...i!==void 0&&{dynamic_mode:i}}),onSuccess:(n,s)=>{e.invalidateQueries({queryKey:["conversations",r]}),e.invalidateQueries({queryKey:["conversation",s.id]})}})},B5=()=>{const e=lr(),{user:t}=wr(),r=(t==null?void 0:t.id)||null;return on({mutationFn:n=>tc.delete(n),onSuccess:()=>{e.invalidateQueries({queryKey:["conversations",r]}),e.invalidateQueries({queryKey:["conversations"]}),e.invalidateQueries({queryKey:["conversation"]})}})},mm="scholia:conversations-deleted-all",W5=()=>{const e=lr(),{user:t}=wr(),r=(t==null?void 0:t.id)||null;return on({mutationFn:()=>tc.deleteAll(),onSuccess:()=>{e.invalidateQueries({queryKey:["conversations",r]}),e.invalidateQueries({queryKey:["conversations"]}),e.invalidateQueries({queryKey:["conversation"]}),window.dispatchEvent(new CustomEvent(mm))}})},Iw=({trigger:e,open:t,onOpenChange:r})=>{const{copyIncludeEvidence:n,setCopyIncludeEvidence:s}=CC(),[i,o]=m.useState(!1),a=W5(),l=()=>s(!0),c=()=>s(!1),u=async()=>{try{await a.mutateAsync(),o(!1),r==null||r(!1),Bo.success("All conversations deleted")}catch(f){Bo.error("Failed to delete conversations",{description:f instanceof Error?f.message:String(f)})}};return d.jsxs(jv,{open:t,onOpenChange:r,children:[e&&d.jsx(x5,{asChild:!0,children:e}),d.jsxs(sf,{children:[d.jsx(of,{children:d.jsx(af,{children:"Settings"})}),d.jsxs("div",{className:"mt-6 space-y-6",children:[d.jsxs("div",{className:"space-y-2",children:[d.jsx(Jt,{children:"Default copy format"}),d.jsx("p",{className:"text-sm text-muted-foreground",children:"When copying assistant messages, which format to use by default."}),d.jsxs("div",{className:"flex gap-2",children:[d.jsx(Te,{variant:n?"default":"outline",size:"sm",onClick:l,children:"With evidence"}),d.jsx(Te,{variant:n?"outline":"default",size:"sm",onClick:c,children:"Without evidence"})]})]}),d.jsxs("div",{className:"space-y-2 pt-4 border-t border-border",children:[d.jsx(Jt,{children:"Data"}),d.jsx("p",{className:"text-sm text-muted-foreground",children:"Delete all conversations for this profile. This cannot be undone."}),d.jsxs(Te,{variant:"outline",size:"sm",className:"text-destructive hover:text-destructive hover:bg-destructive/10",onClick:()=>o(!0),disabled:a.isPending,children:[d.jsx(zg,{className:"h-4 w-4 mr-2"}),"Delete all conversations"]})]})]}),d.jsx(Pv,{open:i,onOpenChange:o,children:d.jsxs(lf,{children:[d.jsxs(cf,{children:[d.jsx(df,{children:"Delete all conversations?"}),d.jsx(ff,{children:"This will permanently delete all your conversations. This action cannot be undone."})]}),d.jsxs(uf,{children:[d.jsx(pf,{disabled:a.isPending,children:"Cancel"}),d.jsx(hf,{onClick:f=>{f.preventDefault(),u()},className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:a.isPending?"Deleting":"Delete all"})]})]})})]})]})},V5=()=>{const{user:e,signOut:t}=wr(),r=qd(),{toast:n}=Ig(),[s,i]=m.useState(!1),o=async()=>{const{error:l}=await t();l&&n({variant:"destructive",title:"Sign out failed",description:l.message})},a=async()=>{await t(),r("/auth")};return e?d.jsxs("div",{className:"p-4 border-t border-border",children:[d.jsxs(dm,{children:[d.jsx(fm,{asChild:!0,children:d.jsxs(Te,{variant:"ghost",className:"w-full justify-between text-muted-foreground hover:text-foreground hover:bg-secondary px-3 py-2 h-auto",children:[d.jsx("span",{className:"text-xs",children:"Scholia  Knowledge Companion"}),d.jsx(Cc,{className:"h-4 w-4"})]})}),d.jsxs(ed,{align:"end",className:"w-56 bg-popover border-border",children:[d.jsx(hm,{className:"font-normal",children:d.jsxs("div",{className:"flex flex-col space-y-1",children:[d.jsx("p",{className:"text-sm font-medium leading-none",children:"Account"}),d.jsx("p",{className:"text-xs text-muted-foreground truncate",children:e==null?void 0:e.email})]})}),d.jsx(pm,{className:"bg-border"}),d.jsxs(es,{onClick:()=>i(!0),className:"cursor-pointer focus:bg-secondary",children:[d.jsx(Cc,{className:"mr-2 h-4 w-4"}),d.jsx("span",{children:"Settings"})]}),d.jsxs(es,{onClick:a,className:"cursor-pointer focus:bg-secondary",children:[d.jsx(I1,{className:"mr-2 h-4 w-4"}),d.jsx("span",{children:"Switch Account"})]}),d.jsxs(es,{onClick:o,className:"cursor-pointer text-destructive focus:bg-destructive/10 focus:text-destructive",children:[d.jsx(vA,{className:"mr-2 h-4 w-4"}),d.jsx("span",{children:"Log out"})]})]})]}),d.jsx(Iw,{open:s,onOpenChange:i})]}):d.jsxs("div",{className:"p-4 border-t border-border",children:[d.jsxs(dm,{children:[d.jsx(fm,{asChild:!0,children:d.jsxs(Te,{variant:"ghost",className:"w-full justify-between text-muted-foreground hover:text-foreground hover:bg-secondary px-3 py-2 h-auto",children:[d.jsx("span",{className:"text-xs",children:"Scholia  Knowledge Companion"}),d.jsx(Cc,{className:"h-4 w-4"})]})}),d.jsxs(ed,{align:"end",className:"w-56 bg-popover border-border",children:[d.jsx(hm,{className:"font-normal",children:d.jsxs("div",{className:"flex flex-col space-y-1",children:[d.jsx("p",{className:"text-sm font-medium leading-none",children:"Guest Mode"}),d.jsx("p",{className:"text-xs text-muted-foreground",children:"Sign in to save your chats"})]})}),d.jsx(pm,{className:"bg-border"}),d.jsxs(es,{onClick:()=>i(!0),className:"cursor-pointer focus:bg-secondary",children:[d.jsx(Cc,{className:"mr-2 h-4 w-4"}),d.jsx("span",{children:"Settings"})]}),d.jsxs(es,{onClick:()=>r("/auth"),className:"cursor-pointer focus:bg-secondary",children:[d.jsx(Tp,{className:"mr-2 h-4 w-4"}),d.jsx("span",{children:"Sign in"})]})]})]}),d.jsx(Iw,{open:s,onOpenChange:i})]})};function Mw(e){try{const t=new URL(e);return t.hash="",t.search="",t.pathname==="/"||t.pathname===""?t.pathname="/":t.pathname.endsWith("/")&&(t.pathname=t.pathname.slice(0,-1)),t.toString()}catch{return e}}const q5=(e,t,r,n,s)=>{const i=e,o=new Map,a=new Map;i.forEach(f=>{const p=f.url||(n?`https://${n}${f.path}`:`https://example.com${f.path}`),h=Mw(p);o.set(h.toLowerCase(),f.id),o.set(h,f.id),o.set(p.toLowerCase(),f.id),o.set(p,f.id);try{const x=new URL(h),v=`${x.hostname}${x.pathname}`;o.set(v.toLowerCase(),f.id),o.set(v,f.id)}catch{}a.set(f.id,f)});const l=i.map((f,p)=>{const h=f.url||(n?`https://${n}${f.path}`:`https://example.com${f.path}`),x=p===0;return{id:f.id,title:f.title,status:f.status,url:h,x:x?r.width/2:r.width/2+Math.cos((p-1)*(2*Math.PI/Math.max(i.length-1,1)))*80,y:x?r.height/2:r.height/2+Math.sin((p-1)*(2*Math.PI/Math.max(i.length-1,1)))*80}});let c=[];const u=s||[];if(u.length>0){const f=new Set(i.map(h=>h.id)),p=new Set;u.forEach((h,x)=>{let v=h.from_page_id&&f.has(h.from_page_id)?h.from_page_id:void 0,y=h.to_page_id&&f.has(h.to_page_id)?h.to_page_id:void 0;if(!y&&h.to_url){const g=Mw(h.to_url);if(y=o.get(g)||o.get(g.toLowerCase())||o.get(h.to_url)||o.get(h.to_url.toLowerCase()),!y)try{const w=new URL(g),b=`${w.hostname}${w.pathname}`;y=o.get(b)||o.get(b.toLowerCase())}catch{}}if(v&&y&&f.has(v)&&f.has(y)&&v!==y){const g=`${v}-${y}`;p.has(g)||(p.add(g),c.push({source:v,target:y}))}})}else c=[];return{nodes:l,links:c}},$w=e=>{switch(e){case"indexed":return"hsl(var(--primary))";case"crawling":return"hsl(var(--primary) / 0.6)";case"error":return"hsl(var(--destructive))";default:return"hsl(var(--muted-foreground) / 0.4)"}},K5=(e,t)=>{const r=new Set([e]);return t.forEach(n=>{const s=typeof n.source=="object"?n.source.id:n.source,i=typeof n.target=="object"?n.target.id:n.target;s===e&&r.add(i),i===e&&r.add(s)}),r};var H5={value:()=>{}};function mf(){for(var e=0,t=arguments.length,r={},n;e<t;++e){if(!(n=arguments[e]+"")||n in r||/[\s.]/.test(n))throw new Error("illegal type: "+n);r[n]=[]}return new lu(r)}function lu(e){this._=e}function G5(e,t){return e.trim().split(/^|\s+/).map(function(r){var n="",s=r.indexOf(".");if(s>=0&&(n=r.slice(s+1),r=r.slice(0,s)),r&&!t.hasOwnProperty(r))throw new Error("unknown type: "+r);return{type:r,name:n}})}lu.prototype=mf.prototype={constructor:lu,on:function(e,t){var r=this._,n=G5(e+"",r),s,i=-1,o=n.length;if(arguments.length<2){for(;++i<o;)if((s=(e=n[i]).type)&&(s=Q5(r[s],e.name)))return s;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++i<o;)if(s=(e=n[i]).type)r[s]=Lw(r[s],e.name,t);else if(t==null)for(s in r)r[s]=Lw(r[s],e.name,null);return this},copy:function(){var e={},t=this._;for(var r in t)e[r]=t[r].slice();return new lu(e)},call:function(e,t){if((s=arguments.length-2)>0)for(var r=new Array(s),n=0,s,i;n<s;++n)r[n]=arguments[n+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(i=this._[e],n=0,s=i.length;n<s;++n)i[n].value.apply(t,r)},apply:function(e,t,r){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var n=this._[e],s=0,i=n.length;s<i;++s)n[s].value.apply(t,r)}};function Q5(e,t){for(var r=0,n=e.length,s;r<n;++r)if((s=e[r]).name===t)return s.value}function Lw(e,t,r){for(var n=0,s=e.length;n<s;++n)if(e[n].name===t){e[n]=H5,e=e.slice(0,n).concat(e.slice(n+1));break}return r!=null&&e.push({name:t,value:r}),e}var gm="http://www.w3.org/1999/xhtml";const Fw={svg:"http://www.w3.org/2000/svg",xhtml:gm,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function gf(e){var t=e+="",r=t.indexOf(":");return r>=0&&(t=e.slice(0,r))!=="xmlns"&&(e=e.slice(r+1)),Fw.hasOwnProperty(t)?{space:Fw[t],local:e}:e}function Y5(e){return function(){var t=this.ownerDocument,r=this.namespaceURI;return r===gm&&t.documentElement.namespaceURI===gm?t.createElement(e):t.createElementNS(r,e)}}function Z5(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function NC(e){var t=gf(e);return(t.local?Z5:Y5)(t)}function X5(){}function Ov(e){return e==null?X5:function(){return this.querySelector(e)}}function J5(e){typeof e!="function"&&(e=Ov(e));for(var t=this._groups,r=t.length,n=new Array(r),s=0;s<r;++s)for(var i=t[s],o=i.length,a=n[s]=new Array(o),l,c,u=0;u<o;++u)(l=i[u])&&(c=e.call(l,l.__data__,u,i))&&("__data__"in l&&(c.__data__=l.__data__),a[u]=c);return new sr(n,this._parents)}function e3(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}function t3(){return[]}function TC(e){return e==null?t3:function(){return this.querySelectorAll(e)}}function r3(e){return function(){return e3(e.apply(this,arguments))}}function n3(e){typeof e=="function"?e=r3(e):e=TC(e);for(var t=this._groups,r=t.length,n=[],s=[],i=0;i<r;++i)for(var o=t[i],a=o.length,l,c=0;c<a;++c)(l=o[c])&&(n.push(e.call(l,l.__data__,c,o)),s.push(l));return new sr(n,s)}function RC(e){return function(){return this.matches(e)}}function jC(e){return function(t){return t.matches(e)}}var s3=Array.prototype.find;function i3(e){return function(){return s3.call(this.children,e)}}function o3(){return this.firstElementChild}function a3(e){return this.select(e==null?o3:i3(typeof e=="function"?e:jC(e)))}var l3=Array.prototype.filter;function c3(){return Array.from(this.children)}function u3(e){return function(){return l3.call(this.children,e)}}function d3(e){return this.selectAll(e==null?c3:u3(typeof e=="function"?e:jC(e)))}function f3(e){typeof e!="function"&&(e=RC(e));for(var t=this._groups,r=t.length,n=new Array(r),s=0;s<r;++s)for(var i=t[s],o=i.length,a=n[s]=[],l,c=0;c<o;++c)(l=i[c])&&e.call(l,l.__data__,c,i)&&a.push(l);return new sr(n,this._parents)}function AC(e){return new Array(e.length)}function h3(){return new sr(this._enter||this._groups.map(AC),this._parents)}function nd(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}nd.prototype={constructor:nd,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function p3(e){return function(){return e}}function m3(e,t,r,n,s,i){for(var o=0,a,l=t.length,c=i.length;o<c;++o)(a=t[o])?(a.__data__=i[o],n[o]=a):r[o]=new nd(e,i[o]);for(;o<l;++o)(a=t[o])&&(s[o]=a)}function g3(e,t,r,n,s,i,o){var a,l,c=new Map,u=t.length,f=i.length,p=new Array(u),h;for(a=0;a<u;++a)(l=t[a])&&(p[a]=h=o.call(l,l.__data__,a,t)+"",c.has(h)?s[a]=l:c.set(h,l));for(a=0;a<f;++a)h=o.call(e,i[a],a,i)+"",(l=c.get(h))?(n[a]=l,l.__data__=i[a],c.delete(h)):r[a]=new nd(e,i[a]);for(a=0;a<u;++a)(l=t[a])&&c.get(p[a])===l&&(s[a]=l)}function v3(e){return e.__data__}function y3(e,t){if(!arguments.length)return Array.from(this,v3);var r=t?g3:m3,n=this._parents,s=this._groups;typeof e!="function"&&(e=p3(e));for(var i=s.length,o=new Array(i),a=new Array(i),l=new Array(i),c=0;c<i;++c){var u=n[c],f=s[c],p=f.length,h=w3(e.call(u,u&&u.__data__,c,n)),x=h.length,v=a[c]=new Array(x),y=o[c]=new Array(x),g=l[c]=new Array(p);r(u,f,v,y,g,h,t);for(var w=0,b=0,_,S;w<x;++w)if(_=v[w]){for(w>=b&&(b=w+1);!(S=y[b])&&++b<x;);_._next=S||null}}return o=new sr(o,n),o._enter=a,o._exit=l,o}function w3(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function x3(){return new sr(this._exit||this._groups.map(AC),this._parents)}function b3(e,t,r){var n=this.enter(),s=this,i=this.exit();return typeof e=="function"?(n=e(n),n&&(n=n.selection())):n=n.append(e+""),t!=null&&(s=t(s),s&&(s=s.selection())),r==null?i.remove():r(i),n&&s?n.merge(s).order():s}function _3(e){for(var t=e.selection?e.selection():e,r=this._groups,n=t._groups,s=r.length,i=n.length,o=Math.min(s,i),a=new Array(s),l=0;l<o;++l)for(var c=r[l],u=n[l],f=c.length,p=a[l]=new Array(f),h,x=0;x<f;++x)(h=c[x]||u[x])&&(p[x]=h);for(;l<s;++l)a[l]=r[l];return new sr(a,this._parents)}function S3(){for(var e=this._groups,t=-1,r=e.length;++t<r;)for(var n=e[t],s=n.length-1,i=n[s],o;--s>=0;)(o=n[s])&&(i&&o.compareDocumentPosition(i)^4&&i.parentNode.insertBefore(o,i),i=o);return this}function k3(e){e||(e=E3);function t(f,p){return f&&p?e(f.__data__,p.__data__):!f-!p}for(var r=this._groups,n=r.length,s=new Array(n),i=0;i<n;++i){for(var o=r[i],a=o.length,l=s[i]=new Array(a),c,u=0;u<a;++u)(c=o[u])&&(l[u]=c);l.sort(t)}return new sr(s,this._parents).order()}function E3(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function C3(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function N3(){return Array.from(this)}function T3(){for(var e=this._groups,t=0,r=e.length;t<r;++t)for(var n=e[t],s=0,i=n.length;s<i;++s){var o=n[s];if(o)return o}return null}function R3(){let e=0;for(const t of this)++e;return e}function j3(){return!this.node()}function A3(e){for(var t=this._groups,r=0,n=t.length;r<n;++r)for(var s=t[r],i=0,o=s.length,a;i<o;++i)(a=s[i])&&e.call(a,a.__data__,i,s);return this}function P3(e){return function(){this.removeAttribute(e)}}function O3(e){return function(){this.removeAttributeNS(e.space,e.local)}}function D3(e,t){return function(){this.setAttribute(e,t)}}function I3(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function M3(e,t){return function(){var r=t.apply(this,arguments);r==null?this.removeAttribute(e):this.setAttribute(e,r)}}function $3(e,t){return function(){var r=t.apply(this,arguments);r==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,r)}}function L3(e,t){var r=gf(e);if(arguments.length<2){var n=this.node();return r.local?n.getAttributeNS(r.space,r.local):n.getAttribute(r)}return this.each((t==null?r.local?O3:P3:typeof t=="function"?r.local?$3:M3:r.local?I3:D3)(r,t))}function PC(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function F3(e){return function(){this.style.removeProperty(e)}}function U3(e,t,r){return function(){this.style.setProperty(e,t,r)}}function z3(e,t,r){return function(){var n=t.apply(this,arguments);n==null?this.style.removeProperty(e):this.style.setProperty(e,n,r)}}function B3(e,t,r){return arguments.length>1?this.each((t==null?F3:typeof t=="function"?z3:U3)(e,t,r??"")):Ko(this.node(),e)}function Ko(e,t){return e.style.getPropertyValue(t)||PC(e).getComputedStyle(e,null).getPropertyValue(t)}function W3(e){return function(){delete this[e]}}function V3(e,t){return function(){this[e]=t}}function q3(e,t){return function(){var r=t.apply(this,arguments);r==null?delete this[e]:this[e]=r}}function K3(e,t){return arguments.length>1?this.each((t==null?W3:typeof t=="function"?q3:V3)(e,t)):this.node()[e]}function OC(e){return e.trim().split(/^|\s+/)}function Dv(e){return e.classList||new DC(e)}function DC(e){this._node=e,this._names=OC(e.getAttribute("class")||"")}DC.prototype={add:function(e){var t=this._names.indexOf(e);t<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function IC(e,t){for(var r=Dv(e),n=-1,s=t.length;++n<s;)r.add(t[n])}function MC(e,t){for(var r=Dv(e),n=-1,s=t.length;++n<s;)r.remove(t[n])}function H3(e){return function(){IC(this,e)}}function G3(e){return function(){MC(this,e)}}function Q3(e,t){return function(){(t.apply(this,arguments)?IC:MC)(this,e)}}function Y3(e,t){var r=OC(e+"");if(arguments.length<2){for(var n=Dv(this.node()),s=-1,i=r.length;++s<i;)if(!n.contains(r[s]))return!1;return!0}return this.each((typeof t=="function"?Q3:t?H3:G3)(r,t))}function Z3(){this.textContent=""}function X3(e){return function(){this.textContent=e}}function J3(e){return function(){var t=e.apply(this,arguments);this.textContent=t??""}}function eF(e){return arguments.length?this.each(e==null?Z3:(typeof e=="function"?J3:X3)(e)):this.node().textContent}function tF(){this.innerHTML=""}function rF(e){return function(){this.innerHTML=e}}function nF(e){return function(){var t=e.apply(this,arguments);this.innerHTML=t??""}}function sF(e){return arguments.length?this.each(e==null?tF:(typeof e=="function"?nF:rF)(e)):this.node().innerHTML}function iF(){this.nextSibling&&this.parentNode.appendChild(this)}function oF(){return this.each(iF)}function aF(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function lF(){return this.each(aF)}function cF(e){var t=typeof e=="function"?e:NC(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}function uF(){return null}function dF(e,t){var r=typeof e=="function"?e:NC(e),n=t==null?uF:typeof t=="function"?t:Ov(t);return this.select(function(){return this.insertBefore(r.apply(this,arguments),n.apply(this,arguments)||null)})}function fF(){var e=this.parentNode;e&&e.removeChild(this)}function hF(){return this.each(fF)}function pF(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function mF(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function gF(e){return this.select(e?mF:pF)}function vF(e){return arguments.length?this.property("__data__",e):this.node().__data__}function yF(e){return function(t){e.call(this,t,this.__data__)}}function wF(e){return e.trim().split(/^|\s+/).map(function(t){var r="",n=t.indexOf(".");return n>=0&&(r=t.slice(n+1),t=t.slice(0,n)),{type:t,name:r}})}function xF(e){return function(){var t=this.__on;if(t){for(var r=0,n=-1,s=t.length,i;r<s;++r)i=t[r],(!e.type||i.type===e.type)&&i.name===e.name?this.removeEventListener(i.type,i.listener,i.options):t[++n]=i;++n?t.length=n:delete this.__on}}}function bF(e,t,r){return function(){var n=this.__on,s,i=yF(t);if(n){for(var o=0,a=n.length;o<a;++o)if((s=n[o]).type===e.type&&s.name===e.name){this.removeEventListener(s.type,s.listener,s.options),this.addEventListener(s.type,s.listener=i,s.options=r),s.value=t;return}}this.addEventListener(e.type,i,r),s={type:e.type,name:e.name,value:t,listener:i,options:r},n?n.push(s):this.__on=[s]}}function _F(e,t,r){var n=wF(e+""),s,i=n.length,o;if(arguments.length<2){var a=this.node().__on;if(a){for(var l=0,c=a.length,u;l<c;++l)for(s=0,u=a[l];s<i;++s)if((o=n[s]).type===u.type&&o.name===u.name)return u.value}return}for(a=t?bF:xF,s=0;s<i;++s)this.each(a(n[s],t,r));return this}function $C(e,t,r){var n=PC(e),s=n.CustomEvent;typeof s=="function"?s=new s(t,r):(s=n.document.createEvent("Event"),r?(s.initEvent(t,r.bubbles,r.cancelable),s.detail=r.detail):s.initEvent(t,!1,!1)),e.dispatchEvent(s)}function SF(e,t){return function(){return $C(this,e,t)}}function kF(e,t){return function(){return $C(this,e,t.apply(this,arguments))}}function EF(e,t){return this.each((typeof t=="function"?kF:SF)(e,t))}function*CF(){for(var e=this._groups,t=0,r=e.length;t<r;++t)for(var n=e[t],s=0,i=n.length,o;s<i;++s)(o=n[s])&&(yield o)}var LC=[null];function sr(e,t){this._groups=e,this._parents=t}function rc(){return new sr([[document.documentElement]],LC)}function NF(){return this}sr.prototype=rc.prototype={constructor:sr,select:J5,selectAll:n3,selectChild:a3,selectChildren:d3,filter:f3,data:y3,enter:h3,exit:x3,join:b3,merge:_3,selection:NF,order:S3,sort:k3,call:C3,nodes:N3,node:T3,size:R3,empty:j3,each:A3,attr:L3,style:B3,property:K3,classed:Y3,text:eF,html:sF,raise:oF,lower:lF,append:cF,insert:dF,remove:hF,clone:gF,datum:vF,on:_F,dispatch:EF,[Symbol.iterator]:CF};function Yt(e){return typeof e=="string"?new sr([[document.querySelector(e)]],[document.documentElement]):new sr([[e]],LC)}function TF(e){let t;for(;t=e.sourceEvent;)e=t;return e}function zs(e,t){if(e=TF(e),t===void 0&&(t=e.currentTarget),t){var r=t.ownerSVGElement||t;if(r.createSVGPoint){var n=r.createSVGPoint();return n.x=e.clientX,n.y=e.clientY,n=n.matrixTransform(t.getScreenCTM().inverse()),[n.x,n.y]}if(t.getBoundingClientRect){var s=t.getBoundingClientRect();return[e.clientX-s.left-t.clientLeft,e.clientY-s.top-t.clientTop]}}return[e.pageX,e.pageY]}const vm={capture:!0,passive:!1};function ym(e){e.preventDefault(),e.stopImmediatePropagation()}function RF(e){var t=e.document.documentElement,r=Yt(e).on("dragstart.drag",ym,vm);"onselectstart"in t?r.on("selectstart.drag",ym,vm):(t.__noselect=t.style.MozUserSelect,t.style.MozUserSelect="none")}function jF(e,t){var r=e.document.documentElement,n=Yt(e).on("dragstart.drag",null);t&&(n.on("click.drag",ym,vm),setTimeout(function(){n.on("click.drag",null)},0)),"onselectstart"in r?n.on("selectstart.drag",null):(r.style.MozUserSelect=r.__noselect,delete r.__noselect)}function Iv(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function FC(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function nc(){}var bl=.7,sd=1/bl,xo="\\s*([+-]?\\d+)\\s*",_l="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",en="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",AF=/^#([0-9a-f]{3,8})$/,PF=new RegExp(`^rgb\\(${xo},${xo},${xo}\\)$`),OF=new RegExp(`^rgb\\(${en},${en},${en}\\)$`),DF=new RegExp(`^rgba\\(${xo},${xo},${xo},${_l}\\)$`),IF=new RegExp(`^rgba\\(${en},${en},${en},${_l}\\)$`),MF=new RegExp(`^hsl\\(${_l},${en},${en}\\)$`),$F=new RegExp(`^hsla\\(${_l},${en},${en},${_l}\\)$`),Uw={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Iv(nc,Sl,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:zw,formatHex:zw,formatHex8:LF,formatHsl:FF,formatRgb:Bw,toString:Bw});function zw(){return this.rgb().formatHex()}function LF(){return this.rgb().formatHex8()}function FF(){return UC(this).formatHsl()}function Bw(){return this.rgb().formatRgb()}function Sl(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=AF.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?Ww(t):r===3?new Wt(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?Lc(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?Lc(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=PF.exec(e))?new Wt(t[1],t[2],t[3],1):(t=OF.exec(e))?new Wt(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=DF.exec(e))?Lc(t[1],t[2],t[3],t[4]):(t=IF.exec(e))?Lc(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=MF.exec(e))?Kw(t[1],t[2]/100,t[3]/100,1):(t=$F.exec(e))?Kw(t[1],t[2]/100,t[3]/100,t[4]):Uw.hasOwnProperty(e)?Ww(Uw[e]):e==="transparent"?new Wt(NaN,NaN,NaN,0):null}function Ww(e){return new Wt(e>>16&255,e>>8&255,e&255,1)}function Lc(e,t,r,n){return n<=0&&(e=t=r=NaN),new Wt(e,t,r,n)}function UF(e){return e instanceof nc||(e=Sl(e)),e?(e=e.rgb(),new Wt(e.r,e.g,e.b,e.opacity)):new Wt}function wm(e,t,r,n){return arguments.length===1?UF(e):new Wt(e,t,r,n??1)}function Wt(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}Iv(Wt,wm,FC(nc,{brighter(e){return e=e==null?sd:Math.pow(sd,e),new Wt(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?bl:Math.pow(bl,e),new Wt(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Wt(pi(this.r),pi(this.g),pi(this.b),id(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Vw,formatHex:Vw,formatHex8:zF,formatRgb:qw,toString:qw}));function Vw(){return`#${Js(this.r)}${Js(this.g)}${Js(this.b)}`}function zF(){return`#${Js(this.r)}${Js(this.g)}${Js(this.b)}${Js((isNaN(this.opacity)?1:this.opacity)*255)}`}function qw(){const e=id(this.opacity);return`${e===1?"rgb(":"rgba("}${pi(this.r)}, ${pi(this.g)}, ${pi(this.b)}${e===1?")":`, ${e})`}`}function id(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function pi(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Js(e){return e=pi(e),(e<16?"0":"")+e.toString(16)}function Kw(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new Ir(e,t,r,n)}function UC(e){if(e instanceof Ir)return new Ir(e.h,e.s,e.l,e.opacity);if(e instanceof nc||(e=Sl(e)),!e)return new Ir;if(e instanceof Ir)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,s=Math.min(t,r,n),i=Math.max(t,r,n),o=NaN,a=i-s,l=(i+s)/2;return a?(t===i?o=(r-n)/a+(r<n)*6:r===i?o=(n-t)/a+2:o=(t-r)/a+4,a/=l<.5?i+s:2-i-s,o*=60):a=l>0&&l<1?0:o,new Ir(o,a,l,e.opacity)}function BF(e,t,r,n){return arguments.length===1?UC(e):new Ir(e,t,r,n??1)}function Ir(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}Iv(Ir,BF,FC(nc,{brighter(e){return e=e==null?sd:Math.pow(sd,e),new Ir(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?bl:Math.pow(bl,e),new Ir(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,s=2*r-n;return new Wt(_h(e>=240?e-240:e+120,s,n),_h(e,s,n),_h(e<120?e+240:e-120,s,n),this.opacity)},clamp(){return new Ir(Hw(this.h),Fc(this.s),Fc(this.l),id(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=id(this.opacity);return`${e===1?"hsl(":"hsla("}${Hw(this.h)}, ${Fc(this.s)*100}%, ${Fc(this.l)*100}%${e===1?")":`, ${e})`}`}}));function Hw(e){return e=(e||0)%360,e<0?e+360:e}function Fc(e){return Math.max(0,Math.min(1,e||0))}function _h(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const zC=e=>()=>e;function WF(e,t){return function(r){return e+r*t}}function VF(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function qF(e){return(e=+e)==1?BC:function(t,r){return r-t?VF(t,r,e):zC(isNaN(t)?r:t)}}function BC(e,t){var r=t-e;return r?WF(e,r):zC(isNaN(e)?t:e)}const Gw=function e(t){var r=qF(t);function n(s,i){var o=r((s=wm(s)).r,(i=wm(i)).r),a=r(s.g,i.g),l=r(s.b,i.b),c=BC(s.opacity,i.opacity);return function(u){return s.r=o(u),s.g=a(u),s.b=l(u),s.opacity=c(u),s+""}}return n.gamma=e,n}(1);function Qn(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}var xm=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Sh=new RegExp(xm.source,"g");function KF(e){return function(){return e}}function HF(e){return function(t){return e(t)+""}}function GF(e,t){var r=xm.lastIndex=Sh.lastIndex=0,n,s,i,o=-1,a=[],l=[];for(e=e+"",t=t+"";(n=xm.exec(e))&&(s=Sh.exec(t));)(i=s.index)>r&&(i=t.slice(r,i),a[o]?a[o]+=i:a[++o]=i),(n=n[0])===(s=s[0])?a[o]?a[o]+=s:a[++o]=s:(a[++o]=null,l.push({i:o,x:Qn(n,s)})),r=Sh.lastIndex;return r<t.length&&(i=t.slice(r),a[o]?a[o]+=i:a[++o]=i),a.length<2?l[0]?HF(l[0].x):KF(t):(t=l.length,function(c){for(var u=0,f;u<t;++u)a[(f=l[u]).i]=f.x(c);return a.join("")})}var Qw=180/Math.PI,bm={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function WC(e,t,r,n,s,i){var o,a,l;return(o=Math.sqrt(e*e+t*t))&&(e/=o,t/=o),(l=e*r+t*n)&&(r-=e*l,n-=t*l),(a=Math.sqrt(r*r+n*n))&&(r/=a,n/=a,l/=a),e*n<t*r&&(e=-e,t=-t,l=-l,o=-o),{translateX:s,translateY:i,rotate:Math.atan2(t,e)*Qw,skewX:Math.atan(l)*Qw,scaleX:o,scaleY:a}}var Uc;function QF(e){const t=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?bm:WC(t.a,t.b,t.c,t.d,t.e,t.f)}function YF(e){return e==null||(Uc||(Uc=document.createElementNS("http://www.w3.org/2000/svg","g")),Uc.setAttribute("transform",e),!(e=Uc.transform.baseVal.consolidate()))?bm:(e=e.matrix,WC(e.a,e.b,e.c,e.d,e.e,e.f))}function VC(e,t,r,n){function s(c){return c.length?c.pop()+" ":""}function i(c,u,f,p,h,x){if(c!==f||u!==p){var v=h.push("translate(",null,t,null,r);x.push({i:v-4,x:Qn(c,f)},{i:v-2,x:Qn(u,p)})}else(f||p)&&h.push("translate("+f+t+p+r)}function o(c,u,f,p){c!==u?(c-u>180?u+=360:u-c>180&&(c+=360),p.push({i:f.push(s(f)+"rotate(",null,n)-2,x:Qn(c,u)})):u&&f.push(s(f)+"rotate("+u+n)}function a(c,u,f,p){c!==u?p.push({i:f.push(s(f)+"skewX(",null,n)-2,x:Qn(c,u)}):u&&f.push(s(f)+"skewX("+u+n)}function l(c,u,f,p,h,x){if(c!==f||u!==p){var v=h.push(s(h)+"scale(",null,",",null,")");x.push({i:v-4,x:Qn(c,f)},{i:v-2,x:Qn(u,p)})}else(f!==1||p!==1)&&h.push(s(h)+"scale("+f+","+p+")")}return function(c,u){var f=[],p=[];return c=e(c),u=e(u),i(c.translateX,c.translateY,u.translateX,u.translateY,f,p),o(c.rotate,u.rotate,f,p),a(c.skewX,u.skewX,f,p),l(c.scaleX,c.scaleY,u.scaleX,u.scaleY,f,p),c=u=null,function(h){for(var x=-1,v=p.length,y;++x<v;)f[(y=p[x]).i]=y.x(h);return f.join("")}}}var ZF=VC(QF,"px, ","px)","deg)"),XF=VC(YF,", ",")",")"),JF=1e-12;function Yw(e){return((e=Math.exp(e))+1/e)/2}function eU(e){return((e=Math.exp(e))-1/e)/2}function tU(e){return((e=Math.exp(2*e))-1)/(e+1)}const rU=function e(t,r,n){function s(i,o){var a=i[0],l=i[1],c=i[2],u=o[0],f=o[1],p=o[2],h=u-a,x=f-l,v=h*h+x*x,y,g;if(v<JF)g=Math.log(p/c)/t,y=function(E){return[a+E*h,l+E*x,c*Math.exp(t*E*g)]};else{var w=Math.sqrt(v),b=(p*p-c*c+n*v)/(2*c*r*w),_=(p*p-c*c-n*v)/(2*p*r*w),S=Math.log(Math.sqrt(b*b+1)-b),C=Math.log(Math.sqrt(_*_+1)-_);g=(C-S)/t,y=function(E){var R=E*g,P=Yw(S),D=c/(r*w)*(P*tU(t*R+S)-eU(S));return[a+D*h,l+D*x,c*P/Yw(t*R+S)]}}return y.duration=g*1e3*t/Math.SQRT2,y}return s.rho=function(i){var o=Math.max(.001,+i),a=o*o,l=a*a;return e(o,a,l)},s}(Math.SQRT2,2,4);var Ho=0,Ca=0,va=0,qC=1e3,od,Na,ad=0,ki=0,vf=0,kl=typeof performance=="object"&&performance.now?performance:Date,KC=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function Mv(){return ki||(KC(nU),ki=kl.now()+vf)}function nU(){ki=0}function ld(){this._call=this._time=this._next=null}ld.prototype=$v.prototype={constructor:ld,restart:function(e,t,r){if(typeof e!="function")throw new TypeError("callback is not a function");r=(r==null?Mv():+r)+(t==null?0:+t),!this._next&&Na!==this&&(Na?Na._next=this:od=this,Na=this),this._call=e,this._time=r,_m()},stop:function(){this._call&&(this._call=null,this._time=1/0,_m())}};function $v(e,t,r){var n=new ld;return n.restart(e,t,r),n}function sU(){Mv(),++Ho;for(var e=od,t;e;)(t=ki-e._time)>=0&&e._call.call(void 0,t),e=e._next;--Ho}function Zw(){ki=(ad=kl.now())+vf,Ho=Ca=0;try{sU()}finally{Ho=0,oU(),ki=0}}function iU(){var e=kl.now(),t=e-ad;t>qC&&(vf-=t,ad=e)}function oU(){for(var e,t=od,r,n=1/0;t;)t._call?(n>t._time&&(n=t._time),e=t,t=t._next):(r=t._next,t._next=null,t=e?e._next=r:od=r);Na=e,_m(n)}function _m(e){if(!Ho){Ca&&(Ca=clearTimeout(Ca));var t=e-ki;t>24?(e<1/0&&(Ca=setTimeout(Zw,e-kl.now()-vf)),va&&(va=clearInterval(va))):(va||(ad=kl.now(),va=setInterval(iU,qC)),Ho=1,KC(Zw))}}function Xw(e,t,r){var n=new ld;return t=t==null?0:+t,n.restart(s=>{n.stop(),e(s+t)},t,r),n}var aU=mf("start","end","cancel","interrupt"),lU=[],HC=0,Jw=1,Sm=2,cu=3,ex=4,km=5,uu=6;function yf(e,t,r,n,s,i){var o=e.__transition;if(!o)e.__transition={};else if(r in o)return;cU(e,r,{name:t,index:n,group:s,on:aU,tween:lU,time:i.time,delay:i.delay,duration:i.duration,ease:i.ease,timer:null,state:HC})}function Lv(e,t){var r=Br(e,t);if(r.state>HC)throw new Error("too late; already scheduled");return r}function ln(e,t){var r=Br(e,t);if(r.state>cu)throw new Error("too late; already running");return r}function Br(e,t){var r=e.__transition;if(!r||!(r=r[t]))throw new Error("transition not found");return r}function cU(e,t,r){var n=e.__transition,s;n[t]=r,r.timer=$v(i,0,r.time);function i(c){r.state=Jw,r.timer.restart(o,r.delay,r.time),r.delay<=c&&o(c-r.delay)}function o(c){var u,f,p,h;if(r.state!==Jw)return l();for(u in n)if(h=n[u],h.name===r.name){if(h.state===cu)return Xw(o);h.state===ex?(h.state=uu,h.timer.stop(),h.on.call("interrupt",e,e.__data__,h.index,h.group),delete n[u]):+u<t&&(h.state=uu,h.timer.stop(),h.on.call("cancel",e,e.__data__,h.index,h.group),delete n[u])}if(Xw(function(){r.state===cu&&(r.state=ex,r.timer.restart(a,r.delay,r.time),a(c))}),r.state=Sm,r.on.call("start",e,e.__data__,r.index,r.group),r.state===Sm){for(r.state=cu,s=new Array(p=r.tween.length),u=0,f=-1;u<p;++u)(h=r.tween[u].value.call(e,e.__data__,r.index,r.group))&&(s[++f]=h);s.length=f+1}}function a(c){for(var u=c<r.duration?r.ease.call(null,c/r.duration):(r.timer.restart(l),r.state=km,1),f=-1,p=s.length;++f<p;)s[f].call(e,u);r.state===km&&(r.on.call("end",e,e.__data__,r.index,r.group),l())}function l(){r.state=uu,r.timer.stop(),delete n[t];for(var c in n)return;delete e.__transition}}function du(e,t){var r=e.__transition,n,s,i=!0,o;if(r){t=t==null?null:t+"";for(o in r){if((n=r[o]).name!==t){i=!1;continue}s=n.state>Sm&&n.state<km,n.state=uu,n.timer.stop(),n.on.call(s?"interrupt":"cancel",e,e.__data__,n.index,n.group),delete r[o]}i&&delete e.__transition}}function uU(e){return this.each(function(){du(this,e)})}function dU(e,t){var r,n;return function(){var s=ln(this,e),i=s.tween;if(i!==r){n=r=i;for(var o=0,a=n.length;o<a;++o)if(n[o].name===t){n=n.slice(),n.splice(o,1);break}}s.tween=n}}function fU(e,t,r){var n,s;if(typeof r!="function")throw new Error;return function(){var i=ln(this,e),o=i.tween;if(o!==n){s=(n=o).slice();for(var a={name:t,value:r},l=0,c=s.length;l<c;++l)if(s[l].name===t){s[l]=a;break}l===c&&s.push(a)}i.tween=s}}function hU(e,t){var r=this._id;if(e+="",arguments.length<2){for(var n=Br(this.node(),r).tween,s=0,i=n.length,o;s<i;++s)if((o=n[s]).name===e)return o.value;return null}return this.each((t==null?dU:fU)(r,e,t))}function Fv(e,t,r){var n=e._id;return e.each(function(){var s=ln(this,n);(s.value||(s.value={}))[t]=r.apply(this,arguments)}),function(s){return Br(s,n).value[t]}}function GC(e,t){var r;return(typeof t=="number"?Qn:t instanceof Sl?Gw:(r=Sl(t))?(t=r,Gw):GF)(e,t)}function pU(e){return function(){this.removeAttribute(e)}}function mU(e){return function(){this.removeAttributeNS(e.space,e.local)}}function gU(e,t,r){var n,s=r+"",i;return function(){var o=this.getAttribute(e);return o===s?null:o===n?i:i=t(n=o,r)}}function vU(e,t,r){var n,s=r+"",i;return function(){var o=this.getAttributeNS(e.space,e.local);return o===s?null:o===n?i:i=t(n=o,r)}}function yU(e,t,r){var n,s,i;return function(){var o,a=r(this),l;return a==null?void this.removeAttribute(e):(o=this.getAttribute(e),l=a+"",o===l?null:o===n&&l===s?i:(s=l,i=t(n=o,a)))}}function wU(e,t,r){var n,s,i;return function(){var o,a=r(this),l;return a==null?void this.removeAttributeNS(e.space,e.local):(o=this.getAttributeNS(e.space,e.local),l=a+"",o===l?null:o===n&&l===s?i:(s=l,i=t(n=o,a)))}}function xU(e,t){var r=gf(e),n=r==="transform"?XF:GC;return this.attrTween(e,typeof t=="function"?(r.local?wU:yU)(r,n,Fv(this,"attr."+e,t)):t==null?(r.local?mU:pU)(r):(r.local?vU:gU)(r,n,t))}function bU(e,t){return function(r){this.setAttribute(e,t.call(this,r))}}function _U(e,t){return function(r){this.setAttributeNS(e.space,e.local,t.call(this,r))}}function SU(e,t){var r,n;function s(){var i=t.apply(this,arguments);return i!==n&&(r=(n=i)&&_U(e,i)),r}return s._value=t,s}function kU(e,t){var r,n;function s(){var i=t.apply(this,arguments);return i!==n&&(r=(n=i)&&bU(e,i)),r}return s._value=t,s}function EU(e,t){var r="attr."+e;if(arguments.length<2)return(r=this.tween(r))&&r._value;if(t==null)return this.tween(r,null);if(typeof t!="function")throw new Error;var n=gf(e);return this.tween(r,(n.local?SU:kU)(n,t))}function CU(e,t){return function(){Lv(this,e).delay=+t.apply(this,arguments)}}function NU(e,t){return t=+t,function(){Lv(this,e).delay=t}}function TU(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?CU:NU)(t,e)):Br(this.node(),t).delay}function RU(e,t){return function(){ln(this,e).duration=+t.apply(this,arguments)}}function jU(e,t){return t=+t,function(){ln(this,e).duration=t}}function AU(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?RU:jU)(t,e)):Br(this.node(),t).duration}function PU(e,t){if(typeof t!="function")throw new Error;return function(){ln(this,e).ease=t}}function OU(e){var t=this._id;return arguments.length?this.each(PU(t,e)):Br(this.node(),t).ease}function DU(e,t){return function(){var r=t.apply(this,arguments);if(typeof r!="function")throw new Error;ln(this,e).ease=r}}function IU(e){if(typeof e!="function")throw new Error;return this.each(DU(this._id,e))}function MU(e){typeof e!="function"&&(e=RC(e));for(var t=this._groups,r=t.length,n=new Array(r),s=0;s<r;++s)for(var i=t[s],o=i.length,a=n[s]=[],l,c=0;c<o;++c)(l=i[c])&&e.call(l,l.__data__,c,i)&&a.push(l);return new An(n,this._parents,this._name,this._id)}function $U(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,r=e._groups,n=t.length,s=r.length,i=Math.min(n,s),o=new Array(n),a=0;a<i;++a)for(var l=t[a],c=r[a],u=l.length,f=o[a]=new Array(u),p,h=0;h<u;++h)(p=l[h]||c[h])&&(f[h]=p);for(;a<n;++a)o[a]=t[a];return new An(o,this._parents,this._name,this._id)}function LU(e){return(e+"").trim().split(/^|\s+/).every(function(t){var r=t.indexOf(".");return r>=0&&(t=t.slice(0,r)),!t||t==="start"})}function FU(e,t,r){var n,s,i=LU(t)?Lv:ln;return function(){var o=i(this,e),a=o.on;a!==n&&(s=(n=a).copy()).on(t,r),o.on=s}}function UU(e,t){var r=this._id;return arguments.length<2?Br(this.node(),r).on.on(e):this.each(FU(r,e,t))}function zU(e){return function(){var t=this.parentNode;for(var r in this.__transition)if(+r!==e)return;t&&t.removeChild(this)}}function BU(){return this.on("end.remove",zU(this._id))}function WU(e){var t=this._name,r=this._id;typeof e!="function"&&(e=Ov(e));for(var n=this._groups,s=n.length,i=new Array(s),o=0;o<s;++o)for(var a=n[o],l=a.length,c=i[o]=new Array(l),u,f,p=0;p<l;++p)(u=a[p])&&(f=e.call(u,u.__data__,p,a))&&("__data__"in u&&(f.__data__=u.__data__),c[p]=f,yf(c[p],t,r,p,c,Br(u,r)));return new An(i,this._parents,t,r)}function VU(e){var t=this._name,r=this._id;typeof e!="function"&&(e=TC(e));for(var n=this._groups,s=n.length,i=[],o=[],a=0;a<s;++a)for(var l=n[a],c=l.length,u,f=0;f<c;++f)if(u=l[f]){for(var p=e.call(u,u.__data__,f,l),h,x=Br(u,r),v=0,y=p.length;v<y;++v)(h=p[v])&&yf(h,t,r,v,p,x);i.push(p),o.push(u)}return new An(i,o,t,r)}var qU=rc.prototype.constructor;function KU(){return new qU(this._groups,this._parents)}function HU(e,t){var r,n,s;return function(){var i=Ko(this,e),o=(this.style.removeProperty(e),Ko(this,e));return i===o?null:i===r&&o===n?s:s=t(r=i,n=o)}}function QC(e){return function(){this.style.removeProperty(e)}}function GU(e,t,r){var n,s=r+"",i;return function(){var o=Ko(this,e);return o===s?null:o===n?i:i=t(n=o,r)}}function QU(e,t,r){var n,s,i;return function(){var o=Ko(this,e),a=r(this),l=a+"";return a==null&&(l=a=(this.style.removeProperty(e),Ko(this,e))),o===l?null:o===n&&l===s?i:(s=l,i=t(n=o,a))}}function YU(e,t){var r,n,s,i="style."+t,o="end."+i,a;return function(){var l=ln(this,e),c=l.on,u=l.value[i]==null?a||(a=QC(t)):void 0;(c!==r||s!==u)&&(n=(r=c).copy()).on(o,s=u),l.on=n}}function ZU(e,t,r){var n=(e+="")=="transform"?ZF:GC;return t==null?this.styleTween(e,HU(e,n)).on("end.style."+e,QC(e)):typeof t=="function"?this.styleTween(e,QU(e,n,Fv(this,"style."+e,t))).each(YU(this._id,e)):this.styleTween(e,GU(e,n,t),r).on("end.style."+e,null)}function XU(e,t,r){return function(n){this.style.setProperty(e,t.call(this,n),r)}}function JU(e,t,r){var n,s;function i(){var o=t.apply(this,arguments);return o!==s&&(n=(s=o)&&XU(e,o,r)),n}return i._value=t,i}function ez(e,t,r){var n="style."+(e+="");if(arguments.length<2)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!="function")throw new Error;return this.tween(n,JU(e,t,r??""))}function tz(e){return function(){this.textContent=e}}function rz(e){return function(){var t=e(this);this.textContent=t??""}}function nz(e){return this.tween("text",typeof e=="function"?rz(Fv(this,"text",e)):tz(e==null?"":e+""))}function sz(e){return function(t){this.textContent=e.call(this,t)}}function iz(e){var t,r;function n(){var s=e.apply(this,arguments);return s!==r&&(t=(r=s)&&sz(s)),t}return n._value=e,n}function oz(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(e==null)return this.tween(t,null);if(typeof e!="function")throw new Error;return this.tween(t,iz(e))}function az(){for(var e=this._name,t=this._id,r=YC(),n=this._groups,s=n.length,i=0;i<s;++i)for(var o=n[i],a=o.length,l,c=0;c<a;++c)if(l=o[c]){var u=Br(l,t);yf(l,e,r,c,o,{time:u.time+u.delay+u.duration,delay:0,duration:u.duration,ease:u.ease})}return new An(n,this._parents,e,r)}function lz(){var e,t,r=this,n=r._id,s=r.size();return new Promise(function(i,o){var a={value:o},l={value:function(){--s===0&&i()}};r.each(function(){var c=ln(this,n),u=c.on;u!==e&&(t=(e=u).copy(),t._.cancel.push(a),t._.interrupt.push(a),t._.end.push(l)),c.on=t}),s===0&&i()})}var cz=0;function An(e,t,r,n){this._groups=e,this._parents=t,this._name=r,this._id=n}function YC(){return++cz}var dn=rc.prototype;An.prototype={constructor:An,select:WU,selectAll:VU,selectChild:dn.selectChild,selectChildren:dn.selectChildren,filter:MU,merge:$U,selection:KU,transition:az,call:dn.call,nodes:dn.nodes,node:dn.node,size:dn.size,empty:dn.empty,each:dn.each,on:UU,attr:xU,attrTween:EU,style:ZU,styleTween:ez,text:nz,textTween:oz,remove:BU,tween:hU,delay:TU,duration:AU,ease:OU,easeVarying:IU,end:lz,[Symbol.iterator]:dn[Symbol.iterator]};function tx(e){return e*(2-e)}function uz(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var dz={time:null,delay:0,duration:250,ease:uz};function fz(e,t){for(var r;!(r=e.__transition)||!(r=r[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return r}function hz(e){var t,r;e instanceof An?(t=e._id,e=e._name):(t=YC(),(r=dz).time=Mv(),e=e==null?null:e+"");for(var n=this._groups,s=n.length,i=0;i<s;++i)for(var o=n[i],a=o.length,l,c=0;c<a;++c)(l=o[c])&&yf(l,e,t,c,o,r||fz(l,t));return new An(n,this._parents,e,t)}rc.prototype.interrupt=uU;rc.prototype.transition=hz;function pz(e,t){var r,n=1;e==null&&(e=0),t==null&&(t=0);function s(){var i,o=r.length,a,l=0,c=0;for(i=0;i<o;++i)a=r[i],l+=a.x,c+=a.y;for(l=(l/o-e)*n,c=(c/o-t)*n,i=0;i<o;++i)a=r[i],a.x-=l,a.y-=c}return s.initialize=function(i){r=i},s.x=function(i){return arguments.length?(e=+i,s):e},s.y=function(i){return arguments.length?(t=+i,s):t},s.strength=function(i){return arguments.length?(n=+i,s):n},s}function mz(e){const t=+this._x.call(null,e),r=+this._y.call(null,e);return ZC(this.cover(t,r),t,r,e)}function ZC(e,t,r,n){if(isNaN(t)||isNaN(r))return e;var s,i=e._root,o={data:n},a=e._x0,l=e._y0,c=e._x1,u=e._y1,f,p,h,x,v,y,g,w;if(!i)return e._root=o,e;for(;i.length;)if((v=t>=(f=(a+c)/2))?a=f:c=f,(y=r>=(p=(l+u)/2))?l=p:u=p,s=i,!(i=i[g=y<<1|v]))return s[g]=o,e;if(h=+e._x.call(null,i.data),x=+e._y.call(null,i.data),t===h&&r===x)return o.next=i,s?s[g]=o:e._root=o,e;do s=s?s[g]=new Array(4):e._root=new Array(4),(v=t>=(f=(a+c)/2))?a=f:c=f,(y=r>=(p=(l+u)/2))?l=p:u=p;while((g=y<<1|v)===(w=(x>=p)<<1|h>=f));return s[w]=i,s[g]=o,e}function gz(e){var t,r,n=e.length,s,i,o=new Array(n),a=new Array(n),l=1/0,c=1/0,u=-1/0,f=-1/0;for(r=0;r<n;++r)isNaN(s=+this._x.call(null,t=e[r]))||isNaN(i=+this._y.call(null,t))||(o[r]=s,a[r]=i,s<l&&(l=s),s>u&&(u=s),i<c&&(c=i),i>f&&(f=i));if(l>u||c>f)return this;for(this.cover(l,c).cover(u,f),r=0;r<n;++r)ZC(this,o[r],a[r],e[r]);return this}function vz(e,t){if(isNaN(e=+e)||isNaN(t=+t))return this;var r=this._x0,n=this._y0,s=this._x1,i=this._y1;if(isNaN(r))s=(r=Math.floor(e))+1,i=(n=Math.floor(t))+1;else{for(var o=s-r||1,a=this._root,l,c;r>e||e>=s||n>t||t>=i;)switch(c=(t<n)<<1|e<r,l=new Array(4),l[c]=a,a=l,o*=2,c){case 0:s=r+o,i=n+o;break;case 1:r=s-o,i=n+o;break;case 2:s=r+o,n=i-o;break;case 3:r=s-o,n=i-o;break}this._root&&this._root.length&&(this._root=a)}return this._x0=r,this._y0=n,this._x1=s,this._y1=i,this}function yz(){var e=[];return this.visit(function(t){if(!t.length)do e.push(t.data);while(t=t.next)}),e}function wz(e){return arguments.length?this.cover(+e[0][0],+e[0][1]).cover(+e[1][0],+e[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]}function Rt(e,t,r,n,s){this.node=e,this.x0=t,this.y0=r,this.x1=n,this.y1=s}function xz(e,t,r){var n,s=this._x0,i=this._y0,o,a,l,c,u=this._x1,f=this._y1,p=[],h=this._root,x,v;for(h&&p.push(new Rt(h,s,i,u,f)),r==null?r=1/0:(s=e-r,i=t-r,u=e+r,f=t+r,r*=r);x=p.pop();)if(!(!(h=x.node)||(o=x.x0)>u||(a=x.y0)>f||(l=x.x1)<s||(c=x.y1)<i))if(h.length){var y=(o+l)/2,g=(a+c)/2;p.push(new Rt(h[3],y,g,l,c),new Rt(h[2],o,g,y,c),new Rt(h[1],y,a,l,g),new Rt(h[0],o,a,y,g)),(v=(t>=g)<<1|e>=y)&&(x=p[p.length-1],p[p.length-1]=p[p.length-1-v],p[p.length-1-v]=x)}else{var w=e-+this._x.call(null,h.data),b=t-+this._y.call(null,h.data),_=w*w+b*b;if(_<r){var S=Math.sqrt(r=_);s=e-S,i=t-S,u=e+S,f=t+S,n=h.data}}return n}function bz(e){if(isNaN(u=+this._x.call(null,e))||isNaN(f=+this._y.call(null,e)))return this;var t,r=this._root,n,s,i,o=this._x0,a=this._y0,l=this._x1,c=this._y1,u,f,p,h,x,v,y,g;if(!r)return this;if(r.length)for(;;){if((x=u>=(p=(o+l)/2))?o=p:l=p,(v=f>=(h=(a+c)/2))?a=h:c=h,t=r,!(r=r[y=v<<1|x]))return this;if(!r.length)break;(t[y+1&3]||t[y+2&3]||t[y+3&3])&&(n=t,g=y)}for(;r.data!==e;)if(s=r,!(r=r.next))return this;return(i=r.next)&&delete r.next,s?(i?s.next=i:delete s.next,this):t?(i?t[y]=i:delete t[y],(r=t[0]||t[1]||t[2]||t[3])&&r===(t[3]||t[2]||t[1]||t[0])&&!r.length&&(n?n[g]=r:this._root=r),this):(this._root=i,this)}function _z(e){for(var t=0,r=e.length;t<r;++t)this.remove(e[t]);return this}function Sz(){return this._root}function kz(){var e=0;return this.visit(function(t){if(!t.length)do++e;while(t=t.next)}),e}function Ez(e){var t=[],r,n=this._root,s,i,o,a,l;for(n&&t.push(new Rt(n,this._x0,this._y0,this._x1,this._y1));r=t.pop();)if(!e(n=r.node,i=r.x0,o=r.y0,a=r.x1,l=r.y1)&&n.length){var c=(i+a)/2,u=(o+l)/2;(s=n[3])&&t.push(new Rt(s,c,u,a,l)),(s=n[2])&&t.push(new Rt(s,i,u,c,l)),(s=n[1])&&t.push(new Rt(s,c,o,a,u)),(s=n[0])&&t.push(new Rt(s,i,o,c,u))}return this}function Cz(e){var t=[],r=[],n;for(this._root&&t.push(new Rt(this._root,this._x0,this._y0,this._x1,this._y1));n=t.pop();){var s=n.node;if(s.length){var i,o=n.x0,a=n.y0,l=n.x1,c=n.y1,u=(o+l)/2,f=(a+c)/2;(i=s[0])&&t.push(new Rt(i,o,a,u,f)),(i=s[1])&&t.push(new Rt(i,u,a,l,f)),(i=s[2])&&t.push(new Rt(i,o,f,u,c)),(i=s[3])&&t.push(new Rt(i,u,f,l,c))}r.push(n)}for(;n=r.pop();)e(n.node,n.x0,n.y0,n.x1,n.y1);return this}function Nz(e){return e[0]}function Tz(e){return arguments.length?(this._x=e,this):this._x}function Rz(e){return e[1]}function jz(e){return arguments.length?(this._y=e,this):this._y}function Uv(e,t,r){var n=new zv(t??Nz,r??Rz,NaN,NaN,NaN,NaN);return e==null?n:n.addAll(e)}function zv(e,t,r,n,s,i){this._x=e,this._y=t,this._x0=r,this._y0=n,this._x1=s,this._y1=i,this._root=void 0}function rx(e){for(var t={data:e.data},r=t;e=e.next;)r=r.next={data:e.data};return t}var $t=Uv.prototype=zv.prototype;$t.copy=function(){var e=new zv(this._x,this._y,this._x0,this._y0,this._x1,this._y1),t=this._root,r,n;if(!t)return e;if(!t.length)return e._root=rx(t),e;for(r=[{source:t,target:e._root=new Array(4)}];t=r.pop();)for(var s=0;s<4;++s)(n=t.source[s])&&(n.length?r.push({source:n,target:t.target[s]=new Array(4)}):t.target[s]=rx(n));return e};$t.add=mz;$t.addAll=gz;$t.cover=vz;$t.data=yz;$t.extent=wz;$t.find=xz;$t.remove=bz;$t.removeAll=_z;$t.root=Sz;$t.size=kz;$t.visit=Ez;$t.visitAfter=Cz;$t.x=Tz;$t.y=jz;function jt(e){return function(){return e}}function ms(e){return(e()-.5)*1e-6}function Az(e){return e.x+e.vx}function Pz(e){return e.y+e.vy}function Oz(e){var t,r,n,s=1,i=1;typeof e!="function"&&(e=jt(e==null?1:+e));function o(){for(var c,u=t.length,f,p,h,x,v,y,g=0;g<i;++g)for(f=Uv(t,Az,Pz).visitAfter(a),c=0;c<u;++c)p=t[c],v=r[p.index],y=v*v,h=p.x+p.vx,x=p.y+p.vy,f.visit(w);function w(b,_,S,C,E){var R=b.data,P=b.r,D=v+P;if(R){if(R.index>p.index){var W=h-R.x-R.vx,B=x-R.y-R.vy,Z=W*W+B*B;Z<D*D&&(W===0&&(W=ms(n),Z+=W*W),B===0&&(B=ms(n),Z+=B*B),Z=(D-(Z=Math.sqrt(Z)))/Z*s,p.vx+=(W*=Z)*(D=(P*=P)/(y+P)),p.vy+=(B*=Z)*D,R.vx-=W*(D=1-D),R.vy-=B*D)}return}return _>h+D||C<h-D||S>x+D||E<x-D}}function a(c){if(c.data)return c.r=r[c.data.index];for(var u=c.r=0;u<4;++u)c[u]&&c[u].r>c.r&&(c.r=c[u].r)}function l(){if(t){var c,u=t.length,f;for(r=new Array(u),c=0;c<u;++c)f=t[c],r[f.index]=+e(f,c,t)}}return o.initialize=function(c,u){t=c,n=u,l()},o.iterations=function(c){return arguments.length?(i=+c,o):i},o.strength=function(c){return arguments.length?(s=+c,o):s},o.radius=function(c){return arguments.length?(e=typeof c=="function"?c:jt(+c),l(),o):e},o}function Dz(e){return e.index}function nx(e,t){var r=e.get(t);if(!r)throw new Error("node not found: "+t);return r}function Iz(e){var t=Dz,r=f,n,s=jt(30),i,o,a,l,c,u=1;e==null&&(e=[]);function f(y){return 1/Math.min(a[y.source.index],a[y.target.index])}function p(y){for(var g=0,w=e.length;g<u;++g)for(var b=0,_,S,C,E,R,P,D;b<w;++b)_=e[b],S=_.source,C=_.target,E=C.x+C.vx-S.x-S.vx||ms(c),R=C.y+C.vy-S.y-S.vy||ms(c),P=Math.sqrt(E*E+R*R),P=(P-i[b])/P*y*n[b],E*=P,R*=P,C.vx-=E*(D=l[b]),C.vy-=R*D,S.vx+=E*(D=1-D),S.vy+=R*D}function h(){if(o){var y,g=o.length,w=e.length,b=new Map(o.map((S,C)=>[t(S,C,o),S])),_;for(y=0,a=new Array(g);y<w;++y)_=e[y],_.index=y,typeof _.source!="object"&&(_.source=nx(b,_.source)),typeof _.target!="object"&&(_.target=nx(b,_.target)),a[_.source.index]=(a[_.source.index]||0)+1,a[_.target.index]=(a[_.target.index]||0)+1;for(y=0,l=new Array(w);y<w;++y)_=e[y],l[y]=a[_.source.index]/(a[_.source.index]+a[_.target.index]);n=new Array(w),x(),i=new Array(w),v()}}function x(){if(o)for(var y=0,g=e.length;y<g;++y)n[y]=+r(e[y],y,e)}function v(){if(o)for(var y=0,g=e.length;y<g;++y)i[y]=+s(e[y],y,e)}return p.initialize=function(y,g){o=y,c=g,h()},p.links=function(y){return arguments.length?(e=y,h(),p):e},p.id=function(y){return arguments.length?(t=y,p):t},p.iterations=function(y){return arguments.length?(u=+y,p):u},p.strength=function(y){return arguments.length?(r=typeof y=="function"?y:jt(+y),x(),p):r},p.distance=function(y){return arguments.length?(s=typeof y=="function"?y:jt(+y),v(),p):s},p}const Mz=1664525,$z=1013904223,sx=4294967296;function Lz(){let e=1;return()=>(e=(Mz*e+$z)%sx)/sx}function Fz(e){return e.x}function Uz(e){return e.y}var zz=10,Bz=Math.PI*(3-Math.sqrt(5));function Wz(e){var t,r=1,n=.001,s=1-Math.pow(n,1/300),i=0,o=.6,a=new Map,l=$v(f),c=mf("tick","end"),u=Lz();e==null&&(e=[]);function f(){p(),c.call("tick",t),r<n&&(l.stop(),c.call("end",t))}function p(v){var y,g=e.length,w;v===void 0&&(v=1);for(var b=0;b<v;++b)for(r+=(i-r)*s,a.forEach(function(_){_(r)}),y=0;y<g;++y)w=e[y],w.fx==null?w.x+=w.vx*=o:(w.x=w.fx,w.vx=0),w.fy==null?w.y+=w.vy*=o:(w.y=w.fy,w.vy=0);return t}function h(){for(var v=0,y=e.length,g;v<y;++v){if(g=e[v],g.index=v,g.fx!=null&&(g.x=g.fx),g.fy!=null&&(g.y=g.fy),isNaN(g.x)||isNaN(g.y)){var w=zz*Math.sqrt(.5+v),b=v*Bz;g.x=w*Math.cos(b),g.y=w*Math.sin(b)}(isNaN(g.vx)||isNaN(g.vy))&&(g.vx=g.vy=0)}}function x(v){return v.initialize&&v.initialize(e,u),v}return h(),t={tick:p,restart:function(){return l.restart(f),t},stop:function(){return l.stop(),t},nodes:function(v){return arguments.length?(e=v,h(),a.forEach(x),t):e},alpha:function(v){return arguments.length?(r=+v,t):r},alphaMin:function(v){return arguments.length?(n=+v,t):n},alphaDecay:function(v){return arguments.length?(s=+v,t):+s},alphaTarget:function(v){return arguments.length?(i=+v,t):i},velocityDecay:function(v){return arguments.length?(o=1-v,t):1-o},randomSource:function(v){return arguments.length?(u=v,a.forEach(x),t):u},force:function(v,y){return arguments.length>1?(y==null?a.delete(v):a.set(v,x(y)),t):a.get(v)},find:function(v,y,g){var w=0,b=e.length,_,S,C,E,R;for(g==null?g=1/0:g*=g,w=0;w<b;++w)E=e[w],_=v-E.x,S=y-E.y,C=_*_+S*S,C<g&&(R=E,g=C);return R},on:function(v,y){return arguments.length>1?(c.on(v,y),t):c.on(v)}}}function Vz(){var e,t,r,n,s=jt(-30),i,o=1,a=1/0,l=.81;function c(h){var x,v=e.length,y=Uv(e,Fz,Uz).visitAfter(f);for(n=h,x=0;x<v;++x)t=e[x],y.visit(p)}function u(){if(e){var h,x=e.length,v;for(i=new Array(x),h=0;h<x;++h)v=e[h],i[v.index]=+s(v,h,e)}}function f(h){var x=0,v,y,g=0,w,b,_;if(h.length){for(w=b=_=0;_<4;++_)(v=h[_])&&(y=Math.abs(v.value))&&(x+=v.value,g+=y,w+=y*v.x,b+=y*v.y);h.x=w/g,h.y=b/g}else{v=h,v.x=v.data.x,v.y=v.data.y;do x+=i[v.data.index];while(v=v.next)}h.value=x}function p(h,x,v,y){if(!h.value)return!0;var g=h.x-t.x,w=h.y-t.y,b=y-x,_=g*g+w*w;if(b*b/l<_)return _<a&&(g===0&&(g=ms(r),_+=g*g),w===0&&(w=ms(r),_+=w*w),_<o&&(_=Math.sqrt(o*_)),t.vx+=g*h.value*n/_,t.vy+=w*h.value*n/_),!0;if(h.length||_>=a)return;(h.data!==t||h.next)&&(g===0&&(g=ms(r),_+=g*g),w===0&&(w=ms(r),_+=w*w),_<o&&(_=Math.sqrt(o*_)));do h.data!==t&&(b=i[h.data.index]*n/_,t.vx+=g*b,t.vy+=w*b);while(h=h.next)}return c.initialize=function(h,x){e=h,r=x,u()},c.strength=function(h){return arguments.length?(s=typeof h=="function"?h:jt(+h),u(),c):s},c.distanceMin=function(h){return arguments.length?(o=h*h,c):Math.sqrt(o)},c.distanceMax=function(h){return arguments.length?(a=h*h,c):Math.sqrt(a)},c.theta=function(h){return arguments.length?(l=h*h,c):Math.sqrt(l)},c}function qz(e){var t=jt(.1),r,n,s;typeof e!="function"&&(e=jt(e==null?0:+e));function i(a){for(var l=0,c=r.length,u;l<c;++l)u=r[l],u.vx+=(s[l]-u.x)*n[l]*a}function o(){if(r){var a,l=r.length;for(n=new Array(l),s=new Array(l),a=0;a<l;++a)n[a]=isNaN(s[a]=+e(r[a],a,r))?0:+t(r[a],a,r)}}return i.initialize=function(a){r=a,o()},i.strength=function(a){return arguments.length?(t=typeof a=="function"?a:jt(+a),o(),i):t},i.x=function(a){return arguments.length?(e=typeof a=="function"?a:jt(+a),o(),i):e},i}function Kz(e){var t=jt(.1),r,n,s;typeof e!="function"&&(e=jt(e==null?0:+e));function i(a){for(var l=0,c=r.length,u;l<c;++l)u=r[l],u.vy+=(s[l]-u.y)*n[l]*a}function o(){if(r){var a,l=r.length;for(n=new Array(l),s=new Array(l),a=0;a<l;++a)n[a]=isNaN(s[a]=+e(r[a],a,r))?0:+t(r[a],a,r)}}return i.initialize=function(a){r=a,o()},i.strength=function(a){return arguments.length?(t=typeof a=="function"?a:jt(+a),o(),i):t},i.y=function(a){return arguments.length?(e=typeof a=="function"?a:jt(+a),o(),i):e},i}const zc=e=>()=>e;function Hz(e,{sourceEvent:t,target:r,transform:n,dispatch:s}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},target:{value:r,enumerable:!0,configurable:!0},transform:{value:n,enumerable:!0,configurable:!0},_:{value:s}})}function _n(e,t,r){this.k=e,this.x=t,this.y=r}_n.prototype={constructor:_n,scale:function(e){return e===1?this:new _n(this.k*e,this.x,this.y)},translate:function(e,t){return e===0&t===0?this:new _n(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var cd=new _n(1,0,0);_n.prototype;function kh(e){e.stopImmediatePropagation()}function ya(e){e.preventDefault(),e.stopImmediatePropagation()}function Gz(e){return(!e.ctrlKey||e.type==="wheel")&&!e.button}function Qz(){var e=this;return e instanceof SVGElement?(e=e.ownerSVGElement||e,e.hasAttribute("viewBox")?(e=e.viewBox.baseVal,[[e.x,e.y],[e.x+e.width,e.y+e.height]]):[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]):[[0,0],[e.clientWidth,e.clientHeight]]}function ix(){return this.__zoom||cd}function Yz(e){return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*(e.ctrlKey?10:1)}function Zz(){return navigator.maxTouchPoints||"ontouchstart"in this}function Xz(e,t,r){var n=e.invertX(t[0][0])-r[0][0],s=e.invertX(t[1][0])-r[1][0],i=e.invertY(t[0][1])-r[0][1],o=e.invertY(t[1][1])-r[1][1];return e.translate(s>n?(n+s)/2:Math.min(0,n)||Math.max(0,s),o>i?(i+o)/2:Math.min(0,i)||Math.max(0,o))}function Jz(){var e=Gz,t=Qz,r=Xz,n=Yz,s=Zz,i=[0,1/0],o=[[-1/0,-1/0],[1/0,1/0]],a=250,l=rU,c=mf("start","zoom","end"),u,f,p,h=500,x=150,v=0,y=10;function g(N){N.property("__zoom",ix).on("wheel.zoom",R,{passive:!1}).on("mousedown.zoom",P).on("dblclick.zoom",D).filter(s).on("touchstart.zoom",W).on("touchmove.zoom",B).on("touchend.zoom touchcancel.zoom",Z).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}g.transform=function(N,L,O,$){var j=N.selection?N.selection():N;j.property("__zoom",ix),N!==j?S(N,L,O,$):j.interrupt().each(function(){C(this,arguments).event($).start().zoom(null,typeof L=="function"?L.apply(this,arguments):L).end()})},g.scaleBy=function(N,L,O,$){g.scaleTo(N,function(){var j=this.__zoom.k,k=typeof L=="function"?L.apply(this,arguments):L;return j*k},O,$)},g.scaleTo=function(N,L,O,$){g.transform(N,function(){var j=t.apply(this,arguments),k=this.__zoom,A=O==null?_(j):typeof O=="function"?O.apply(this,arguments):O,U=k.invert(A),M=typeof L=="function"?L.apply(this,arguments):L;return r(b(w(k,M),A,U),j,o)},O,$)},g.translateBy=function(N,L,O,$){g.transform(N,function(){return r(this.__zoom.translate(typeof L=="function"?L.apply(this,arguments):L,typeof O=="function"?O.apply(this,arguments):O),t.apply(this,arguments),o)},null,$)},g.translateTo=function(N,L,O,$,j){g.transform(N,function(){var k=t.apply(this,arguments),A=this.__zoom,U=$==null?_(k):typeof $=="function"?$.apply(this,arguments):$;return r(cd.translate(U[0],U[1]).scale(A.k).translate(typeof L=="function"?-L.apply(this,arguments):-L,typeof O=="function"?-O.apply(this,arguments):-O),k,o)},$,j)};function w(N,L){return L=Math.max(i[0],Math.min(i[1],L)),L===N.k?N:new _n(L,N.x,N.y)}function b(N,L,O){var $=L[0]-O[0]*N.k,j=L[1]-O[1]*N.k;return $===N.x&&j===N.y?N:new _n(N.k,$,j)}function _(N){return[(+N[0][0]+ +N[1][0])/2,(+N[0][1]+ +N[1][1])/2]}function S(N,L,O,$){N.on("start.zoom",function(){C(this,arguments).event($).start()}).on("interrupt.zoom end.zoom",function(){C(this,arguments).event($).end()}).tween("zoom",function(){var j=this,k=arguments,A=C(j,k).event($),U=t.apply(j,k),M=O==null?_(U):typeof O=="function"?O.apply(j,k):O,Q=Math.max(U[1][0]-U[0][0],U[1][1]-U[0][1]),q=j.__zoom,X=typeof L=="function"?L.apply(j,k):L,z=l(q.invert(M).concat(Q/q.k),X.invert(M).concat(Q/X.k));return function(F){if(F===1)F=X;else{var te=z(F),re=Q/te[2];F=new _n(re,M[0]-te[0]*re,M[1]-te[1]*re)}A.zoom(null,F)}})}function C(N,L,O){return!O&&N.__zooming||new E(N,L)}function E(N,L){this.that=N,this.args=L,this.active=0,this.sourceEvent=null,this.extent=t.apply(N,L),this.taps=0}E.prototype={event:function(N){return N&&(this.sourceEvent=N),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(N,L){return this.mouse&&N!=="mouse"&&(this.mouse[1]=L.invert(this.mouse[0])),this.touch0&&N!=="touch"&&(this.touch0[1]=L.invert(this.touch0[0])),this.touch1&&N!=="touch"&&(this.touch1[1]=L.invert(this.touch1[0])),this.that.__zoom=L,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(N){var L=Yt(this.that).datum();c.call(N,this.that,new Hz(N,{sourceEvent:this.sourceEvent,target:g,type:N,transform:this.that.__zoom,dispatch:c}),L)}};function R(N,...L){if(!e.apply(this,arguments))return;var O=C(this,L).event(N),$=this.__zoom,j=Math.max(i[0],Math.min(i[1],$.k*Math.pow(2,n.apply(this,arguments)))),k=zs(N);if(O.wheel)(O.mouse[0][0]!==k[0]||O.mouse[0][1]!==k[1])&&(O.mouse[1]=$.invert(O.mouse[0]=k)),clearTimeout(O.wheel);else{if($.k===j)return;O.mouse=[k,$.invert(k)],du(this),O.start()}ya(N),O.wheel=setTimeout(A,x),O.zoom("mouse",r(b(w($,j),O.mouse[0],O.mouse[1]),O.extent,o));function A(){O.wheel=null,O.end()}}function P(N,...L){if(p||!e.apply(this,arguments))return;var O=N.currentTarget,$=C(this,L,!0).event(N),j=Yt(N.view).on("mousemove.zoom",M,!0).on("mouseup.zoom",Q,!0),k=zs(N,O),A=N.clientX,U=N.clientY;RF(N.view),kh(N),$.mouse=[k,this.__zoom.invert(k)],du(this),$.start();function M(q){if(ya(q),!$.moved){var X=q.clientX-A,z=q.clientY-U;$.moved=X*X+z*z>v}$.event(q).zoom("mouse",r(b($.that.__zoom,$.mouse[0]=zs(q,O),$.mouse[1]),$.extent,o))}function Q(q){j.on("mousemove.zoom mouseup.zoom",null),jF(q.view,$.moved),ya(q),$.event(q).end()}}function D(N,...L){if(e.apply(this,arguments)){var O=this.__zoom,$=zs(N.changedTouches?N.changedTouches[0]:N,this),j=O.invert($),k=O.k*(N.shiftKey?.5:2),A=r(b(w(O,k),$,j),t.apply(this,L),o);ya(N),a>0?Yt(this).transition().duration(a).call(S,A,$,N):Yt(this).call(g.transform,A,$,N)}}function W(N,...L){if(e.apply(this,arguments)){var O=N.touches,$=O.length,j=C(this,L,N.changedTouches.length===$).event(N),k,A,U,M;for(kh(N),A=0;A<$;++A)U=O[A],M=zs(U,this),M=[M,this.__zoom.invert(M),U.identifier],j.touch0?!j.touch1&&j.touch0[2]!==M[2]&&(j.touch1=M,j.taps=0):(j.touch0=M,k=!0,j.taps=1+!!u);u&&(u=clearTimeout(u)),k&&(j.taps<2&&(f=M[0],u=setTimeout(function(){u=null},h)),du(this),j.start())}}function B(N,...L){if(this.__zooming){var O=C(this,L).event(N),$=N.changedTouches,j=$.length,k,A,U,M;for(ya(N),k=0;k<j;++k)A=$[k],U=zs(A,this),O.touch0&&O.touch0[2]===A.identifier?O.touch0[0]=U:O.touch1&&O.touch1[2]===A.identifier&&(O.touch1[0]=U);if(A=O.that.__zoom,O.touch1){var Q=O.touch0[0],q=O.touch0[1],X=O.touch1[0],z=O.touch1[1],F=(F=X[0]-Q[0])*F+(F=X[1]-Q[1])*F,te=(te=z[0]-q[0])*te+(te=z[1]-q[1])*te;A=w(A,Math.sqrt(F/te)),U=[(Q[0]+X[0])/2,(Q[1]+X[1])/2],M=[(q[0]+z[0])/2,(q[1]+z[1])/2]}else if(O.touch0)U=O.touch0[0],M=O.touch0[1];else return;O.zoom("touch",r(b(A,U,M),O.extent,o))}}function Z(N,...L){if(this.__zooming){var O=C(this,L).event(N),$=N.changedTouches,j=$.length,k,A;for(kh(N),p&&clearTimeout(p),p=setTimeout(function(){p=null},h),k=0;k<j;++k)A=$[k],O.touch0&&O.touch0[2]===A.identifier?delete O.touch0:O.touch1&&O.touch1[2]===A.identifier&&delete O.touch1;if(O.touch1&&!O.touch0&&(O.touch0=O.touch1,delete O.touch1),O.touch0)O.touch0[1]=this.__zoom.invert(O.touch0[0]);else if(O.end(),O.taps===2&&(A=zs(A,this),Math.hypot(f[0]-A[0],f[1]-A[1])<y)){var U=Yt(this).on("dblclick.zoom");U&&U.apply(this,arguments)}}}return g.wheelDelta=function(N){return arguments.length?(n=typeof N=="function"?N:zc(+N),g):n},g.filter=function(N){return arguments.length?(e=typeof N=="function"?N:zc(!!N),g):e},g.touchable=function(N){return arguments.length?(s=typeof N=="function"?N:zc(!!N),g):s},g.extent=function(N){return arguments.length?(t=typeof N=="function"?N:zc([[+N[0][0],+N[0][1]],[+N[1][0],+N[1][1]]]),g):t},g.scaleExtent=function(N){return arguments.length?(i[0]=+N[0],i[1]=+N[1],g):[i[0],i[1]]},g.translateExtent=function(N){return arguments.length?(o[0][0]=+N[0][0],o[1][0]=+N[1][0],o[0][1]=+N[0][1],o[1][1]=+N[1][1],g):[[o[0][0],o[0][1]],[o[1][0],o[1][1]]]},g.constrain=function(N){return arguments.length?(r=N,g):r},g.duration=function(N){return arguments.length?(a=+N,g):a},g.interpolate=function(N){return arguments.length?(l=N,g):l},g.on=function(){var N=c.on.apply(c,arguments);return N===c?g:N},g.clickDistance=function(N){return arguments.length?(v=(N=+N)*N,g):Math.sqrt(v)},g.tapDistance=function(N){return arguments.length?(y=+N,g):y},g}const e8=({nodes:e,links:t,dimensions:r,onTick:n})=>{const s=m.useRef(null),i=m.useRef(e),o=m.useRef(t);m.useEffect(()=>{i.current=e,o.current=t},[e,t]);const a=m.useCallback(()=>{if(s.current&&s.current.stop(),e.length===0)return;const h=Wz(e).force("link",Iz(t).id(x=>x.id).distance(100).strength(.2)).force("charge",Vz().strength(-180).distanceMin(25).distanceMax(300)).force("center",pz(r.width/2,r.height/2).strength(.03)).force("collision",Oz().radius(28).strength(.6)).force("x",qz(r.width/2).strength(.015)).force("y",Kz(r.height/2).strength(.015)).alphaDecay(.015).velocityDecay(.4);return h.on("tick",n),s.current=h,h},[e,t,r,n]),l=m.useCallback((h=.3)=>{var x;(x=s.current)==null||x.alphaTarget(h).restart(),setTimeout(()=>{var v;(v=s.current)==null||v.alphaTarget(0)},300)},[]),c=m.useCallback(h=>{s.current&&(s.current.alphaTarget(.2).restart(),h.fx=h.x,h.fy=h.y)},[]),u=m.useCallback((h,x,v)=>{h.fx=x,h.fy=v},[]),f=m.useCallback(h=>{s.current&&(s.current.alphaTarget(0),h.fx=null,h.fy=null)},[]),p=m.useCallback(()=>{var h;(h=s.current)==null||h.stop()},[]);return m.useEffect(()=>()=>{var h;(h=s.current)==null||h.stop()},[]),{simulation:s,initSimulation:a,reheat:l,dragStart:c,drag:u,dragEnd:f,stop:p}},t8=({svgRef:e,containerRef:t,minScale:r=.2,maxScale:n=5,onZoom:s})=>{const i=m.useRef(null),o=m.useRef(cd),a=m.useCallback(()=>{if(!e.current||!t.current)return;const h=Yt(e.current),x=Yt(t.current);h.on(".zoom",null);const v=Jz().scaleExtent([r,n]).filter(y=>{if(y.type==="wheel")return!0;if(y.type==="mousedown"||y.type==="touchstart"){const g=y.target;return g.tagName==="svg"||g.classList.contains("graph-background")}return!0}).on("zoom",y=>{o.current=y.transform,x.attr("transform",y.transform.toString()),s==null||s(y.transform)});return h.call(v),i.current=v,v},[e,t,r,n,s]),l=m.useCallback(()=>{if(!e.current||!i.current)return;Yt(e.current).transition().duration(200).ease(tx).call(i.current.scaleBy,1.3)},[e]),c=m.useCallback(()=>{if(!e.current||!i.current)return;Yt(e.current).transition().duration(200).ease(tx).call(i.current.scaleBy,.75)},[e]),u=m.useCallback(()=>{if(!e.current||!i.current)return;Yt(e.current).transition().duration(500).call(i.current.transform,cd)},[e]),f=m.useCallback(()=>o.current.k,[]),p=m.useCallback(()=>o.current,[]);return m.useEffect(()=>{const h=e.current;return()=>{h&&Yt(h).on(".zoom",null)}},[e]),{initZoom:a,zoomIn:l,zoomOut:c,resetZoom:u,getScale:f,getCurrentTransform:p,transform:o}},ox=6,XC=({pages:e,pagesIndexed:t,className:r,domain:n,edges:s})=>{const i=m.useRef(null),o=m.useRef(null),a=m.useRef(null),[l,c]=m.useState({width:280,height:200}),[u,f]=m.useState(null),[p,h]=m.useState(1),[,x]=m.useState({}),[v,y]=m.useState(null),g=m.useRef({isDragging:!1,startX:0,startY:0,hasMoved:!1}),w=m.useRef({nodes:[],links:[]}),b=m.useRef(0),_=m.useMemo(()=>{const z=(s==null?void 0:s.length)||0,F=w.current.links.length,te=z!==F,re=((s==null?void 0:s.length)??0)>0&&F===0;if(e.length!==w.current.nodes.length||t>b.current||t===0||te||re){b.current=t;const ne=q5(e,t,l,n,s),fe=w.current.nodes;ne.nodes.forEach(_e=>{const Pe=fe.find(I=>I.id===_e.id);Pe&&Pe.x!==void 0&&Pe.y!==void 0&&(_e.x=Pe.x,_e.y=Pe.y,_e.vx=Pe.vx||0,_e.vy=Pe.vy||0)}),w.current=ne}return w.current},[e,t,l,n,s]),{nodes:S,links:C}=_,E=m.useCallback(()=>{x({})},[]),{initSimulation:R,dragStart:P,drag:D,dragEnd:W,stop:B,reheat:Z}=e8({nodes:S,links:C,dimensions:l,onTick:E}),{initZoom:N,zoomIn:L,zoomOut:O,getCurrentTransform:$}=t8({svgRef:o,containerRef:a,onZoom:z=>h(z.k)});m.useEffect(()=>{if(!i.current)return;const z=new ResizeObserver(F=>{for(const te of F){const{width:re,height:J}=te.contentRect;re>0&&J>0&&c({width:re,height:J})}});return z.observe(i.current),()=>z.disconnect()},[]),m.useEffect(()=>{N()},[N]),m.useEffect(()=>(S.length>0&&(R(),t>0&&Z(.1)),()=>B()),[S.length,R,B,Z,t]);const j=m.useCallback((z,F)=>{if(g.current.hasMoved){F.stopPropagation();return}z.url&&window.open(z.url,"_blank","noopener,noreferrer")},[]),k=m.useCallback((z,F)=>{f(z.id);const te=$(),re=(z.x||0)*te.k+te.x,J=(z.y||0)*te.k+te.y;y({node:z,x:re,y:J})},[$]),A=m.useCallback(()=>{f(null),y(null)},[]),U=m.useCallback((z,F)=>{F.stopPropagation(),F.preventDefault();const te=o.current;if(!te)return;g.current={isDragging:!0,startX:F.clientX,startY:F.clientY,hasMoved:!1},P(z);const re=ne=>{const fe=Math.abs(ne.clientX-g.current.startX),_e=Math.abs(ne.clientY-g.current.startY);(fe>ox||_e>ox)&&(g.current.hasMoved=!0);const Pe=te.getBoundingClientRect(),I=$(),G=(ne.clientX-Pe.left-I.x)/I.k,he=(ne.clientY-Pe.top-I.y)/I.k;D(z,G,he),y({node:z,x:ne.clientX-Pe.left,y:ne.clientY-Pe.top})},J=()=>{W(z),document.removeEventListener("pointermove",re),document.removeEventListener("pointerup",J),setTimeout(()=>{g.current.isDragging=!1,g.current.hasMoved=!1},50)};document.addEventListener("pointermove",re),document.addEventListener("pointerup",J)},[P,D,W,$]),M=m.useMemo(()=>u?K5(u,C):new Set,[u,C]),Q=p>.5,q=Math.max(4,Math.min(22,10/p)),X=Math.round(22+p*8);return d.jsxs("div",{ref:i,className:K("relative w-full aspect-square rounded-lg bg-background/30 border border-border/50 overflow-hidden",r),children:[d.jsxs("svg",{ref:o,width:l.width,height:l.height,className:"absolute inset-0",style:{cursor:"grab"},children:[d.jsx("rect",{className:"graph-background",width:l.width,height:l.height,fill:"transparent"}),d.jsxs("g",{ref:a,children:[C.map((z,F)=>{const te=z.source,re=z.target;if(!te.x||!te.y||!re.x||!re.y)return null;const J=typeof z.source=="object"?te.id:z.source,ne=typeof z.target=="object"?re.id:z.target,fe=u&&(J===u||ne===u),_e=u&&!fe;return d.jsx("line",{x1:te.x,y1:te.y,x2:re.x,y2:re.y,stroke:fe?"hsl(var(--primary))":"hsl(var(--border))",strokeOpacity:_e?.15:fe?.9:.4,strokeWidth:fe?2:1,style:{transition:"stroke-opacity 200ms ease, stroke 200ms ease, stroke-width 200ms ease"}},`link-${F}`)}),S.map(z=>{if(z.x===void 0||z.y===void 0)return null;const F=u===z.id,te=M.has(z.id),re=u&&!te,J=z.title.length>X?z.title.slice(0,X-2)+"":z.title,ne=q*.55,fe=Math.max(2,q*.5),_e=Math.max(1,q*.35),Pe=J.length*ne+fe*2,I=q+_e*2,he=-5-(5+q*.3)-q;return d.jsxs("g",{className:"node","data-node-id":z.id,transform:`translate(${z.x}, ${z.y})`,style:{cursor:g.current.isDragging?"grabbing":"grab",opacity:re?.2:1,transition:"opacity 200ms ease",touchAction:"none"},onMouseEnter:Se=>k(z,Se),onMouseLeave:A,onClick:Se=>j(z,Se),onPointerDown:Se=>U(z,Se),children:[(F||te)&&d.jsx("circle",{r:F?14:10,fill:$w(z.status),opacity:.15,style:{transition:"r 200ms ease, opacity 200ms ease"}}),d.jsx("circle",{r:F?8:5,fill:$w(z.status),stroke:"hsl(var(--background))",strokeWidth:1.5,style:{transition:"r 200ms ease"}}),(Q||F||te)&&d.jsxs(d.Fragment,{children:[d.jsx("rect",{x:-Pe/2,y:he-_e,width:Pe,height:I,rx:4,fill:"hsl(var(--background) / 0.9)",className:"pointer-events-none"}),d.jsx("text",{x:0,dy:he+q,textAnchor:"middle",fill:"hsl(var(--foreground))",fontSize:`${q}px`,fontWeight:F?500:400,opacity:F?1:.85,className:"pointer-events-none select-none",children:J})]})]},z.id)})]})]}),v&&d.jsxs("div",{className:"absolute z-20 px-2.5 py-1.5 text-xs max-w-[200px] bg-popover text-popover-foreground rounded-md shadow-lg border border-border pointer-events-none",style:{left:(()=>{const te=v.x+10;return te+200>l.width-10?l.width-200-10:te<10?10:te})(),top:(()=>{const te=v.y-42-8;return te<8?v.y+8:te+42>l.height-8?Math.max(8,l.height-42-8):te})(),transition:"opacity 150ms ease"},children:[d.jsx("div",{className:"font-medium break-words line-clamp-3",children:v.node.title}),v.node.url&&d.jsx("div",{className:"text-[10px] text-muted-foreground truncate opacity-75 mt-0.5",children:"Click to open"})]}),d.jsxs("div",{className:"absolute bottom-2 right-2 flex gap-1",children:[d.jsx("button",{onClick:L,className:"w-6 h-6 rounded bg-secondary/80 hover:bg-secondary text-xs flex items-center justify-center text-muted-foreground hover:text-foreground transition-colors",title:"Zoom in",children:d.jsx(kA,{className:"w-3.5 h-3.5"})}),d.jsx("button",{onClick:O,className:"w-6 h-6 rounded bg-secondary/80 hover:bg-secondary text-xs flex items-center justify-center text-muted-foreground hover:text-foreground transition-colors",title:"Zoom out",children:d.jsx(EA,{className:"w-3.5 h-3.5"})})]}),e.length===0&&d.jsx("div",{className:"absolute inset-0 flex items-center justify-center text-xs text-muted-foreground",children:d.jsxs("div",{className:"text-center px-4",children:[d.jsx("p",{className:"text-sm",children:"No sources added yet"}),d.jsx("p",{className:"text-xs mt-1 opacity-70",children:"Add a source to view the graph"})]})})]})},r8={async listBySource(e){const{data:t,error:r}=await ee.from("pages").select("*").eq("source_id",e).order("created_at",{ascending:!0});if(r)throw r;return t},async listByConversation(e){const{data:t}=await ee.from("sources").select("id").eq("conversation_id",e),r=(t??[]).map(i=>i.id);if(r.length===0)return[];const{data:n,error:s}=await ee.from("pages").select("*").in("source_id",r).eq("status","indexed").order("created_at",{ascending:!0});if(s)throw console.error("[pages] listByConversation error:",s.message),s;return n},async get(e){const{data:t,error:r}=await ee.from("pages").select("*").eq("id",e).single();if(r)throw r;return t}},n8={async listBySource(e){const{data:t}=await ee.from("pages").select("id, source_id").eq("source_id",e),{data:r}=await ee.from("sources").select("conversation_id").eq("id",e).single(),n=(r==null?void 0:r.conversation_id)??"",s=(t||[]).map(l=>l.id);if(s.length===0)return[];const{data:i,error:o}=await ee.from("page_edges").select("*").in("from_page_id",s);if(o)throw o;const a=new Map((t||[]).map(l=>[l.id,l]));return(i||[]).map(l=>{var c;return{...l,source_id:((c=a.get(l.from_page_id))==null?void 0:c.source_id)??"",conversation_id:n}})},async listByConversation(e){const{data:t}=await ee.from("sources").select("id").eq("conversation_id",e),r=(t??[]).map(l=>l.id);if(r.length===0)return[];const{data:n}=await ee.from("pages").select("id, source_id").in("source_id",r),s=(n||[]).map(l=>l.id);if(s.length===0)return[];const{data:i,error:o}=await ee.from("page_edges").select("*").in("from_page_id",s);if(o)throw console.error("[page_edges] listByConversation error:",o.message),o;const a=new Map((n||[]).map(l=>[l.id,l]));return(i||[]).map(l=>{var c;return{...l,source_id:((c=a.get(l.from_page_id))==null?void 0:c.source_id)??"",conversation_id:e}})}},Bv=(e,t)=>Pt({queryKey:["conversation-pages",e],queryFn:()=>{if(!e)throw new Error("Conversation ID required");return r8.listByConversation(e)},enabled:!!e,refetchInterval:t==null?void 0:t.refetchInterval}),JC=(e,t)=>Pt({queryKey:["conversation-page-edges",e],queryFn:()=>{if(!e)throw new Error("Conversation ID required");return n8.listByConversation(e)},enabled:!!e,refetchInterval:t==null?void 0:t.refetchInterval}),za={async listByConversation(e){const{data:t,error:r}=await ee.from("sources").select("*").eq("conversation_id",e).order("created_at",{ascending:!0});if(r)throw r;return t},async get(e){const{data:t,error:r}=await ee.from("sources").select("*").eq("id",e).single();if(r)throw r;return t},async create(e){const{data:{user:t}}=await ee.auth.getUser();if(!t)throw new Error("Authentication required");const r={...e,owner_id:t.id},{data:n,error:s}=await ee.from("sources").insert(r).select().single();if(s)throw s;return n},async update(e,t){const{data:r,error:n}=await ee.from("sources").update(t).eq("id",e).select().single();if(n)throw n;return r},async delete(e){const{error:t}=await ee.from("sources").delete().eq("id",e);if(t)throw t},async findConversationsWithUrl(e,t){let r=ee.from("sources").select("conversation_id, conversation:conversations(id, title, created_at)").eq("initial_url",e);t&&(r=r.neq("conversation_id",t));const{data:n,error:s}=await r;if(s)throw s;return(n||[]).map(i=>({conversationId:i.conversation_id,conversation:i.conversation}))}},Pn={async listBySource(e){const{data:t,error:r}=await ee.from("crawl_jobs").select("*").eq("source_id",e).order("created_at",{ascending:!1});if(r)throw r;return t},async listBySourceAndConversation(e,t){if(e.length===0)return[];const{data:r,error:n}=await ee.from("crawl_jobs").select("*").in("source_id",e).order("created_at",{ascending:!1});if(n)throw n;return r??[]},async listLatestMainBySources(e,t){if(e.length===0)return[];const{data:r,error:n}=await ee.from("crawl_jobs").select("*").in("source_id",e).is("explicit_crawl_urls",null).order("created_at",{ascending:!1});if(n)throw n;const s=r??[],i=new Map;for(const o of s)i.has(o.source_id)||i.set(o.source_id,o);return Array.from(i.values())},async get(e){const{data:t,error:r}=await ee.from("crawl_jobs").select("*").eq("id",e).single();if(r)throw r;return t},async getLatestMainBySource(e,t){const{data:r,error:n}=await ee.from("crawl_jobs").select("*").eq("source_id",e).is("explicit_crawl_urls",null).order("created_at",{ascending:!1}).limit(1).maybeSingle();if(n)throw n;return r},async getLatestWithExplicitUrlsBySource(e,t){const{data:r,error:n}=await ee.from("crawl_jobs").select("*").eq("source_id",t).not("explicit_crawl_urls","is",null).order("created_at",{ascending:!1}).limit(1).maybeSingle();if(n)throw n;return r},async create(e){var n,s;console.log("[crawl-job] create insert",{sourceId:(n=e.source_id)==null?void 0:n.slice(0,8),status:e.status});const{data:t,error:r}=await ee.from("crawl_jobs").insert(e).select().single();if(r)throw console.error("[crawl-job] create failed",{error:r.message,code:r.code}),r;return console.log("[crawl-job] create success",{jobId:(s=t.id)==null?void 0:s.slice(0,8)}),t},async update(e,t){const{data:r,error:n}=await ee.from("crawl_jobs").update(t).eq("id",e).select().single();if(n)throw n;return r}},wf={async list(e){return(await za.listByConversation(e)).map(r=>({conversation_id:r.conversation_id,source_id:r.id,created_at:r.created_at??new Date().toISOString(),source:r}))},async findConversationsWithSourceUrl(e,t){return za.findConversationsWithUrl(e,t)},async add(e,t,r){return r?{id:t,conversation_id:e,source_id:t}:((await Pn.listBySource(t)).find(i=>i.status==="queued"||i.status==="running")||await Pn.create({source_id:t,status:"queued",indexed_count:0,discovered_count:0,total_pages:null,error_message:null,started_at:null,completed_at:null,last_activity_at:null}),{id:t,conversation_id:e,source_id:t})},async remove(e,t){await za.delete(t)}};function Em(e){let t=e.trim();if(!t)return t;const r=t.indexOf("#");r>=0&&(t=t.slice(0,r));const n=t.indexOf("?");n>=0&&(t=t.slice(0,n)),t=t.trim(),t=t.replace(/^(https?:\/\/)+/i,""),t="https://"+t;try{const s=new URL(t);return s.hash="",s.search="",s.pathname.endsWith("/")&&s.pathname!=="/"&&(s.pathname=s.pathname.slice(0,-1)),s.toString()}catch{return t}}const eN=e=>Pt({queryKey:["conversation-sources",e],queryFn:()=>{if(!e)throw new Error("Conversation ID required");return wf.list(e)},enabled:!!e}),s8=()=>on({mutationFn:async({sourceUrl:e,excludeConversationId:t})=>wf.findConversationsWithSourceUrl(e,t)}),i8=()=>{const e=lr(),{user:t}=wr();return on({mutationFn:async({conversationId:r,sourceData:n})=>{if(!t)throw new Error("Authentication required");const s=Em(n.initial_url||""),i={...n,initial_url:s};if((await za.listByConversation(r)).some(c=>c.initial_url===s))throw new Error("This source is already added to this conversation");const l=await za.create({...i,conversation_id:r});return await wf.add(r,l.id,!1),l},onSuccess:(r,n)=>{e.setQueryData(["conversation-sources",n.conversationId],s=>{const i=s??[];return i.some(o=>o.source_id===r.id)?i:[...i,{conversation_id:n.conversationId,source_id:r.id,created_at:new Date().toISOString(),source:r}]}),e.invalidateQueries({queryKey:["conversation-sources",n.conversationId]}),e.invalidateQueries({queryKey:["crawl-jobs"]})}})},o8=()=>{const e=lr();return on({mutationFn:({conversationId:t,sourceId:r})=>wf.remove(t,r),onSuccess:(t,r)=>{e.invalidateQueries({queryKey:["conversation-sources",r.conversationId]})}})},Wv={async list(e){const{data:t,error:r}=await ee.from("messages").select("*, quotes(*, pages!quotes_page_id_fkey(source_id))").eq("conversation_id",e).order("created_at",{ascending:!0});if(r)throw r;return t??[]},async create(e){const{data:t,error:r}=await ee.from("messages").insert(e).select().single();if(r)throw r;return t},async update(e,t){const{data:r,error:n}=await ee.from("messages").update(t).eq("id",e).select().single();if(n)throw n;return r},async delete(e){const{error:t}=await ee.from("messages").delete().eq("id",e);if(t)throw t}},ud={async countBySource(e,t){const{data:r}=await ee.from("pages").select("id").eq("source_id",t),n=(r??[]).map(l=>l.id);if(n.length===0)return 0;const{data:s}=await ee.from("page_edges").select("id").in("from_page_id",n),i=(s??[]).map(l=>l.id);if(i.length===0)return 0;const{count:o,error:a}=await ee.from("encoded_discovered").select("*",{count:"exact",head:!0}).in("page_edge_id",i);return a?0:o??0},async countEncodedBySource(e,t){const{data:r}=await ee.from("pages").select("id").eq("source_id",t),n=(r??[]).map(l=>l.id);if(n.length===0)return 0;const{data:s}=await ee.from("page_edges").select("id").in("from_page_id",n),i=(s??[]).map(l=>l.id);if(i.length===0)return 0;const{count:o,error:a}=await ee.from("encoded_discovered").select("*",{count:"exact",head:!0}).in("page_edge_id",i).not("embedding","is",null);return a?0:o??0},async countsByConversation(e){const{data:t}=await ee.from("sources").select("id").eq("conversation_id",e),r=(t??[]).map(u=>u.id);if(r.length===0)return{};const{data:n}=await ee.from("pages").select("id, source_id").in("source_id",r),s=new Map((n??[]).map(u=>[u.id,u.source_id])),i=Array.from(s.keys());if(i.length===0)return{};const{data:o}=await ee.from("page_edges").select("id, from_page_id").in("from_page_id",i);if(!(o!=null&&o.length))return{};const a={},l=o.map(u=>u.id),{data:c}=await ee.from("encoded_discovered").select("page_edge_id").in("page_edge_id",l);for(const u of c??[]){const f=o.find(h=>h.id===u.page_edge_id),p=f?s.get(f.from_page_id):void 0;p&&(a[p]=(a[p]??0)+1)}return a},async countsEncodedByConversation(e){const{data:t}=await ee.from("sources").select("id").eq("conversation_id",e),r=(t??[]).map(u=>u.id);if(r.length===0)return{};const{data:n}=await ee.from("pages").select("id, source_id").in("source_id",r),s=new Map((n??[]).map(u=>[u.id,u.source_id])),i=Array.from(s.keys());if(i.length===0)return{};const{data:o}=await ee.from("page_edges").select("id, from_page_id").in("from_page_id",i);if(!(o!=null&&o.length))return{};const a=o.map(u=>u.id),{data:l}=await ee.from("encoded_discovered").select("page_edge_id").in("page_edge_id",a).not("embedding","is",null),c={};for(const u of l??[]){const f=o.find(h=>h.id===u.page_edge_id),p=f?s.get(f.from_page_id):void 0;p&&(c[p]=(c[p]??0)+1)}return c}};function Vv(e,t){return Pt({queryKey:["add-page-job",e,t],queryFn:()=>e&&t?Pn.getLatestWithExplicitUrlsBySource(e,t):Promise.resolve(null),enabled:!!e&&!!t})}function qv(e,t,r,n,s){return e&&!t?"crawl":t?r>0&&n<r?"indexing-chunks":s>0?"encoding-discovered":"indexing-chunks":"idle"}function tN(e,t,r,n,s,i){return t?"Responding":r?"Scraping Page":n||s?e==="indexing-chunks"?"Indexing Crawled Pages":e==="encoding-discovered"?"Encoding Discovered Pages":"Indexing Crawled Pages":i?"Scraping Page":"Crawling"}function rN({crawlDone:e,crawlTotal:t,chunksDone:r,chunksTotal:n,discoveredDone:s,discoveredTotal:i,phase:o,isDynamic:a=!1,isCrawling:l=!1,isResponding:c=!1,className:u}){const f=t>0?Math.min(1,e/t):0,p=n>0?Math.min(1,r/n):0,h=i>0?Math.min(1,s/i):0,x=o==="indexing-chunks"&&n===0,v=o==="encoding-discovered"&&i===0,y=c,g=y?1:o==="crawl"?f:o!=="idle"?1:0,w=y?1:o==="indexing-chunks"?x?1:p:o==="encoding-discovered"?1:0,b=y?1:o==="encoding-discovered"?v?1:h:0,_=!a;return d.jsx("div",{className:K("space-y-1",u),children:d.jsxs("div",{className:K("relative h-1.5 bg-muted/50 rounded-full overflow-hidden",c&&"animate-pulse"),children:[d.jsx("div",{className:"absolute inset-y-0 left-0 bg-primary/40 rounded-full transition-all duration-300",style:{width:`${g*100}%`}}),d.jsx("div",{className:K("absolute inset-y-0 left-0 rounded-full transition-all duration-500",_?"bg-amber-600":"bg-primary/60",x&&"animate-pulse opacity-80"),style:{width:`${w*100}%`}}),d.jsx("div",{className:K("absolute inset-y-0 left-0 rounded-full transition-all duration-500","bg-orange-700",v&&"animate-pulse opacity-90"),style:{width:`${b*100}%`}}),l&&o==="crawl"&&d.jsx("div",{className:"pointer-events-none absolute inset-0 bg-gradient-to-r from-transparent via-primary/30 to-transparent animate-shimmer"})]})})}const a8=({sources:e,className:t,conversationId:r,addingPageSourceId:n})=>{const[s,i]=m.useState(null),o=m.useMemo(()=>e.map(I=>I.id),[e]),{data:a=[]}=Pt({queryKey:["crawl-jobs-main-for-sources",o,r??""],queryFn:async()=>!r||o.length===0?[]:Pn.listLatestMainBySources(o,r),enabled:o.length>0&&!!r});eN(r);const{data:l}=Vv(r??null,n??null),{data:c=[],isLoading:u,error:f}=Bv(r),p=m.useRef(null),h=m.useRef(0);n?p.current!==n&&(h.current=c.filter(I=>I.source_id===n).length,p.current=n):p.current=null;const{data:x=[],isLoading:v,error:y}=JC(r),{data:g={}}=Pt({queryKey:["discovered-links-counts",r],queryFn:()=>r?ud.countsByConversation(r):{},enabled:!!r}),{data:w={}}=Pt({queryKey:["discovered-links-encoded-counts",r],queryFn:()=>r?ud.countsEncodedByConversation(r):{},enabled:!!r&&e.some(I=>I.crawlDepth==="dynamic")}),b=m.useMemo(()=>{const I=new Map;return a.forEach(G=>I.set(G.source_id,G)),I},[a]),_=m.useMemo(()=>e.map(I=>{const G=c.filter(Oe=>Oe.source_id===I.id),he=b.get(I.id);let Se="crawling",Ye=G.length,qe=G.length;if(he){n===I.id||he.status==="queued"||he.status==="running"||he.status==="indexing"?Se="crawling":he.status==="failed"?Se="error":he.status==="completed"&&(Se="ready");const Oe=he.indexed_count??he.pages_indexed??0;Ye=Math.max(Oe,G.length);const St=I.crawlDepth==="dynamic"||I.crawlDepth==="singular"?1:I.crawlDepth==="shallow"?5:I.crawlDepth==="medium"?15:35;if(I.crawlDepth==="dynamic")if(n===I.id){const kt=(l==null?void 0:l.status)==="encoding"||(l==null?void 0:l.status)==="completed",cn=h.current||G.length;qe=kt?G.length:cn+1}else qe=Math.max(G.length,1);else qe=St}else if(Se="crawling",Ye=G.length,I.crawlDepth==="dynamic")if(n===I.id){const Oe=(l==null?void 0:l.status)==="encoding"||(l==null?void 0:l.status)==="completed",St=h.current||G.length;qe=Oe?G.length:St+1}else qe=Math.max(G.length,1);else qe=1;return{...I,status:Se,pagesIndexed:Ye,totalPages:qe,discoveredPages:G.map(Oe=>({id:Oe.id,title:Oe.title||"Untitled",path:Oe.path,url:Oe.url,status:Oe.status||"indexed"}))}}),[e,b,c,n,l==null?void 0:l.status]),S=_.filter(I=>I.status==="crawling"),C=s?_.find(I=>I.id===s):null,E=C?[C]:_,R=E.reduce((I,G)=>{const he=g[G.id]??0,Se=b.get(G.id),Ye=Se?Se.discovered_count??0:0;return G.crawlDepth==="dynamic"?I+Math.max(Ye,he):I+Ye},0),P=E.reduce((I,G)=>I+G.pagesIndexed,0),D=E.reduce((I,G)=>I+(w[G.id]??0),0),W=S.length>0||!!n,B=E.some(I=>{var G;return((G=b.get(I.id))==null?void 0:G.status)==="indexing"}),Z=!!n&&E.some(I=>I.id===n),N=l==null?void 0:l.status,L=N==="queued",O=N==="indexing",$=N==="encoding",j=N==="completed"&&!!n,k=e.length>0,A=E.find(I=>{var G;return((G=b.get(I.id))==null?void 0:G.status)==="indexing"}),U=A?b.get(A.id):null,M=E.some(I=>I.crawlDepth==="dynamic"),Q=($||j)&&l,q=Q?l.encoding_chunks_done??0:(U==null?void 0:U.encoding_chunks_done)??0,X=Q?l.encoding_chunks_total??0:(U==null?void 0:U.encoding_chunks_total)??0,z=Q?l.encoding_discovered_done??0:(U==null?void 0:U.encoding_discovered_done)??0,F=Q?l.encoding_discovered_total??0:(U==null?void 0:U.encoding_discovered_total)??0,te=qv(W&&!C,B||$,X,q,F),re=tN(te,j,L||O,$,B,M),J=Z&&n?_.filter(I=>I.id===n):E;let ne=(s?c.filter(I=>I.source_id===s):c).map(I=>({id:I.id,title:I.title||"Untitled",path:I.path,status:I.status||"indexed",url:I.url}));if(E.length>0){const G=E[0].initial_url,he=Ye=>{if(!Ye)return"";try{const qe=new URL(Ye);return qe.hash="",qe.search="",qe.pathname!=="/"&&qe.pathname.endsWith("/")&&(qe.pathname=qe.pathname.slice(0,-1)),qe.toString().toLowerCase()}catch{return Ye.toLowerCase()}},Se=he(G);ne.sort((Ye,qe)=>{const Oe=he(Ye.url||""),St=he(qe.url||""),kt=Oe===Se,cn=St===Se;return kt&&!cn?-1:!kt&&cn?1:0})}if(W&&ne.length===0&&E.length>0){const I=E[0],G=I.initial_url;try{const he=new URL(G),Se=he.pathname||"/";ne=[{id:`placeholder-${I.id}`,title:ps(I)||he.hostname,path:Se,status:"crawling",url:G}]}catch{}}const fe=Math.max(ne.length,E.reduce((I,G)=>{const he=b.get(G.id),Se=he?he.indexed_count??0:0;return I+Se},0)),_e=C?ps(C):null,Pe=C==null?void 0:C.domain;return k?d.jsxs("div",{className:K("border-t border-border bg-card/50",t),children:[d.jsxs("div",{className:"p-3 space-y-2",children:[d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsx("span",{className:"text-[10px] font-medium text-muted-foreground uppercase tracking-wider",children:_e??"All Sources"}),W&&d.jsxs("span",{className:"text-[10px] text-primary flex items-center gap-1",children:[d.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-primary animate-pulse"}),re]})]}),e.length>1&&d.jsxs("div",{className:"flex gap-1 flex-wrap items-center",children:[d.jsx("button",{onClick:()=>i(null),className:K("px-2 py-1 text-[10px] rounded-full box-border h-6 shrink-0",s?"bg-secondary/50 text-muted-foreground hover:text-foreground hover:bg-secondary/70":"bg-primary text-primary-foreground ring-2 ring-primary ring-inset"),children:"All"}),e.map(I=>{const G=ps(I),he=G.charAt(0).toUpperCase()||"?",Se=e.length>=6;return d.jsx("button",{onClick:()=>i(I.id),title:G,className:K("px-2 py-1 text-[10px] rounded-full box-border h-6 shrink-0 min-w-0 flex items-center justify-center",s===I.id?"bg-primary text-primary-foreground ring-2 ring-primary ring-inset":"bg-secondary/50 text-muted-foreground hover:text-foreground hover:bg-secondary/70",Se?"w-6 px-0":"max-w-[180px] truncate"),children:Se?he:G},I.id)})]}),d.jsx(Wl,{children:d.jsxs("div",{className:K("grid gap-2",M?"grid-cols-3":"grid-cols-2"),children:[d.jsx(Eh,{label:"Discovered",value:R,highlight:W&&!C,tooltip:"Links found during crawl; for dynamic sources, grows when you add suggested pages (e.g. 2734)."}),d.jsx(Eh,{label:"Scraped",value:Z?J.reduce((I,G)=>I+G.pagesIndexed,0):P,highlight:W&&!C,tooltip:"Pages scraped and in the graph with searchable content."}),M&&d.jsx(Eh,{label:"Encoded Discovered",value:Math.max(D,z),highlight:j||te==="encoding-discovered"||(B||$)&&F>0,tooltip:"Links with embedded context; used for AI suggestions when adding pages."})]})}),(W&&!C||Z)&&(J.reduce((I,G)=>I+G.totalPages,0)||1)>0?d.jsx(rN,{crawlDone:Z?J.reduce((I,G)=>I+G.pagesIndexed,0):P,crawlTotal:J.reduce((I,G)=>I+G.totalPages,0)||1,chunksDone:q,chunksTotal:X,discoveredDone:z,discoveredTotal:F,phase:te,isDynamic:M,isCrawling:(W||Z)&&!B&&!$,isResponding:j}):null]}),d.jsx("div",{className:"px-3 pb-3",children:d.jsx(XC,{pages:ne,pagesIndexed:fe,domain:Pe,edges:x||[]})}),d.jsx("div",{className:"px-3 pb-3 space-y-1",children:_.map(I=>d.jsxs("button",{onClick:()=>i(s===I.id?null:I.id),className:K("w-full flex items-center gap-2 text-[11px] px-2 py-1.5 rounded text-left box-border h-8",s===I.id?"bg-primary/10 ring-1 ring-inset ring-primary/30":"bg-background/30 hover:bg-background/50"),children:[d.jsx("span",{className:K("w-1.5 h-1.5 rounded-full shrink-0",I.status==="ready"&&"bg-green-500",I.status==="crawling"&&"bg-primary animate-pulse",I.status==="error"&&"bg-destructive")}),d.jsx("span",{className:K("truncate",s===I.id?"text-foreground":"text-muted-foreground"),children:ps(I)}),I.crawlDepth==="dynamic"&&d.jsxs("span",{className:"shrink-0 inline-flex items-center gap-1",children:[d.jsxs("span",{className:"inline-flex items-center gap-0.5 px-1.5 py-0.5 rounded text-[9px] font-medium bg-primary/15 text-primary border border-primary/20",children:[d.jsx(zl,{className:"h-2.5 w-2.5"}),"Dynamic"]}),I.suggestionMode==="dive"?d.jsxs("span",{className:"inline-flex items-center gap-0.5 px-1.5 py-0.5 rounded text-[9px] font-medium bg-amber-500/15 text-amber-600 dark:text-amber-400 border border-amber-500/20",title:"Dive - fetches each linked page",children:[d.jsx(il,{className:"h-2.5 w-2.5"}),"Dive"]}):d.jsxs("span",{className:"inline-flex items-center gap-0.5 px-1.5 py-0.5 rounded text-[9px] font-medium bg-blue-500/15 text-blue-600 dark:text-blue-400 border border-blue-500/20",title:"Surface - uses link context",children:[d.jsx(ol,{className:"h-2.5 w-2.5"}),"Surface"]})]}),d.jsxs("span",{className:"ml-auto text-[10px] tabular-nums",title:I.status==="ready"&&I.pagesIndexed<I.totalPages?"No more linked pages found at depth 2":void 0,children:[I.pagesIndexed,"/",I.totalPages]})]},I.id))})]}):null},Eh=({label:e,value:t,highlight:r,tooltip:n})=>{const s=d.jsxs("div",{className:"text-center p-1.5 rounded bg-background/30 border border-border/30",children:[d.jsx("div",{className:K("text-xs font-mono font-semibold transition-colors duration-300",r?"text-primary":"text-foreground"),children:t}),d.jsx("div",{className:"text-[8px] text-muted-foreground uppercase tracking-wider",children:e})]});return n?d.jsxs(di,{children:[d.jsx(fi,{asChild:!0,children:s}),d.jsx(Cs,{side:"top",className:"max-w-[240px] text-xs",children:n})]}):s},l8=({conversations:e,activeConversationId:t,isOpen:r,onToggle:n,onNewChat:s,onSelectConversation:i,onDeleteConversation:o,currentSources:a=[],addingPageSourceId:l})=>{const c={today:e.filter(u=>{const f=new Date;return u.updatedAt.toDateString()===f.toDateString()}),yesterday:e.filter(u=>{const f=new Date;return f.setDate(f.getDate()-1),u.updatedAt.toDateString()===f.toDateString()}),older:e.filter(u=>{const f=new Date;return f.setDate(f.getDate()-1),u.updatedAt<f})};return d.jsx(d.Fragment,{children:d.jsxs("aside",{className:K("h-full bg-card flex flex-col overflow-hidden transition-opacity duration-200",r?"opacity-100":"opacity-0 pointer-events-none"),children:[d.jsxs("div",{className:"flex items-center justify-between h-16 px-4 border-b border-border shrink-0",children:[d.jsx(Te,{variant:"ghost",size:"icon",onClick:n,className:"text-muted-foreground hover:text-foreground hover:bg-secondary transition-none","aria-label":"Close sidebar",children:d.jsx(wA,{className:"h-5 w-5 transition-none"})}),d.jsxs(Te,{onClick:s,className:"bg-primary text-primary-foreground hover:bg-primary/90 gap-2",children:[d.jsx(Fu,{className:"h-4 w-4"}),"New chat"]})]}),d.jsxs(Hl,{className:"flex-1 px-2 py-4 scrollbar-thin",children:[c.today.length>0&&d.jsxs("div",{className:"mb-4",children:[d.jsx("p",{className:"px-3 py-2 text-xs font-medium text-muted-foreground uppercase tracking-wider",children:"Today"}),c.today.map(u=>d.jsx(Ch,{conversation:u,isActive:u.id===t,onSelect:()=>i(u.id),onDelete:()=>o(u.id)},u.id))]}),c.yesterday.length>0&&d.jsxs("div",{className:"mb-4",children:[d.jsx("p",{className:"px-3 py-2 text-xs font-medium text-muted-foreground uppercase tracking-wider",children:"Yesterday"}),c.yesterday.map(u=>d.jsx(Ch,{conversation:u,isActive:u.id===t,onSelect:()=>i(u.id),onDelete:()=>o(u.id)},u.id))]}),c.older.length>0&&d.jsxs("div",{className:"mb-4",children:[d.jsx("p",{className:"px-3 py-2 text-xs font-medium text-muted-foreground uppercase tracking-wider",children:"Previous"}),c.older.map(u=>d.jsx(Ch,{conversation:u,isActive:u.id===t,onSelect:()=>i(u.id),onDelete:()=>o(u.id)},u.id))]}),e.length===0&&d.jsx("p",{className:"px-3 py-8 text-sm text-muted-foreground text-center",children:"No conversations yet"})]}),d.jsx(a8,{sources:a,conversationId:t,addingPageSourceId:l}),d.jsx(V5,{})]})})},Ch=({conversation:e,isActive:t,onSelect:r,onDelete:n})=>{const[s,i]=m.useState(!1),[o,a]=m.useState(!1),l=u=>{u.stopPropagation(),i(!0)},c=async u=>{if(u.preventDefault(),!o){a(!0);try{await n(),i(!1)}catch(f){console.error("Failed to delete conversation:",f)}finally{a(!1)}}};return d.jsxs(d.Fragment,{children:[d.jsxs("div",{className:K("group flex items-center gap-2 px-3 py-2.5 rounded-lg cursor-pointer transition-colors",t?"bg-secondary text-foreground":"text-muted-foreground hover:bg-secondary/50 hover:text-foreground"),onClick:r,children:[d.jsx(yA,{className:"h-4 w-4 shrink-0"}),d.jsx("span",{className:"flex-1 truncate text-sm",children:e.title}),e.sources&&e.sources.length>0&&d.jsxs("div",{className:"flex items-center -space-x-1.5 shrink-0",children:[e.sources.slice(0,3).map((u,f)=>d.jsx("div",{className:"w-4 h-4 rounded-full bg-secondary border border-background flex items-center justify-center overflow-hidden",style:{zIndex:3-f},children:d.jsx("span",{className:"text-[8px] font-medium text-muted-foreground uppercase",children:ps(u).charAt(0)})},u.id)),e.sources.length>3&&d.jsx("div",{className:"w-4 h-4 rounded-full bg-muted border border-background flex items-center justify-center",style:{zIndex:0},children:d.jsxs("span",{className:"text-[7px] font-medium text-muted-foreground",children:["+",e.sources.length-3]})})]}),d.jsx(Te,{variant:"ghost",size:"icon",className:"h-7 w-7 opacity-0 group-hover:opacity-100 transition-opacity text-muted-foreground hover:text-destructive hover:bg-destructive/10",onClick:l,children:d.jsx(zg,{className:"h-3.5 w-3.5"})})]}),d.jsx(Pv,{open:s,onOpenChange:u=>!o&&i(u),children:d.jsxs(lf,{onInteractOutside:()=>!o&&i(!1),onEscapeKeyDown:()=>!o&&i(!1),children:[d.jsxs(cf,{children:[d.jsx(df,{children:"Delete conversation?"}),d.jsxs(ff,{children:['Are you sure you want to delete "',e.title,'"? This action cannot be undone.']})]}),d.jsxs(uf,{children:[d.jsx(pf,{disabled:o,children:"Cancel"}),d.jsx(hf,{onClick:c,className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:o?"Deleting":"Delete"})]})]})})]})},c8=({quote:e,refNumber:t,onClick:r})=>{const n=e.domain.charAt(0).toUpperCase();return d.jsx("button",{onClick:r,className:K("w-full text-left group relative","bg-secondary/40 hover:bg-secondary/60","border border-border/50 hover:border-primary/30","rounded-lg p-4 transition-all duration-200","hover:shadow-[0_0_20px_hsl(var(--primary)/0.1)]"),children:d.jsxs("div",{className:"flex items-start gap-3",children:[t!=null&&d.jsxs("span",{className:"px-1 py-0.5 rounded text-[11px] font-semibold bg-primary/15 text-primary border border-primary/25 tabular-nums shrink-0","aria-label":`Citation ${t}`,children:["[ ",t," ]"]}),d.jsxs("div",{className:"flex-1 min-w-0 space-y-3",children:[d.jsxs("p",{className:"text-base text-foreground/90 leading-relaxed line-clamp-3 font-serif italic",children:['"',e.snippet,'"']}),d.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[d.jsx("div",{className:"w-4 h-4 rounded-full flex items-center justify-center text-[9px] font-semibold bg-primary/20 text-primary",children:n}),d.jsx("span",{className:"font-medium text-foreground/70",children:e.domain}),d.jsx("span",{className:"text-muted-foreground/50",children:""}),d.jsx("span",{className:"truncate",children:uv(e.pageTitle,e.domain)}),d.jsx(Lu,{className:"h-3 w-3 ml-auto opacity-0 group-hover:opacity-100 transition-opacity"})]})]})]})})},ax=({quotes:e,onQuoteClick:t})=>e.length===0?null:d.jsxs("div",{className:"space-y-2 mt-4",children:[d.jsx("p",{className:"text-xs text-muted-foreground font-medium uppercase tracking-wide",children:"Evidence"}),d.jsx("div",{className:"space-y-2",children:e.map((r,n)=>d.jsx(c8,{quote:r,refNumber:n+1,onClick:()=>t(r)},r.id))})]});function u8(e){const t=new Set;return e.filter(r=>t.has(r.pageId)?!1:(t.add(r.pageId),!0))}const lx=({quotes:e,onQuoteClick:t})=>{const r=u8(e);return r.length===0?null:d.jsxs("div",{className:"flex flex-wrap items-center gap-2 mt-3 pt-3 border-t border-border/30",children:[d.jsx("span",{className:"text-[10px] text-muted-foreground uppercase tracking-wider font-medium shrink-0",children:"Pages cited"}),d.jsx("div",{className:"flex flex-wrap gap-1.5",children:r.map(n=>d.jsxs("button",{onClick:()=>t(n),className:K("flex items-center gap-1.5 px-2 py-1 rounded-md","bg-secondary/60 border border-border/30","hover:bg-secondary hover:border-primary/30","transition-all duration-200","text-[11px] font-medium text-muted-foreground hover:text-foreground","max-w-[180px] truncate"),title:`${n.pageTitle||n.pagePath}  ${n.domain}${n.pagePath}`,children:[d.jsx(bA,{className:"h-3 w-3 shrink-0 text-primary/70"}),d.jsx("span",{className:"truncate",children:uv(n.pageTitle)||n.pagePath||n.domain})]},n.pageId))})]})},d8=2e3;function f8(e){return e.replace(/\s*\[\d+\]\s*/g," ").replace(/  +/g," ").replace(/ +([.,;:!?])/g,"$1").replace(/\n{3,}/g,`

`).trim()}function h8(e,t){let r=e;if(t.length>0){const n=[`

References:`];for(let s=0;s<t.length;s++){const i=t[s],o=s+1,a=i.pageUrl??`https://${i.domain}${i.pagePath}`;n.push(`[${o}] "${i.snippet}"  ${i.pageTitle} (${a})`)}r+=n.join(`
`)}return r}const cx=({message:e,className:t})=>{const[r,n]=m.useState(!1),{copyIncludeEvidence:s,setCopyIncludeEvidence:i}=CC();m.useEffect(()=>{if(!r)return;const u=setTimeout(()=>n(!1),d8);return()=>clearTimeout(u)},[r]);const o=e.role==="user",a=e.quotes??[],l=()=>{const f=(o?!0:s)&&!o?h8(e.content,a):f8(e.content);navigator.clipboard.writeText(f).then(()=>n(!0),()=>{})},c=u=>i(u);return o?d.jsx(Te,{variant:"ghost",size:"icon",className:t,onClick:l,"aria-label":"Copy",children:r?d.jsx(zo,{className:"h-4 w-4 text-emerald-500"}):d.jsx(Np,{className:"h-4 w-4"})}):d.jsxs(dm,{children:[d.jsxs("div",{className:"flex items-center rounded-md border border-input bg-background",children:[d.jsx(Te,{variant:"ghost",size:"icon",className:t,onClick:l,"aria-label":"Copy",children:r?d.jsx(zo,{className:"h-4 w-4 text-emerald-500"}):d.jsx(Np,{className:"h-4 w-4"})}),d.jsx(fm,{asChild:!0,children:d.jsx(Te,{variant:"ghost",size:"icon",className:"h-8 w-8 shrink-0 px-0 focus:outline-none focus-visible:ring-0 focus-visible:ring-offset-0","aria-label":"Copy format",children:d.jsx(fA,{className:"h-4 w-4"})})})]}),d.jsxs(ed,{align:"end",children:[d.jsxs(es,{onClick:()=>c(!0),children:[s?" ":"","Copy with evidence"]}),d.jsxs(es,{onClick:()=>c(!1),children:[s?"":" ","Copy without evidence"]})]})]})},ux=({message:e,followUp:t,isStreaming:r,onQuoteClick:n,onAddSuggestedPage:s,conversationId:i})=>{var l,c;const o=e.role==="user",a=e.quotes||[];return d.jsx("div",{className:K("flex gap-4 px-4 py-6 animate-fade-in",o?"bg-transparent":"bg-chat-assistant"),children:d.jsxs("div",{className:"max-w-3xl mx-auto w-full flex gap-4",children:[d.jsx("div",{className:K("shrink-0 w-8 h-8 rounded-lg flex items-center justify-center",o?"bg-secondary":"bg-primary/20"),children:o?d.jsx(I1,{className:"h-4 w-4 text-foreground"}):d.jsx(O1,{className:"h-4 w-4 text-primary"})}),d.jsxs("div",{className:"flex-1 space-y-2 overflow-hidden",children:[d.jsxs("div",{className:"flex items-center justify-between gap-2",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:o?"You":"Scholia"}),!o&&e.wasMultiStep&&d.jsxs(di,{children:[d.jsx(fi,{asChild:!0,children:d.jsxs("span",{className:"inline-flex items-center gap-1 px-1.5 py-0.5 rounded text-[10px] font-medium bg-primary/10 text-primary border border-primary/20 cursor-help",tabIndex:0,children:[d.jsx(P1,{className:"h-3 w-3"}),"2-step"]})}),d.jsxs(Cs,{side:"bottom",className:"max-w-[240px]",children:[d.jsx("p",{className:"font-medium",children:"2-step query"}),d.jsx("p",{className:"text-muted-foreground text-xs mt-0.5",children:"Complex questions use a second retrieval round to gather more context before answering. This produces better answers but uses more credits."})]})]})]}),d.jsx(cx,{message:e,className:"h-8 w-8 shrink-0 opacity-70 hover:opacity-100"})]}),d.jsxs("div",{className:"prose prose-invert prose-sm max-w-none",children:[d.jsx(dx,{content:e.content,quotes:a,onQuoteClick:n}),r&&d.jsx("span",{className:"inline-block w-2 h-4 ml-1 bg-primary animate-pulse-glow"})]}),!o&&!r&&a.length>0&&n&&d.jsx(ax,{quotes:a,onQuoteClick:n}),!o&&!r&&a.length>0&&n&&d.jsx(lx,{quotes:a,onQuoteClick:n}),!o&&!r&&t&&d.jsxs(d.Fragment,{children:[d.jsx("div",{className:"my-4 h-px bg-border"}),d.jsxs("div",{className:"flex items-center justify-between gap-3 mb-3",children:[d.jsxs("p",{className:"text-sm text-muted-foreground",children:["Scraped ",t.indexedPageDisplay||"new page"]}),d.jsx(cx,{message:t,className:"h-8 w-8 shrink-0 opacity-70 hover:opacity-100"})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx("div",{className:"prose prose-invert prose-sm max-w-none",children:d.jsx(dx,{content:t.content,quotes:t.quotes??[],onQuoteClick:n})}),(((l=t.quotes)==null?void 0:l.length)??0)>0&&n&&d.jsx(ax,{quotes:t.quotes??[],onQuoteClick:n}),(((c=t.quotes)==null?void 0:c.length)??0)>0&&n&&d.jsx(lx,{quotes:t.quotes??[],onQuoteClick:n})]})]}),!o&&!r&&!t&&e.suggestedPage&&s&&i&&d.jsx(m8,{suggestedPage:e.suggestedPage,messageId:e.id,onAddAndReask:s})]})]})})};function Nh(e){if(!e)return null;const t=[],r=e,n=/(\*\*(.+?)\*\*)|(\*(.+?)\*)|(`(.+?)`)/g;let s=0,i;for(;(i=n.exec(r))!==null;)i.index>s&&t.push(r.slice(s,i.index)),i[1]!==void 0?t.push(d.jsx("strong",{className:"font-semibold",children:i[2]},`b-${i.index}`)):i[3]!==void 0?t.push(d.jsx("em",{className:"italic",children:i[4]},`i-${i.index}`)):i[5]!==void 0&&t.push(d.jsx("code",{className:"rounded bg-muted px-1 py-0.5 text-xs font-mono",children:i[6]},`c-${i.index}`)),s=n.lastIndex;return s<r.length&&t.push(r.slice(s)),t.length===1?t[0]:d.jsx(d.Fragment,{children:t})}const dx=({content:e,quotes:t=[],onQuoteClick:r})=>{const n=(i,o)=>{const a=[],l=/\[(\d+)\]/g;let c=0,u;for(;(u=l.exec(i))!==null;){const f=i.slice(c,u.index);f&&a.push(Nh(f));const p=parseInt(u[1],10),h=p-1,x=t[h];x&&r?a.push(d.jsxs("button",{type:"button",onClick:()=>r(x),className:"inline-flex align-baseline text-primary hover:underline font-medium cursor-pointer mx-0.5",title:x.pageTitle,children:["[",p,"]"]},`${o}-${u.index}`)):a.push(d.jsxs("span",{className:"inline-flex align-baseline text-muted-foreground/50 line-through mx-0.5",title:"Citation not available",children:["[",p,"]"]},`${o}-${u.index}`)),c=l.lastIndex}return c<i.length&&a.push(Nh(i.slice(c))),a.length>1?d.jsx(d.Fragment,{children:a}):a[0]??i},s=e.split(`
`);return d.jsx("div",{className:"space-y-2",children:s.map((i,o)=>{const a=i.trimStart();if(a.startsWith("**")&&a.endsWith("**"))return d.jsx("p",{className:"font-semibold text-foreground",children:Nh(a.slice(2,-2))},o);if(a.startsWith("- **")){const l=a.match(/- \*\*(.+?)\*\*: (.+)/);if(l)return d.jsxs("div",{className:"flex gap-2 pl-4",children:[d.jsx("span",{className:"text-primary shrink-0 -ml-2",children:""}),d.jsxs("span",{className:"text-secondary-foreground",children:[d.jsxs("span",{className:"font-medium text-foreground",children:[l[1],":"]})," ",n(l[2],o)]})]},o)}if(a.startsWith("- ")){const l=i.length-a.length+2;return d.jsxs("div",{className:"flex gap-2 pl-4",children:[d.jsx("span",{className:"text-primary shrink-0 -ml-2",children:""}),d.jsx("span",{className:"text-secondary-foreground",children:n(i.slice(l),o)})]},o)}if(a.match(/^\d+\. \*\*/)){const l=a.match(/^(\d+)\. \*\*(.+?)\*\*: (.+)/);if(l)return d.jsxs("p",{className:"text-secondary-foreground",children:[d.jsxs("span",{className:"font-medium text-foreground",children:[l[1],". ",l[2],":"]})," ",n(l[3],o)]},o)}return a===""?d.jsx("div",{className:"h-2"},o):d.jsx("p",{className:"text-secondary-foreground leading-relaxed",children:n(i,o)},o)})})};function p8(e){try{const t=new URL(e).hostname.replace(/^www\./,"");return t==="en.wikipedia.org"||t.endsWith(".wikipedia.org")?"Wikipedia":t}catch{return""}}function m8({suggestedPage:e,messageId:t,onAddAndReask:r}){const[n,s]=m.useState(null),[i,o]=m.useState(!1),a=e,l=`${a.sourceId}:${a.url}`,c=n===l,u=!!a.promptedByQuestion,f=`${a.title} - ${p8(a.url)}`.replace(/ - $/,""),p=async()=>{s(l),console.log("[IndexSuggestion] Yes clicked",{url:a.url,sourceId:a.sourceId,question:a.promptedByQuestion});try{await r(a.url,a.sourceId,a.promptedByQuestion,t,f),console.log("[IndexSuggestion] onAddAndReask completed successfully"),o(!0)}catch(x){console.error("[IndexSuggestion] onAddAndReask failed:",x);const v=x instanceof Error?x.message:String(x);Bo.error("Failed to add page",{description:v})}finally{s(null)}};if(i)return null;const h=a.fromPageTitle?` (branching out from "${a.fromPageTitle}")`:"";return d.jsxs("div",{className:"mt-3 rounded-lg border border-primary/30 bg-primary/10 p-4",children:[d.jsxs("p",{className:"text-sm text-foreground mb-3",children:["Would you like to index ",d.jsx("strong",{children:a.title}),h,"? ",u&&"I'll add it to the graph and answer your question with the new context."]}),d.jsxs("div",{className:"flex gap-2",children:[d.jsx("button",{type:"button",onClick:p,disabled:c,className:"inline-flex items-center gap-2 px-4 py-2 rounded-md text-sm font-medium bg-primary text-primary-foreground hover:bg-primary/90 disabled:opacity-50",children:c?d.jsxs(d.Fragment,{children:[d.jsx(bn,{className:"h-4 w-4 animate-spin"}),u?"Adding & answering...":"Adding..."]}):"Yes"}),d.jsx("button",{type:"button",onClick:()=>o(!0),disabled:c,className:"px-4 py-2 rounded-md text-sm font-medium border border-border hover:bg-secondary disabled:opacity-50",children:"No"})]})]})}const fx=({minimal:e=!1})=>e?d.jsx("div",{className:"flex gap-4 px-4 py-3 bg-chat-assistant animate-fade-in",children:d.jsxs("div",{className:"max-w-3xl mx-auto w-full flex gap-4",children:[d.jsx("div",{className:"shrink-0 w-8","aria-hidden":!0}),d.jsxs("div",{className:"flex gap-1",children:[d.jsx("span",{className:"w-2 h-2 rounded-full bg-muted-foreground typing-dot"}),d.jsx("span",{className:"w-2 h-2 rounded-full bg-muted-foreground typing-dot"}),d.jsx("span",{className:"w-2 h-2 rounded-full bg-muted-foreground typing-dot"})]})]})}):d.jsx("div",{className:"flex gap-4 px-4 py-6 bg-chat-assistant animate-fade-in",children:d.jsxs("div",{className:"max-w-3xl mx-auto w-full flex gap-4",children:[d.jsx("div",{className:"shrink-0 w-8 h-8 rounded-lg flex items-center justify-center bg-primary/20",children:d.jsx(O1,{className:"h-4 w-4 text-primary"})}),d.jsxs("div",{className:"flex-1 space-y-2",children:[d.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Scholia"}),d.jsxs("div",{className:"flex gap-1 py-2",children:[d.jsx("span",{className:"w-2 h-2 rounded-full bg-muted-foreground typing-dot"}),d.jsx("span",{className:"w-2 h-2 rounded-full bg-muted-foreground typing-dot"}),d.jsx("span",{className:"w-2 h-2 rounded-full bg-muted-foreground typing-dot"})]})]})]})}),nN=m.forwardRef(({className:e,...t},r)=>d.jsx("textarea",{className:K("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:r,...t}));nN.displayName="Textarea";const hx=({onSendMessage:e,isLoading:t,isDisabled:r=!1,disableReason:n=null,onRequestAddSource:s})=>{const[i,o]=m.useState(""),a=m.useRef(null);m.useEffect(()=>{a.current&&(a.current.style.height="auto",a.current.style.height=`${Math.min(a.current.scrollHeight,200)}px`)},[i]);const l=t||r,c=()=>{i.trim()&&!l&&(e(i),o(""))},u=f=>{if(f.key==="Enter"&&!f.shiftKey){if(f.preventDefault(),l&&n==="no_sources"&&s){s();return}if(l&&(n==="processing"||n==="loading"||n==="adding_page")){Bo.info("Wait for processing to finish",{duration:3e3});return}c()}};return d.jsx("div",{className:"border-t border-border bg-background p-4",children:d.jsx("div",{className:"max-w-3xl mx-auto",children:d.jsxs("div",{className:"relative flex items-center gap-2 bg-secondary rounded-2xl p-2 shadow-soft",children:[d.jsx(nN,{ref:a,value:i,onChange:f=>o(f.target.value),onKeyDown:u,placeholder:"Ask Scholia anything...",className:K("flex-1 min-h-[44px] max-h-[200px] resize-none border-0 bg-transparent","text-foreground placeholder:text-muted-foreground","focus-visible:ring-0 focus-visible:ring-offset-0","py-3 px-4 text-sm leading-relaxed scrollbar-thin"),rows:1}),d.jsx(Te,{onClick:c,disabled:!i.trim()||l,size:"icon",className:K("shrink-0 h-10 w-10 rounded-xl transition-all",i.trim()&&!l?"bg-primary text-primary-foreground hover:bg-primary/90":"bg-muted text-muted-foreground cursor-not-allowed"),children:d.jsx(SA,{className:"h-4 w-4"})})]})})})},g8=({onAddSource:e,hasSources:t})=>d.jsx("div",{className:"flex-1 flex flex-col items-center justify-center p-8",children:d.jsxs("div",{className:"max-w-md w-full space-y-8 animate-fade-in text-center",children:[d.jsxs("div",{className:"space-y-4",children:[d.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 rounded-2xl bg-primary/20 mb-4",children:d.jsx("span",{className:"text-3xl font-serif text-gradient",children:"S"})}),d.jsxs("h1",{className:"text-4xl font-serif text-foreground",children:["Welcome to ",d.jsx("span",{className:"text-gradient",children:"Scholia"})]}),d.jsx("p",{className:"text-lg text-muted-foreground",children:"Get evidence-backed answers from your sources. Add a webpage or document to get started."})]}),!t&&d.jsxs("button",{onClick:e,className:"inline-flex items-center gap-2 px-6 py-3 rounded-xl bg-primary text-primary-foreground font-medium hover:bg-primary/90 transition-colors shadow-lg shadow-primary/20",children:[d.jsx(Fu,{className:"h-5 w-5"}),"Add your first source"]})]})});function v8(e){const t=m.useRef({value:e,previous:e});return m.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var xf="Switch",[y8,YB]=yr(xf),[w8,x8]=y8(xf),sN=m.forwardRef((e,t)=>{const{__scopeSwitch:r,name:n,checked:s,defaultChecked:i,required:o,disabled:a,value:l="on",onCheckedChange:c,form:u,...f}=e,[p,h]=m.useState(null),x=De(t,b=>h(b)),v=m.useRef(!1),y=p?u||!!p.closest("form"):!0,[g,w]=Ti({prop:s,defaultProp:i??!1,onChange:c,caller:xf});return d.jsxs(w8,{scope:r,checked:g,disabled:a,children:[d.jsx(be.button,{type:"button",role:"switch","aria-checked":g,"aria-required":o,"data-state":lN(g),"data-disabled":a?"":void 0,disabled:a,value:l,...f,ref:x,onClick:oe(e.onClick,b=>{w(_=>!_),y&&(v.current=b.isPropagationStopped(),v.current||b.stopPropagation())})}),y&&d.jsx(aN,{control:p,bubbles:!v.current,name:n,value:l,checked:g,required:o,disabled:a,form:u,style:{transform:"translateX(-100%)"}})]})});sN.displayName=xf;var iN="SwitchThumb",oN=m.forwardRef((e,t)=>{const{__scopeSwitch:r,...n}=e,s=x8(iN,r);return d.jsx(be.span,{"data-state":lN(s.checked),"data-disabled":s.disabled?"":void 0,...n,ref:t})});oN.displayName=iN;var b8="SwitchBubbleInput",aN=m.forwardRef(({__scopeSwitch:e,control:t,checked:r,bubbles:n=!0,...s},i)=>{const o=m.useRef(null),a=De(o,i),l=v8(r),c=sS(t);return m.useEffect(()=>{const u=o.current;if(!u)return;const f=window.HTMLInputElement.prototype,h=Object.getOwnPropertyDescriptor(f,"checked").set;if(l!==r&&h){const x=new Event("click",{bubbles:n});h.call(u,r),u.dispatchEvent(x)}},[l,r,n]),d.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:r,...s,tabIndex:-1,ref:a,style:{...s.style,...c,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});aN.displayName=b8;function lN(e){return e?"checked":"unchecked"}var cN=sN,_8=oN;const Kv=m.forwardRef(({className:e,...t},r)=>d.jsx(cN,{className:K("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors data-[state=checked]:bg-primary data-[state=unchecked]:bg-input focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50",e),...t,ref:r,children:d.jsx(_8,{className:K("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));Kv.displayName=cN.displayName;const S8=e=>{switch(e){case"dynamic":return"Dynamic (1 page)";case"singular":return"Singular (1 page)";case"shallow":return"Shallow (5 pages)";case"medium":return"Medium (15 pages)";case"deep":return"Deep (35 pages)";default:return e}},k8=({status:e})=>{switch(e){case"ready":return d.jsx(zo,{className:"h-3 w-3 text-emerald-400"});case"crawling":return null;case"error":return d.jsx(D1,{className:"h-3 w-3 text-destructive"});case"outdated":return d.jsx(j1,{className:"h-3 w-3 text-amber-400"})}},E8=({source:e,onClick:t,isRecentlyUsed:r})=>{const n=ps(e),s=n.charAt(0).toUpperCase(),i=e.pagesIndexed/e.totalPages*100;return d.jsx(Wl,{delayDuration:300,children:d.jsxs(di,{children:[d.jsx(fi,{asChild:!0,children:d.jsxs("button",{onClick:t,className:K("flex items-center gap-2 px-3 py-1.5 rounded-full relative","bg-secondary/80 hover:bg-secondary border border-border/50","transition-all duration-300 group",r&&"shadow-[0_0_12px_hsl(var(--primary)/0.25)] border-primary/40"),children:[d.jsxs("div",{className:K("w-5 h-5 rounded-full flex items-center justify-center text-[10px] font-semibold relative","bg-primary/20 text-primary",r&&"bg-primary/30"),children:[s,e.status==="crawling"&&d.jsxs("svg",{className:"absolute inset-0 -rotate-90",viewBox:"0 0 20 20",children:[d.jsx("circle",{cx:"10",cy:"10",r:"9",fill:"none",stroke:"hsl(var(--border))",strokeWidth:"2"}),d.jsx("circle",{cx:"10",cy:"10",r:"9",fill:"none",stroke:"hsl(var(--primary))",strokeWidth:"2",strokeLinecap:"round",strokeDasharray:`${i*.565} 100`,className:"transition-all duration-300"})]})]}),d.jsx("span",{className:"text-xs text-foreground/80 group-hover:text-foreground max-w-[160px] truncate",children:n}),e.crawlDepth==="dynamic"&&d.jsxs("span",{className:"inline-flex items-center gap-1 shrink-0",children:[d.jsx(zl,{className:"h-3 w-3 text-primary/80",title:"Dynamic source"}),e.suggestionMode==="dive"?d.jsx(il,{className:"h-3 w-3 text-primary/80",title:"Dive - fetches each linked page"}):d.jsx(ol,{className:"h-3 w-3 text-primary/80",title:"Surface - uses link context"})]}),d.jsx(k8,{status:e.status}),e.status==="crawling"&&d.jsxs("span",{className:"text-[10px] text-muted-foreground font-mono",children:[e.pagesIndexed,"/",e.totalPages]})]})}),d.jsx(Cs,{side:"bottom",className:"bg-popover border-border p-3 max-w-xs",children:d.jsxs("div",{className:"space-y-1.5 text-xs",children:[d.jsx("p",{className:"font-medium text-foreground",children:e.initial_url}),d.jsx("div",{className:"flex items-center gap-2 text-muted-foreground",children:d.jsxs("span",{children:["Depth: ",S8(e.crawlDepth)]})}),d.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground",children:[d.jsxs("span",{children:["Pages scraped: ",e.pagesIndexed,"/",e.totalPages]}),e.status==="ready"&&e.pagesIndexed<e.totalPages&&d.jsx("span",{className:"italic",children:" no more linked pages found"})]}),d.jsxs("div",{className:"text-muted-foreground",children:["Last updated: ",e.lastUpdated.toLocaleTimeString()]})]})})]})})},C8=({sources:e,onAddSource:t,onSourceClick:r,recentlyUsedSourceIds:n=[],showSignIn:s,onSignIn:i,className:o,dynamicMode:a=!0,onDynamicModeChange:l,conversationId:c,addingPageSourceId:u})=>{const f=e.some(_=>_.crawlDepth==="dynamic"),{data:p=[]}=Bv(c??null),{data:h}=Vv(c??null,u??null),x=m.useRef(null),v=m.useRef(0);u?x.current!==u&&(v.current=p.filter(_=>_.source_id===u).length,x.current=u):x.current=null;const y=m.useMemo(()=>e.map(_=>_.id),[e]),{data:g=[]}=Pt({queryKey:["crawl-jobs-main-for-sources",y,c??""],queryFn:async()=>!c||y.length===0?[]:Pn.listLatestMainBySources(y,c),enabled:y.length>0&&!!c}),w=m.useMemo(()=>{const _=new Map;return g.forEach(S=>_.set(S.source_id,S)),_},[g]),b=m.useMemo(()=>e.map(_=>{const S=w.get(_.id),C=p.filter(D=>D.source_id===_.id);let E="crawling",R=_.pagesIndexed,P=_.totalPages;if(S){u===_.id||S.status==="queued"||S.status==="running"||S.status==="indexing"?E="crawling":S.status==="failed"?E="error":S.status==="completed"&&(E="ready");const W=S.indexed_count??0;R=Math.max(W,C.length);const B=_.crawlDepth==="dynamic"||_.crawlDepth==="singular"?1:_.crawlDepth==="shallow"?5:_.crawlDepth==="medium"?15:35;if(_.crawlDepth==="dynamic")if(u===_.id){const Z=(h==null?void 0:h.status)==="encoding"||(h==null?void 0:h.status)==="completed",N=v.current||C.length;P=Z?C.length:N+1}else P=Math.max(C.length,1);else P=B}else if(E="crawling",R=C.length||0,_.crawlDepth==="dynamic")if(u===_.id){const D=(h==null?void 0:h.status)==="encoding"||(h==null?void 0:h.status)==="completed",W=v.current||C.length;P=D?C.length:W+1}else P=Math.max(C.length,1);else P=0;return{..._,status:E,pagesIndexed:R,totalPages:P}}),[e,w,p,u,h==null?void 0:h.status]);return e.length===0?d.jsxs("div",{className:K("sticky top-0 z-10 bg-background/95 backdrop-blur-sm border-b border-border/30 flex items-center justify-between h-16 px-4 flex-1",o),children:[d.jsxs("div",{className:"flex-1 flex items-center gap-3",children:[d.jsx("span",{className:"text-xs text-muted-foreground font-medium",children:"Sources:"}),d.jsxs(Te,{variant:"ghost",size:"sm",onClick:t,className:"h-8 px-3 text-xs text-muted-foreground hover:text-foreground border border-dashed border-border hover:border-primary/50 rounded-full gap-1.5",children:[d.jsx(Fu,{className:"h-3 w-3"}),"Add source"]}),d.jsx("span",{className:"text-xs text-muted-foreground/60 italic hidden sm:inline",children:"Attach sources for evidence-backed answers"})]}),s&&i&&d.jsxs(Te,{onClick:i,className:"bg-primary text-primary-foreground hover:bg-primary/90 gap-2",children:[d.jsx(Tp,{className:"h-4 w-4"}),"Sign in"]})]}):d.jsxs("div",{className:K("sticky top-0 z-10 bg-background/95 backdrop-blur-sm border-b border-border/30 flex items-center justify-between h-16 px-4 flex-1",o),children:[d.jsxs("div",{className:"flex-1 flex items-center gap-3 overflow-x-auto scrollbar-thin",children:[d.jsx("span",{className:"text-xs text-muted-foreground font-medium shrink-0",children:"Sources:"}),b.map(_=>d.jsx(E8,{source:_,onClick:()=>r(_.id),isRecentlyUsed:n.includes(_.id)},_.id)),d.jsx(Te,{variant:"ghost",size:"sm",onClick:t,className:"h-8 w-8 p-0 text-muted-foreground hover:text-foreground border border-dashed border-border hover:border-primary/50 rounded-full shrink-0",children:d.jsx(Fu,{className:"h-3.5 w-3.5"})})]}),f&&l&&c&&d.jsx(Wl,{delayDuration:300,children:d.jsxs(di,{children:[d.jsx(fi,{asChild:!0,children:d.jsxs("div",{className:"flex items-center gap-2 shrink-0 ml-2 pl-2 border-l border-border",children:[d.jsx(zl,{className:"h-3.5 w-3.5 text-primary"}),d.jsx(Jt,{htmlFor:"dynamic-mode",className:"text-xs text-muted-foreground cursor-pointer",children:"Dynamic Mode (Suggest New Pages)"}),d.jsx(Kv,{id:"dynamic-mode",checked:a,onCheckedChange:l})]})}),d.jsx(Cs,{side:"bottom",className:"max-w-[260px]",children:d.jsx("p",{className:"text-xs",children:"Guide the crawler step by step; pages are suggested from the graph. Only sources created as dynamic can be branched from."})})]})}),s&&i&&d.jsxs(Te,{onClick:i,className:"bg-primary text-primary-foreground hover:bg-primary/90 gap-2 shrink-0 ml-4",children:[d.jsx(Tp,{className:"h-4 w-4"}),"Sign in"]})]})},uN=Tv,N8=Rv,dN=m.forwardRef(({className:e,...t},r)=>d.jsx(Zl,{ref:r,className:K("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));dN.displayName=Zl.displayName;const Hv=m.forwardRef(({className:e,children:t,...r},n)=>d.jsxs(N8,{children:[d.jsx(dN,{}),d.jsxs(Xl,{ref:n,className:K("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...r,children:[t,d.jsxs(nf,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity data-[state=open]:bg-accent data-[state=open]:text-muted-foreground hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none",children:[d.jsx(Bg,{className:"h-4 w-4"}),d.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Hv.displayName=Xl.displayName;const Gv=({className:e,...t})=>d.jsx("div",{className:K("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});Gv.displayName="DialogHeader";const fN=({className:e,...t})=>d.jsx("div",{className:K("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});fN.displayName="DialogFooter";const Qv=m.forwardRef(({className:e,...t},r)=>d.jsx(Jl,{ref:r,className:K("text-lg font-semibold leading-none tracking-tight",e),...t}));Qv.displayName=Jl.displayName;const Yv=m.forwardRef(({className:e,...t},r)=>d.jsx(ec,{ref:r,className:K("text-sm text-muted-foreground",e),...t}));Yv.displayName=ec.displayName;const Gs=m.forwardRef(({className:e,type:t,...r},n)=>d.jsx("input",{type:t,className:K("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:n,...r}));Gs.displayName="Input";const T8=[{value:"shallow",label:"Shallow",description:"~5 pages, fastest",icon:d.jsx(gA,{className:"h-4 w-4"})},{value:"medium",label:"Medium",description:"~15 pages, recommended",icon:d.jsx(P1,{className:"h-4 w-4"})},{value:"deep",label:"Deep",description:"~35 pages, thorough",icon:d.jsx(mA,{className:"h-4 w-4"})}],Vi={value:"singular",label:"Singular",description:"1 page only, no suggestions",icon:d.jsx(A1,{className:"h-4 w-4"})},Bs={value:"dynamic",label:"Dynamic",description:"1 page, suggest more on demand",icon:d.jsx(zl,{className:"h-4 w-4"})},R8=({open:e,onOpenChange:t,onAddSource:r,promptMessage:n})=>{const[s,i]=m.useState(""),[o,a]=m.useState("shallow"),[l,c]=m.useState("surface"),[u,f]=m.useState(!0),[p,h]=m.useState(!1),x=async v=>{if(v.preventDefault(),!(!s.trim()||p)){h(!0);try{const y=r(s.trim(),o,{sameDomainOnly:u,suggestionMode:o==="dynamic"?l:void 0});await(typeof(y==null?void 0:y.then)=="function"?y:Promise.resolve(y)),i(""),a("shallow"),c("surface"),f(!0),t(!1)}catch(y){const g=y instanceof Error?y.message:"Failed to add source";Bo.error(g)}finally{h(!1)}}};return d.jsx(uN,{open:e,onOpenChange:t,children:d.jsxs(Hv,{className:"sm:max-w-md bg-card border-border",children:[d.jsxs(Gv,{children:[d.jsx(Qv,{className:"text-xl font-serif",children:"Add Source"}),d.jsx(Yv,{className:"text-muted-foreground",children:n??"Index a website to enable evidence-backed citations"})]}),d.jsxs("form",{onSubmit:x,className:"space-y-6 pt-2",children:[d.jsxs("div",{className:"space-y-2",children:[d.jsx(Jt,{htmlFor:"url",className:"text-sm font-medium",children:"Starting URL"}),d.jsx(Gs,{id:"url",type:"text",placeholder:"https://docs.example.com",value:s,onChange:v=>i(v.target.value),className:"bg-background border-border focus:ring-primary"})]}),d.jsxs("div",{className:"space-y-3",children:[d.jsx(Jt,{className:"text-sm font-medium",children:"Crawl Depth"}),d.jsxs("div",{className:"space-y-2",children:[d.jsx("div",{className:"grid grid-cols-3 gap-2",children:T8.map(v=>d.jsxs("button",{type:"button",onClick:()=>a(v.value),className:K("flex flex-col items-center gap-2 p-3 rounded-lg border transition-all",o===v.value?"border-primary bg-primary/10 text-foreground":"border-border bg-background/50 text-muted-foreground hover:border-border/80 hover:bg-background"),children:[d.jsx("div",{className:K("p-2 rounded-md",o===v.value?"bg-primary/20 text-primary":"bg-secondary"),children:v.icon}),d.jsx("span",{className:"text-sm font-medium",children:v.label}),d.jsx("span",{className:"text-[10px] text-muted-foreground",children:v.description})]},v.value))}),d.jsxs("button",{type:"button",onClick:()=>a(Vi.value),className:K("w-full flex items-center gap-3 p-3 rounded-lg border transition-all",o===Vi.value?"border-primary bg-primary/10 text-foreground":"border-border bg-background/50 text-muted-foreground hover:border-border/80 hover:bg-background"),children:[d.jsx("div",{className:K("p-2 rounded-md shrink-0",o===Vi.value?"bg-primary/20 text-primary":"bg-secondary"),children:Vi.icon}),d.jsxs("div",{className:"text-left",children:[d.jsx("span",{className:"text-sm font-medium",children:Vi.label}),d.jsx("span",{className:"text-[10px] text-muted-foreground block",children:Vi.description})]})]}),d.jsxs("button",{type:"button",onClick:()=>a(Bs.value),className:K("w-full flex items-center gap-3 p-3 rounded-lg border transition-all",o===Bs.value?"border-primary bg-primary/10 text-foreground":"border-border bg-background/50 text-muted-foreground hover:border-border/80 hover:bg-background"),children:[d.jsx("div",{className:K("p-2 rounded-md shrink-0",o===Bs.value?"bg-primary/20 text-primary":"bg-secondary"),children:Bs.icon}),d.jsxs("div",{className:"text-left flex-1",children:[d.jsx("span",{className:"text-sm font-medium",children:Bs.label}),d.jsx("span",{className:"text-[10px] text-muted-foreground block",children:Bs.description}),o===Bs.value&&d.jsxs("div",{className:"flex gap-2 mt-3",children:[d.jsxs("button",{type:"button",onClick:v=>{v.stopPropagation(),c("surface")},className:K("flex items-center gap-1.5 px-2 py-1 rounded text-[10px] font-medium border transition-colors",l==="surface"?"bg-primary/15 text-primary border-primary/30":"bg-background/50 text-muted-foreground border-border hover:border-border/80"),children:[d.jsx(ol,{className:"h-3 w-3"}),"Surface"]}),d.jsxs("button",{type:"button",onClick:v=>{v.stopPropagation(),c("dive")},className:K("flex items-center gap-1.5 px-2 py-1 rounded text-[10px] font-medium border transition-colors",l==="dive"?"bg-primary/15 text-primary border-primary/30":"bg-background/50 text-muted-foreground border-border hover:border-border/80"),children:[d.jsx(il,{className:"h-3 w-3"}),"Dive"]}),d.jsx("span",{className:"text-[10px] text-muted-foreground self-center ml-1",children:l==="surface"?"Faster":"Slower, fetches each page"})]})]})]})]})]}),d.jsxs("div",{className:"space-y-3",children:[d.jsx(Jt,{className:"text-sm font-medium",children:"Options"}),d.jsxs("div",{className:"flex items-center justify-between bg-background/50 rounded-lg p-3 border border-border/50",children:[d.jsxs("div",{className:"space-y-0.5",children:[d.jsx(Jt,{htmlFor:"domain",className:"text-sm font-normal cursor-pointer",children:"Same domain only"}),d.jsx("p",{className:"text-[11px] text-muted-foreground",children:"Stay within the original domain (recommended)"})]}),d.jsx(Kv,{id:"domain",checked:u,onCheckedChange:f})]})]}),d.jsxs("div",{className:"flex justify-end gap-2 pt-2",children:[d.jsx(Te,{type:"button",variant:"ghost",onClick:()=>t(!1),children:"Cancel"}),d.jsx(Te,{type:"submit",disabled:!s.trim()||p,className:"bg-primary text-primary-foreground hover:bg-primary/90",children:p?"Adding":"Add source"})]})]})]})})};function j8({open:e,onOpenChange:t,onConfirm:r,sourceLabel:n="this source",isRecrawling:s=!1}){const i=async o=>{o.preventDefault(),await r(),t(!1)};return d.jsx(Pv,{open:e,onOpenChange:t,children:d.jsxs(lf,{children:[d.jsxs(cf,{children:[d.jsxs(df,{children:["Recrawl ",n,"?"]}),d.jsx(ff,{children:"This will clear the current graph and start a fresh crawl. Recrawling consumes credits. Are you sure you want to continue?"})]}),d.jsxs(uf,{children:[d.jsx(pf,{disabled:s,children:"Cancel"}),d.jsx(hf,{onClick:i,disabled:s,children:s?"Recrawling":"Recrawl"})]})]})})}const A8=Ul("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function Bc({className:e,variant:t,...r}){return d.jsx("div",{className:K(A8({variant:t}),e),...r})}const P8=({pagesDiscovered:e,pagesIndexed:t,targetPages:r,isCrawling:n,isIndexing:s=!1,isDynamic:i=!1,isResponding:o=!1,encodedDiscoveredCount:a=0,encodingChunksDone:l=0,encodingChunksTotal:c=0,encodingDiscoveredDone:u=0,encodingDiscoveredTotal:f=0})=>{const p=qv(n,s,c,l,f),h=p==="encoding-discovered";return d.jsxs("div",{className:"space-y-3",children:[d.jsx(Wl,{delayDuration:300,children:d.jsxs("div",{className:K("grid gap-2",i?"grid-cols-3":"grid-cols-2"),children:[d.jsxs(di,{children:[d.jsx(fi,{asChild:!0,children:d.jsx("div",{children:d.jsx(Th,{label:"Discovered",value:e,highlight:n})})}),d.jsx(Cs,{side:"top",className:"max-w-[240px]",children:d.jsx("p",{className:"text-xs",children:"Links found during crawl; for dynamic sources, grows when you add suggested pages (e.g. 2734)."})})]}),d.jsxs(di,{children:[d.jsx(fi,{asChild:!0,children:d.jsx("div",{children:d.jsx(Th,{label:"Scraped",value:t,highlight:n})})}),d.jsx(Cs,{side:"top",className:"max-w-[200px]",children:d.jsx("p",{className:"text-xs",children:"Pages scraped and in the graph with searchable content"})})]}),i&&d.jsxs(di,{children:[d.jsx(fi,{asChild:!0,children:d.jsx("div",{children:d.jsx(Th,{label:"Encoded Discovered",value:Math.max(a,u),highlight:o||h||s&&f>0})})}),d.jsx(Cs,{side:"top",className:"max-w-[200px]",children:d.jsx("p",{className:"text-xs",children:"Links with embedded context; used for AI suggestions when adding pages."})})]})]})}),(n||s||o)&&r>0&&d.jsx(rN,{crawlDone:t,crawlTotal:r,chunksDone:l,chunksTotal:c,discoveredDone:u,discoveredTotal:f,phase:p,isDynamic:i,isCrawling:n&&!s,isResponding:o})]})},Th=({label:e,value:t,highlight:r})=>d.jsxs("div",{className:"text-center p-2 rounded-md bg-background/30 border border-border/30",children:[d.jsx("div",{className:K("text-sm font-mono font-semibold transition-colors duration-300",r?"text-primary":"text-foreground"),children:t}),d.jsx("div",{className:"text-[9px] text-muted-foreground uppercase tracking-wider",children:e})]}),O8=(e,t)=>{switch(e){case"ready":return d.jsx(Bc,{variant:"outline",className:"bg-emerald-500/10 text-emerald-400 border-emerald-500/30",children:"Ready"});case"crawling":return d.jsx(Bc,{variant:"outline",className:"bg-primary/10 text-primary border-primary/30",children:t});case"error":return d.jsx(Bc,{variant:"outline",className:"bg-destructive/10 text-destructive border-destructive/30",children:"Error"});case"outdated":return d.jsx(Bc,{variant:"outline",className:"bg-amber-500/10 text-amber-400 border-amber-500/30",children:"Outdated"})}},D8=e=>{switch(e){case"indexed":return d.jsx(zo,{className:"h-3 w-3 text-emerald-400"});case"crawling":return d.jsx(bn,{className:"h-3 w-3 animate-spin text-primary"});case"pending":return d.jsx(j1,{className:"h-3 w-3 text-muted-foreground"});case"error":return d.jsx(D1,{className:"h-3 w-3 text-destructive"});default:return null}},I8=e=>{switch(e){case"dynamic":return"Dynamic";case"singular":return"Singular";case"shallow":return"Shallow";case"medium":return"Medium";case"deep":return"Deep";default:return e}},M8=({source:e,allSourceIds:t,conversationId:r,open:n,onOpenChange:s,onRecrawl:i,onRemove:o,addingPageSourceId:a})=>{const[l,c]=m.useState(!1),[u,f]=m.useState(!1),p=e?ps(e):"",h=p.charAt(0).toUpperCase()||"",x=m.useMemo(()=>t!=null&&t.length?t:e!=null&&e.id?[e.id]:[],[t,e==null?void 0:e.id]),{data:v=[]}=Pt({queryKey:["crawl-jobs-main-for-sources",x,r??""],queryFn:async()=>!r||x.length===0?[]:Pn.listLatestMainBySources(x,r),enabled:x.length>0&&!!r}),y=m.useMemo(()=>e!=null&&e.id?v.filter(J=>J.source_id===e.id):[],[v,e==null?void 0:e.id]),{data:g}=Vv(r??null,a===(e==null?void 0:e.id)?(e==null?void 0:e.id)??null:null),w=m.useMemo(()=>{if(!y.length)return null;const ne=[...y].sort((_e,Pe)=>new Date(Pe.created_at).getTime()-new Date(_e.created_at).getTime())[0];return e!=null&&e.id,ne},[y,e==null?void 0:e.id]),b=m.useMemo(()=>{if(!e||a===e.id)return"crawling";if(w){if(w.status==="queued"||w.status==="running"||w.status==="indexing")return"crawling";if(w.status==="failed")return"error";if(w.status==="completed")return"ready"}return e.status||"crawling"},[e,w,a]),_=(w==null?void 0:w.status)==="indexing"||(g==null?void 0:g.status)==="encoding",S=a===(e==null?void 0:e.id)&&(g==null?void 0:g.status)==="indexing",C=a===(e==null?void 0:e.id)&&(g==null?void 0:g.status)==="encoding",E=a===(e==null?void 0:e.id)&&(g==null?void 0:g.status)==="completed",R=(C||E)&&g,P=R?g.encoding_chunks_done??0:(w==null?void 0:w.encoding_chunks_done)??0,D=R?g.encoding_chunks_total??0:(w==null?void 0:w.encoding_chunks_total)??0,W=R?g.encoding_discovered_done??0:(w==null?void 0:w.encoding_discovered_done)??0,B=R?g.encoding_discovered_total??0:(w==null?void 0:w.encoding_discovered_total)??0,Z=qv(b==="crawling",_,D,P,B),N=tN(Z,E,S,C,(w==null?void 0:w.status)==="indexing",(e==null?void 0:e.crawlDepth)==="dynamic"),L=r,{data:O=[],isLoading:$}=Bv(L),{data:j=[],isLoading:k}=JC(L),{data:A=0}=Pt({queryKey:["discovered-links-count",L,e==null?void 0:e.id],queryFn:async()=>L&&(e!=null&&e.id)?await ud.countBySource(L,e.id):0,enabled:!!L&&!!(e!=null&&e.id)}),{data:U=0}=Pt({queryKey:["discovered-links-encoded-count",L,e==null?void 0:e.id],queryFn:async()=>L&&(e!=null&&e.id)?await ud.countEncodedBySource(L,e.id):0,enabled:!!L&&!!(e!=null&&e.id)&&(e==null?void 0:e.crawlDepth)==="dynamic"}),M=m.useMemo(()=>e?O.filter(J=>J.source_id===e.id&&J.status==="indexed"):[],[O,e]),Q=m.useRef(null),q=m.useRef(0);a&&(e!=null&&e.id)&&a===e.id?Q.current!==a&&(q.current=M.length,Q.current=a):Q.current=null;const X=m.useMemo(()=>e?j.filter(J=>J.source_id===e.id):[],[j,e]),z=m.useMemo(()=>{if(w){const ne=w.indexed_count??M.length;return Math.max(ne,M.length)}return M.length},[w,M.length]),F=m.useMemo(()=>{const J=w?w.discovered_count??0:0;return(e==null?void 0:e.crawlDepth)==="dynamic"?Math.max(J,A):J||M.length},[w,M.length,e==null?void 0:e.crawlDepth,A]),te=m.useMemo(()=>{if(!e)return 0;if(e.crawlDepth==="dynamic"){if(a===e.id){const J=(g==null?void 0:g.status)==="encoding"||(g==null?void 0:g.status)==="completed",ne=q.current||M.length;return J?M.length:ne+1}return Math.max(M.length,1)}return e.crawlDepth==="singular"?1:e.crawlDepth==="shallow"?5:e.crawlDepth==="medium"?15:35},[e,M.length,a,g==null?void 0:g.status]),re=m.useMemo(()=>M.map(J=>({id:J.id,title:J.title||"Untitled",path:J.path,status:J.status||"indexed",url:J.url})),[M]);return d.jsxs(jv,{open:n,onOpenChange:s,children:[d.jsx(sf,{side:"right",className:"w-full sm:max-w-md bg-card border-l border-border p-0 flex flex-col h-[100dvh] max-h-[100dvh] overflow-hidden",children:e?d.jsxs(d.Fragment,{children:[d.jsxs(of,{className:"p-6 pb-4 border-b border-border/50 shrink-0",children:[d.jsxs("div",{className:"flex items-start gap-3",children:[d.jsx("div",{className:"w-10 h-10 rounded-lg flex items-center justify-center text-lg font-semibold bg-primary/20 text-primary",children:h}),d.jsxs("div",{className:"flex-1 min-w-0",children:[d.jsx(af,{className:"text-lg font-serif truncate",children:ps(e)}),d.jsx(Av,{className:"text-xs truncate",children:e.initial_url})]})]}),d.jsxs("div",{className:"flex items-center gap-2 mt-4",children:[O8(b,N),d.jsxs("span",{className:"text-xs text-muted-foreground",children:[z,"/",te," pages"]})]})]}),d.jsxs("div",{className:"p-6 space-y-6 shrink-0",children:[d.jsx(P8,{pagesDiscovered:F,pagesIndexed:z,targetPages:te,isCrawling:b==="crawling",isIndexing:_,isDynamic:e.crawlDepth==="dynamic",isResponding:E,encodedDiscoveredCount:U,encodingChunksDone:P,encodingChunksTotal:D,encodingDiscoveredDone:W,encodingDiscoveredTotal:B}),d.jsxs("div",{className:"space-y-2",children:[d.jsx("h4",{className:"text-sm font-medium text-foreground",children:"Page Graph"}),$||k?d.jsxs("div",{className:"h-[200px] flex items-center justify-center text-xs text-muted-foreground",children:[d.jsx(bn,{className:"h-4 w-4 animate-spin mr-2"}),"Loading graph..."]}):d.jsxs("div",{className:"relative",children:[d.jsx(XC,{pages:re,pagesIndexed:z,domain:e.domain,edges:X,className:"h-[200px]"}),e.crawlDepth==="dynamic"&&d.jsxs("div",{className:"absolute bottom-2 left-2 flex gap-1.5",children:[d.jsxs("span",{className:"inline-flex items-center gap-0.5 px-2 py-1 rounded text-[9px] font-medium bg-primary/15 text-primary border border-primary/20",children:[d.jsx(zl,{className:"h-2.5 w-2.5"}),"Dynamic"]}),e.suggestionMode==="dive"?d.jsxs("span",{className:"inline-flex items-center gap-0.5 px-2 py-1 rounded text-[9px] font-medium bg-amber-500/15 text-amber-600 dark:text-amber-400 border border-amber-500/20",children:[d.jsx(il,{className:"h-2.5 w-2.5"}),"Dive"]}):d.jsxs("span",{className:"inline-flex items-center gap-0.5 px-2 py-1 rounded text-[9px] font-medium bg-blue-500/15 text-blue-600 dark:text-blue-400 border border-blue-500/20",children:[d.jsx(ol,{className:"h-2.5 w-2.5"}),"Surface"]})]})]})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx("h4",{className:"text-sm font-medium text-foreground",children:"Settings"}),d.jsxs("div",{className:"text-xs text-muted-foreground space-y-1 bg-background/50 rounded-lg p-3 border border-border/50",children:[d.jsxs("div",{className:"flex justify-between",children:[d.jsx("span",{children:"Depth:"}),d.jsx("span",{className:"text-foreground",children:I8(e.crawlDepth)})]}),e.crawlDepth==="dynamic"&&d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsx("span",{children:"Suggestion:"}),d.jsx("span",{className:"inline-flex items-center gap-1",children:e.suggestionMode==="dive"?d.jsxs(d.Fragment,{children:[d.jsx(il,{className:"h-3 w-3 text-amber-500"}),d.jsx("span",{className:"text-foreground",children:"Dive"})]}):d.jsxs(d.Fragment,{children:[d.jsx(ol,{className:"h-3 w-3 text-blue-500"}),d.jsx("span",{className:"text-foreground",children:"Surface"})]})})]}),d.jsxs("div",{className:"flex justify-between",children:[d.jsx("span",{children:"Same domain only:"}),d.jsx("span",{className:"text-foreground",children:e.sameDomainOnly?"Yes":"No"})]}),d.jsxs("div",{className:"flex justify-between",children:[d.jsx("span",{children:"Last updated:"}),d.jsx("span",{className:"text-foreground",children:e.lastUpdated.toLocaleString()})]})]})]}),d.jsxs("div",{className:"flex gap-2",children:[d.jsxs(Te,{variant:"outline",size:"sm",onClick:()=>c(!0),disabled:b==="crawling"||u,className:"flex-1 gap-2",children:[d.jsx(_A,{className:K("h-4 w-4",(b==="crawling"||u)&&"animate-spin")}),"Recrawl"]}),d.jsxs(Te,{variant:"outline",size:"sm",onClick:()=>{o(e.id),s(!1)},className:"flex-1 gap-2 text-destructive hover:text-destructive hover:bg-destructive/10",children:[d.jsx(zg,{className:"h-4 w-4"}),"Remove"]})]})]}),d.jsxs("div",{className:"flex-1 min-h-0 flex flex-col px-6 pb-6",children:[d.jsxs("h4",{className:"text-sm font-medium text-foreground mb-2 shrink-0",children:["Discovered Pages (",re.length,")"]}),d.jsx("div",{className:"flex-1 min-h-0 rounded-lg border border-border/50 bg-background/30 overflow-hidden",children:d.jsx(Hl,{className:"h-full",children:d.jsx("div",{className:"p-2 space-y-1",children:$?d.jsxs("div",{className:"flex items-center justify-center py-8 text-xs text-muted-foreground",children:[d.jsx(bn,{className:"h-4 w-4 animate-spin mr-2"}),"Loading pages..."]}):re.length===0?d.jsx("div",{className:"flex items-center justify-center py-8 text-xs text-muted-foreground",children:"No pages discovered yet"}):re.map(J=>d.jsxs("div",{className:"flex items-center gap-2 px-3 py-2 rounded-md hover:bg-secondary/50 transition-colors cursor-pointer",onClick:()=>{const ne=J.url||`https://${e.domain}${J.path}`;window.open(ne,"_blank","noopener,noreferrer")},children:[D8(J.status),d.jsxs("div",{className:"flex-1 min-w-0",children:[d.jsx("p",{className:"text-sm text-foreground truncate",children:J.title}),d.jsx("p",{className:"text-[11px] text-muted-foreground truncate",children:J.path})]}),d.jsx(Lu,{className:"h-3 w-3 text-muted-foreground/50 shrink-0"})]},J.id))})})})]})]}):d.jsx("div",{className:"p-6 text-center text-muted-foreground",children:"Select a source to view details"})}),d.jsx(j8,{open:l,onOpenChange:c,onConfirm:async()=>{if(!(!e||!r)){f(!0);try{await i(e.id)}finally{f(!1)}}},sourceLabel:p||(e==null?void 0:e.initial_url),isRecrawling:u})]})},$8=({quote:e,allQuotes:t,open:r,onOpenChange:n,onNavigateQuote:s})=>{const[i,o]=m.useState(!1),a=e?t.findIndex(y=>y.id===e.id):-1,l=a>0,c=a<t.length-1,u=(e==null?void 0:e.pageUrl)??(e?`https://${e.domain}${e.pagePath}`:""),f=u?u.split("#")[0]:"",p=(()=>{if(!(e!=null&&e.snippet))return"";const y=e.snippet.trim(),g=600;if(y.length<=g)return y;const w=y.slice(0,g),b=w.lastIndexOf(" ");return b>g*.5?w.slice(0,b):w})(),h=e&&p&&f?`${f}#:~:text=${s2(p)}`:u,x=async()=>{e&&(await navigator.clipboard.writeText(`"${e.snippet}"  ${e.domain}${e.pagePath}`),o(!0),setTimeout(()=>o(!1),2e3))},v=()=>{h&&window.open(h,"_blank","noopener,noreferrer")};return d.jsx(jv,{open:r,onOpenChange:n,children:e&&d.jsxs(sf,{side:"right",className:"w-full sm:max-w-lg bg-card border-l border-border p-0 flex flex-col gap-0 h-[100dvh] max-h-[100dvh] overflow-hidden",children:[d.jsxs(of,{className:"p-6 pb-4 border-b border-border/50 shrink-0",children:[d.jsxs("div",{className:"flex items-start gap-3",children:[d.jsx("div",{className:"w-10 h-10 rounded-lg flex items-center justify-center bg-primary/10 text-primary shrink-0",children:d.jsx(A1,{className:"h-5 w-5"})}),d.jsxs("div",{className:"flex-1 min-w-0",children:[d.jsx(af,{className:"text-lg font-serif leading-tight",children:uv(e.pageTitle,e.domain)}),d.jsx(Av,{className:"sr-only",children:"Quote and surrounding context from the cited source page"}),d.jsxs("p",{className:"text-xs text-muted-foreground mt-1 truncate flex items-center gap-1",children:[d.jsx("span",{className:"text-primary/80",children:e.domain}),d.jsx("span",{className:"opacity-50",children:e.pagePath})]})]})]}),t.length>1&&d.jsxs("div",{className:"flex items-center justify-between mt-4 pt-4 border-t border-border/30",children:[d.jsxs("span",{className:"text-xs text-muted-foreground",children:["Quote ",a+1," of ",t.length]}),d.jsxs("div",{className:"flex gap-1",children:[d.jsx(Te,{variant:"ghost",size:"sm",onClick:()=>l&&s(t[a-1]),disabled:!l,className:"h-7 w-7 p-0",children:d.jsx(hA,{className:"h-4 w-4"})}),d.jsx(Te,{variant:"ghost",size:"sm",onClick:()=>c&&s(t[a+1]),disabled:!c,className:"h-7 w-7 p-0",children:d.jsx(R1,{className:"h-4 w-4"})})]})]})]}),d.jsx(Hl,{className:"flex-1 min-h-0",children:d.jsxs("div",{className:"px-6 pb-6 pt-4 space-y-5",children:[d.jsxs("div",{className:"space-y-2",children:[d.jsx("h4",{className:"text-xs font-medium text-muted-foreground uppercase tracking-wider",children:"In context"}),d.jsxs("div",{className:"relative pl-4 border-l-4 border-primary bg-primary/10 rounded-r-lg py-3 pr-4 space-y-1",children:[e.contextBefore&&d.jsx("p",{className:"text-sm text-muted-foreground leading-relaxed",children:e.contextBefore}),d.jsxs("p",{className:"text-base font-serif italic text-foreground leading-relaxed",children:['"',e.snippet,'"']}),e.contextAfter&&d.jsx("p",{className:"text-sm text-muted-foreground leading-relaxed",children:e.contextAfter})]})]}),d.jsx("div",{className:"pt-2",children:d.jsxs("a",{href:h,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-2 text-sm text-primary hover:underline",onClick:y=>{y.preventDefault(),v()},children:[d.jsx(Lu,{className:"h-4 w-4"}),"Open source page"]})})]})}),d.jsxs("div",{className:"p-4 border-t border-border/50 bg-card shrink-0 flex gap-2",children:[d.jsx(Te,{variant:"outline",size:"sm",onClick:x,className:"flex-1 gap-2",children:i?d.jsxs(d.Fragment,{children:[d.jsx(zo,{className:"h-4 w-4 text-emerald-400"}),"Copied!"]}):d.jsxs(d.Fragment,{children:[d.jsx(Np,{className:"h-4 w-4"}),"Copy quote"]})}),d.jsxs(Te,{variant:"outline",size:"sm",onClick:v,className:"flex-1 gap-2",children:[d.jsx(Lu,{className:"h-4 w-4"}),"Open page"]})]})]})})},L8=({conversation:e,sources:t,isLoading:r,streamingMessage:n,onSendMessage:s,onAddSource:i,onRemoveSource:o,onRecrawlSource:a,sidebarOpen:l,onToggleSidebar:c,showSignIn:u,onSignIn:f,onGuestRequired:p,onDynamicModeChange:h,onAddSuggestedPage:x,addingPageSourceId:v})=>{const y=m.useRef(null),[g,w]=m.useState(!1),[b,_]=m.useState(null),S=m.useMemo(()=>t.map(I=>I.id),[t]),C=(e==null?void 0:e.id)??null,{data:E=[]}=Pt({queryKey:["crawl-jobs-main-for-sources",S,C??""],queryFn:async()=>!C||S.length===0?[]:Pn.listLatestMainBySources(S,C),enabled:S.length>0&&!!C}),R=m.useMemo(()=>{const I=new Map;return E.forEach(G=>I.set(G.source_id,G)),I},[E]),P=m.useMemo(()=>t.length===0?!1:t.some(I=>{const G=R.get(I.id);return(G==null?void 0:G.status)==="completed"}),[t,R]),D=m.useMemo(()=>t.filter(I=>{const G=R.get(I.id);return(G==null?void 0:G.status)==="failed"&&(G.indexed_count??0)===0}).map(I=>I.id),[t,R]);m.useEffect(()=>{D.length!==0&&(D.forEach(I=>{o(I)}),Bo.error("Source failed to load and was removed. Try adding it again."))},[D,o]);const{isDisabled:W,disableReason:B}=m.useMemo(()=>t.length===0?{isDisabled:!0,disableReason:"no_sources"}:r?{isDisabled:!0,disableReason:"loading"}:v?{isDisabled:!0,disableReason:"adding_page"}:P?{isDisabled:!1,disableReason:null}:{isDisabled:!0,disableReason:"processing"},[t.length,r,v,P]),Z=m.useCallback(I=>{if(u&&p){p();return}_(I),w(!0)},[u,p]),N=m.useCallback(()=>{Z("Add source first")},[Z]),L=m.useCallback(I=>{w(I),I||_(null)},[]),[O,$]=m.useState(null),[j,k]=m.useState(!1),[A,U]=m.useState(null),[M,Q]=m.useState(!1),q=t.find(I=>I.id===A)||null;m.useEffect(()=>{y.current&&(y.current.scrollTop=y.current.scrollHeight)},[e==null?void 0:e.messages,n]);const X=e&&e.messages.length>0,z=(e==null?void 0:e.messages.flatMap(I=>I.quotes||[]))||[],F=e==null?void 0:e.messages.filter(I=>I.role==="assistant").pop(),te=(F==null?void 0:F.sourcesUsed)||[],re=I=>{$(I),k(!0)},J=I=>{U(I),Q(!0)},ne=I=>{const G=z.find(he=>he.sourceId===I);G?re(G):J(I)},fe=async(I,G,he)=>{const Se=await i(I,G,he);return Se&&w(!1),Se},_e=I=>{o(I),Q(!1),U(null)},Pe=t.map(I=>({id:I.id,domain:I.domain}));return d.jsxs("div",{className:"flex flex-col h-full",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[!l&&c&&d.jsx(Te,{variant:"ghost",size:"icon",onClick:c,className:"ml-4 shrink-0 text-muted-foreground hover:text-foreground hover:bg-secondary","aria-label":"Open sidebar",children:d.jsx(xA,{className:"h-5 w-5"})}),d.jsx(C8,{sources:t,onAddSource:()=>Z(null),onSourceClick:J,recentlyUsedSourceIds:te,showSignIn:u,onSignIn:f,className:l?void 0:"pl-0",dynamicMode:(e==null?void 0:e.dynamicMode)??!0,onDynamicModeChange:I=>e&&(h==null?void 0:h(I)),conversationId:e==null?void 0:e.id,addingPageSourceId:v})]}),X?d.jsxs(d.Fragment,{children:[d.jsx(Hl,{className:"flex-1 scrollbar-thin",ref:y,children:d.jsxs("div",{className:"pb-4",children:[e.messages.map((I,G)=>{if(I.followsMessageId)return null;const he=e.messages[G+1],Se=(he==null?void 0:he.followsMessageId)===I.id?he:void 0;return d.jsx(ux,{message:I,followUp:Se,sources:Pe,onQuoteClick:re,onSourceClick:ne,onAddSuggestedPage:x,conversationId:e.id},I.id)}),r&&n&&d.jsx(ux,{message:{id:"streaming",role:"assistant",content:n,timestamp:new Date},isStreaming:!0}),r&&!n||v?d.jsx(fx,{minimal:!!v}):null]})}),d.jsx(hx,{onSendMessage:s,isLoading:r,isDisabled:W,disableReason:B,onRequestAddSource:N})]}):d.jsxs(d.Fragment,{children:[d.jsx(g8,{onAddSource:()=>Z(null),hasSources:t.length>0}),v&&d.jsx("div",{className:"px-4",children:d.jsx(fx,{minimal:!0})}),d.jsx(hx,{onSendMessage:s,isLoading:r,isDisabled:W,disableReason:B,onRequestAddSource:N})]}),d.jsx(R8,{open:g,onOpenChange:L,onAddSource:fe,promptMessage:b}),d.jsx(M8,{source:q,allSourceIds:S,conversationId:(e==null?void 0:e.id)||null,open:M,onOpenChange:Q,onRecrawl:a,onRemove:_e,addingPageSourceId:v}),d.jsx($8,{quote:O,allQuotes:z,open:j,onOpenChange:k,onNavigateQuote:$})]})},F8=({open:e,onOpenChange:t,onLogIn:r})=>{const n=()=>{t(!1),r()};return d.jsx(uN,{open:e,onOpenChange:t,children:d.jsxs(Hv,{className:"sm:max-w-[425px]",children:[d.jsxs(Gv,{children:[d.jsx(Qv,{children:"Guest mode is currently disabled"}),d.jsx(Yv,{children:"Once this is deployed and subscription pricing is implemented, guest mode may be available depending on the decided plans. Please sign in to add sources and start conversations."})]}),d.jsxs(fN,{children:[d.jsx(Te,{variant:"outline",onClick:()=>t(!1),children:"Cancel"}),d.jsx(Te,{onClick:n,children:"Log in"})]})]})})},U8=e=>Pt({queryKey:["messages",e],queryFn:()=>{if(!e)throw new Error("Conversation ID required");return Wv.list(e)},enabled:!!e}),z8=()=>{const e=lr();return on({mutationFn:t=>Wv.create(t),onSuccess:(t,r)=>{e.invalidateQueries({queryKey:["messages",r.conversation_id]})}})},B8=()=>{const e=lr();return on({mutationFn:({id:t,conversationId:r,updates:n})=>Wv.update(t,n),onSuccess:(t,r)=>{e.invalidateQueries({queryKey:["messages",r.conversationId]})}})};function fn(...e){console.log("[recrawl]",new Date().toISOString(),...e)}async function W8(e,t){var u;fn("START",{conversationId:e.slice(0,8),sourceId:t.slice(0,8)});const{data:r}=await ee.from("sources").select("id, crawl_depth, url").eq("id",t).single();let n;if((r==null?void 0:r.crawl_depth)==="dynamic"){const{data:f}=await ee.from("pages").select("url").eq("source_id",t);f&&f.length>0&&(n=f.map(p=>p.url)),fn("dynamic source, seedUrls count:",(n==null?void 0:n.length)??0)}const{data:s}=await ee.from("crawl_jobs").select("id, status").eq("source_id",t).in("status",["queued","running","indexing"]);fn("cancelled jobs:",(s==null?void 0:s.length)??0,s==null?void 0:s.map(f=>({id:f.id.slice(0,8),status:f.status})));for(const f of s??[])await ee.from("crawl_jobs").update({status:"cancelled",updated_at:new Date().toISOString()}).eq("id",f.id);const{data:i}=await ee.from("pages").select("id").eq("source_id",t),o=(i??[]).map(f=>f.id);if(fn("pageIds to delete:",o.length),o.length>0){const{error:f}=await ee.from("chunks").delete().in("page_id",o);f&&fn("chunks delete error:",f)}if(o.length>0){const{error:f}=await ee.from("page_edges").delete().in("from_page_id",o);f&&fn("page_edges delete error:",f)}const{error:a}=await ee.from("pages").delete().eq("source_id",t);a&&fn("pages delete error:",a);const l={source_id:t,status:"queued",indexed_count:0,discovered_count:0,total_pages:null,error_message:null,started_at:null,completed_at:null,last_activity_at:null,explicit_crawl_urls:n??null,encoding_chunks_done:0,encoding_chunks_total:0,encoding_discovered_done:0,encoding_discovered_total:0};fn("creating new job with zeroed counts:",l);const c=await Pn.create(l);fn("DONE new job id:",(u=c.id)==null?void 0:u.slice(0,8),"status:",c.status,"discovered_count:",c.discovered_count,"indexed_count:",c.indexed_count)}const V8=1200,q8=800,px=500;function K8(e,t){const r=lr(),n=m.useMemo(()=>t.join(","),[t]),s=m.useRef([]),i=m.useRef(null),o=m.useRef(0),a=m.useRef(null),l=m.useRef(null);m.useEffect(()=>{if(!e)return;if(s.current.forEach(h=>{ee.removeChannel(h)}),s.current=[],t.length>0){const h=ee.channel(`crawl-jobs:${e}`).on("postgres_changes",{event:"*",schema:"public",table:"crawl_jobs",filter:`source_id=in.(${t.join(",")})`},x=>{const v=x.new;r.invalidateQueries({predicate:y=>{const g=y.queryKey;return Array.isArray(g)&&g[0]==="crawl-job"&&g[1]===v.source_id||Array.isArray(g)&&g[0]==="crawl-jobs"&&(g[1]===v.source_id||g.length===1)||Array.isArray(g)&&g[0]==="crawl-jobs-for-sources"||Array.isArray(g)&&g[0]==="crawl-jobs-for-sources-bar"||Array.isArray(g)&&g[0]==="crawl-jobs-main-for-sources"||Array.isArray(g)&&g[0]==="add-page-job"&&g[1]===e&&g[2]===v.source_id&&v.explicit_crawl_urls!=null}}),r.invalidateQueries({queryKey:["conversation-sources",e]})}).subscribe();s.current.push(h)}const c=()=>{r.invalidateQueries({predicate:h=>{const x=h.queryKey;return Array.isArray(x)&&x[0]==="conversation-pages"&&x[1]===e||Array.isArray(x)&&x[0]==="conversation-page-edges"&&x[1]===e}})},u=t.length>0?ee.channel(`pages:${e}`).on("postgres_changes",{event:"INSERT",schema:"public",table:"pages",filter:`source_id=in.(${t.join(",")})`},h=>{a.current&&clearTimeout(a.current),a.current=setTimeout(()=>{a.current=null,r.invalidateQueries({predicate:x=>{const v=x.queryKey;return Array.isArray(v)&&v[0]==="pages"||Array.isArray(v)&&v[0]==="conversation-pages"&&v[1]===e}}),r.invalidateQueries({queryKey:["conversation-sources",e]})},300)}).subscribe(h=>{h==="SUBSCRIBED"&&c()}):null;u&&s.current.push(u);const f=ee.channel(`page-edges:${e}`).on("postgres_changes",{event:"INSERT",schema:"public",table:"page_edges"},()=>{const h=()=>{const v=Date.now();o.current=v,r.invalidateQueries({predicate:y=>{const g=y.queryKey;return Array.isArray(g)&&g[0]==="conversation-page-edges"&&g[1]===e}}),r.refetchQueries({predicate:y=>{const g=y.queryKey;return Array.isArray(g)&&g[0]==="conversation-page-edges"&&g[1]===e}})},x=Date.now();(o.current===0||x-o.current>=V8)&&h(),i.current&&clearTimeout(i.current),i.current=setTimeout(()=>{i.current=null,h()},q8)}).subscribe(h=>{h==="SUBSCRIBED"&&c()});s.current.push(f);const p=t.length>0?ee.channel(`discovered-links:${e}`).on("postgres_changes",{event:"INSERT",schema:"public",table:"encoded_discovered"},()=>{l.current&&clearTimeout(l.current),l.current=setTimeout(()=>{l.current=null,r.invalidateQueries({queryKey:["discovered-links-counts",e]}),r.invalidateQueries({predicate:h=>Array.isArray(h.queryKey)&&h.queryKey[0]==="discovered-links-count"})},px)}).on("postgres_changes",{event:"UPDATE",schema:"public",table:"encoded_discovered"},()=>{l.current&&clearTimeout(l.current),l.current=setTimeout(()=>{l.current=null,r.invalidateQueries({queryKey:["discovered-links-counts",e]}),r.invalidateQueries({queryKey:["discovered-links-encoded-counts",e]}),r.invalidateQueries({predicate:h=>Array.isArray(h.queryKey)&&h.queryKey[0]==="discovered-links-count"}),r.invalidateQueries({predicate:h=>Array.isArray(h.queryKey)&&h.queryKey[0]==="discovered-links-encoded-count"}),r.invalidateQueries({predicate:h=>Array.isArray(h.queryKey)&&h.queryKey[0]==="crawl-jobs-main-for-sources"&&h.queryKey[2]===e}),r.invalidateQueries({predicate:h=>Array.isArray(h.queryKey)&&(h.queryKey[0]==="crawl-jobs-for-sources"||h.queryKey[0]==="crawl-jobs-for-sources-bar")})},px)}).subscribe():null;return p&&s.current.push(p),()=>{i.current&&(clearTimeout(i.current),i.current=null),a.current&&(clearTimeout(a.current),a.current=null),l.current&&(clearTimeout(l.current),l.current=null),s.current.forEach(h=>{ee.removeChannel(h)}),s.current=[]}},[e,n,r])}const H8=e=>{const t=e.split(" ").slice(0,5).join(" ");return t.length>30?t.substring(0,30)+"...":t},G8=(e,t,r)=>{if(!t&&!r)return`I'd be happy to help you explore this topic! However, I notice you haven't attached any sources yet.

**Tip:** Attach a source to enable evidence-backed quotes and citations. Click the "+ Add source" button above to get started with research-grade answers.`;if(!t&&r)return`I'm currently indexing your sources to provide evidence-backed answers. Once indexing completes, I'll be able to cite specific passages and provide verifiable quotes.

**Status:** Indexing in progress... Feel free to ask your question, and I'll answer with the best available information.`;const n=[`Based on my analysis of your attached sources, here's what I found:

The documentation provides clear guidance on this topic. I've identified key passages that directly address your question.

See the evidence cards below for specific citations you can verify.`,`Great question! Let me synthesize the relevant information from your sources.

The attached documentation covers this comprehensively. I've extracted the most relevant quotes that directly answer your query.

Review the cited evidence below for full context.`,`I've analyzed your sources and found several relevant passages.

The information you're looking for is well-documented across the attached materials. Below are the key citations that support this answer.

Click any quote card to see the full context.`];return n[Math.floor(Math.random()*n.length)]},Q8=(e,t,r)=>({id:e.id,title:e.title,messages:t.map(Z8),sources:r,dynamicMode:e.dynamic_mode??!0,createdAt:new Date(e.created_at),updatedAt:new Date(e.updated_at)}),Y8=e=>{var t;return{id:e.id,sourceId:((t=e.pages)==null?void 0:t.source_id)??"",pageId:e.page_id,snippet:e.snippet,pageTitle:e.page_title??"",pagePath:e.page_path??"",domain:e.domain??"",...e.context_before?{contextBefore:e.context_before}:{},...e.context_after?{contextAfter:e.context_after}:{}}},Z8=e=>{const t=e,n=(t.quotes??[]).map(Y8);return{id:e.id,role:e.role,content:e.content,timestamp:new Date(e.created_at),quotes:n,sourcesUsed:[...new Set(n.map(s=>s.sourceId))],wasMultiStep:e.was_multi_step??!1,suggestedPage:t.suggested_page??void 0,followsMessageId:t.follows_message_id??void 0,indexedPageDisplay:t.indexed_page_display??void 0}},Rh=()=>`${"https://joknhyopvvdsljfjertr.supabase.co".replace(/\/$/,"")}/functions/v1`,X8=()=>{wr();const e=lr(),[t,r]=m.useState(null),[n,s]=m.useState(!1),[i,o]=m.useState(""),[a,l]=m.useState([]),{data:c=[],isLoading:u}=F5(),f=U5(),p=B5();m.useEffect(()=>{const k=()=>r(null);return window.addEventListener(mm,k),()=>window.removeEventListener(mm,k)},[]);const h=z5(),{data:x=[]}=U8(t),v=z8(),y=B8(),{data:g=[]}=eN(t),w=i8(),b=o8();s8();const _=m.useMemo(()=>g.map(k=>k.source.id),[g]);K8(t,_);const S=g.map(k=>{const A=k.source;return{id:A.id,initial_url:A.initial_url,domain:A.domain,status:"crawling",crawlDepth:A.crawl_depth,suggestionMode:A.suggestion_mode==="dive"?"dive":"surface",sameDomainOnly:A.same_domain_only,pagesIndexed:0,totalPages:0,lastUpdated:new Date(A.updated_at),discoveredPages:[]}}),C=c.map(k=>{const A=x.filter(M=>M.conversation_id===k.id),U=k.id===t?S:[];return Q8(k,A,U)}),E=C.find(k=>k.id===t)||null,R=m.useMemo(()=>(E==null?void 0:E.sources)||[],[E==null?void 0:E.sources]),P=m.useCallback(()=>{r(null),o("")},[]),D=m.useCallback(k=>{r(k),o("")},[]),W=m.useCallback(async k=>{try{t===k&&r(null),await p.mutateAsync(k)}catch(A){throw console.error("Error deleting conversation:",A),A}},[t,p]),B=m.useCallback(async(k,A)=>{let M=A||t;if(!M){const q=i2(k.initial_url)||"New Research",X=await f.mutateAsync(q);M=X.id,r(X.id)}const Q=await w.mutateAsync({conversationId:M,sourceData:{initial_url:k.initial_url,domain:k.domain,crawl_depth:k.crawlDepth,suggestion_mode:k.suggestionMode??"surface",same_domain_only:k.sameDomainOnly}});return{id:Q.id,initial_url:Q.initial_url,domain:Q.domain,status:"crawling",crawlDepth:Q.crawl_depth,suggestionMode:Q.suggestion_mode==="dive"?"dive":"surface",sameDomainOnly:Q.same_domain_only,pagesIndexed:0,totalPages:0,lastUpdated:new Date(Q.updated_at),discoveredPages:[]}},[t,f,w]),Z=m.useCallback(async k=>{t&&await b.mutateAsync({conversationId:t,sourceId:k})},[t,b]),N=m.useCallback(async k=>{t&&(console.log("[recrawl] useChatDatabase: calling recrawl API",{activeConversationId:t.slice(0,8),sourceId:k.slice(0,8)}),await W8(t,k),console.log("[recrawl] useChatDatabase: API done, invalidating + refetching queries"),e.invalidateQueries({queryKey:["conversation-sources",t]}),e.invalidateQueries({queryKey:["conversation-pages",t]}),e.invalidateQueries({queryKey:["conversation-page-edges",t]}),e.invalidateQueries({queryKey:["crawl-jobs-main-for-sources"]}),e.invalidateQueries({queryKey:["crawl-job",k]}),e.invalidateQueries({queryKey:["discovered-links-counts",t]}),e.invalidateQueries({queryKey:["discovered-links-encoded-counts",t]}),e.invalidateQueries({predicate:A=>Array.isArray(A.queryKey)&&(A.queryKey[0]==="discovered-links-count"||A.queryKey[0]==="discovered-links-encoded-count")}),await e.refetchQueries({queryKey:["crawl-jobs-main-for-sources"]}),await e.refetchQueries({queryKey:["crawl-job",k]}),console.log("[recrawl] useChatDatabase: refetch complete"))},[t,e]),L=m.useCallback(async(k,A)=>{await h.mutateAsync({id:k,dynamic_mode:A})},[h]),O=m.useCallback(async(k,A,U)=>{var J;const M=Rh();if(console.log("[addPageToSource] start",{conversationId:k,sourceId:A,url:U,functionsUrl:M}),!M)throw console.error("[addPageToSource] Functions URL not configured"),new Error("Functions URL not configured");const{data:{session:Q}}=await ee.auth.getSession(),q=await fetch(`${M}/add-page`,{method:"POST",headers:{"Content-Type":"application/json",...Q!=null&&Q.access_token?{Authorization:`Bearer ${Q.access_token}`}:{}},body:JSON.stringify({conversationId:k,sourceId:A,url:U})});if(!q.ok){const ne=await q.text();let fe={};try{fe=JSON.parse(ne)}catch{fe={error:ne||`HTTP ${q.status}`}}throw new Error((fe==null?void 0:fe.error)??`Failed to add page: ${q.status}`)}const X=await q.json();if(X!=null&&X.page)return console.log("[addPageToSource] page already exists",(J=X.page.id)==null?void 0:J.slice(0,8)),e.invalidateQueries({queryKey:["add-page-job",k,A]}),e.invalidateQueries({queryKey:["messages",k]}),e.invalidateQueries({queryKey:["conversation-pages",k]}),e.invalidateQueries({queryKey:["conversation-page-edges",k]}),e.invalidateQueries({queryKey:["discovered-links-counts",k]}),e.invalidateQueries({queryKey:["discovered-links-encoded-counts",k]}),await Promise.all([e.refetchQueries({queryKey:["conversation-pages",k]}),e.refetchQueries({queryKey:["conversation-page-edges",k]}),e.refetchQueries({queryKey:["discovered-links-counts",k]}),e.refetchQueries({queryKey:["discovered-links-encoded-counts",k]})]),X;const z=X==null?void 0:X.jobId;if(!z)throw new Error("Invalid response: missing page or jobId");const F=800,te=180;let re=null;for(let ne=0;ne<te;ne++)if(await new Promise(fe=>setTimeout(fe,F)),re=await Pn.get(z),!!re){if(re.status==="completed")break;if(re.status==="failed")throw new Error(re.error_message??"Add page failed")}if((re==null?void 0:re.status)==="failed")throw new Error(re.error_message??"Add page failed");return e.invalidateQueries({queryKey:["add-page-job",k,A]}),e.invalidateQueries({queryKey:["messages",k]}),e.invalidateQueries({queryKey:["conversation-pages",k]}),e.invalidateQueries({queryKey:["conversation-page-edges",k]}),e.invalidateQueries({queryKey:["discovered-links-counts",k]}),e.invalidateQueries({queryKey:["discovered-links-encoded-counts",k]}),await Promise.all([e.refetchQueries({queryKey:["conversation-pages",k]}),e.refetchQueries({queryKey:["conversation-page-edges",k]}),e.refetchQueries({queryKey:["discovered-links-counts",k]}),e.refetchQueries({queryKey:["discovered-links-encoded-counts",k]})]),{page:{},message:"Page added"}},[e]),$=m.useCallback(async(k,A,U,M,Q,q)=>{var ne;const X=Rh();if(!X)throw new Error("Functions URL not configured");await y.mutateAsync({id:M,conversationId:k,updates:{suggested_page:null}}),await O(k,A,U),await new Promise(fe=>setTimeout(fe,500));const{data:{session:z}}=await ee.auth.getSession(),F=await fetch(`${X}/chat-with-rag`,{method:"POST",headers:{"Content-Type":"application/json",...z!=null&&z.access_token?{Authorization:`Bearer ${z.access_token}`}:{}},body:JSON.stringify({conversationId:k,userMessage:Q.trim(),appendToMessageId:M,indexedPageDisplay:q??void 0})});if(!F.ok){const fe=await F.json().catch(()=>({}));throw new Error(fe.error??`HTTP ${F.status}`)}const te=(ne=F.body)==null?void 0:ne.getReader(),re=new TextDecoder;let J="";if(te){for(;;){const{done:fe,value:_e}=await te.read();if(fe)break;J+=re.decode(_e,{stream:!0});const Pe=J.split(`
`);J=Pe.pop()??"";for(const I of Pe)if(I.trim())try{const G=JSON.parse(I);if(G.error)throw new Error(String(G.error));if(G.done===!0){e.invalidateQueries({queryKey:["messages",k]});return}}catch(G){if(G instanceof SyntaxError)continue;throw G}}if(J.trim())try{const fe=JSON.parse(J);if(fe.done===!0){e.invalidateQueries({queryKey:["messages",k]});return}if(fe.error)throw new Error(String(fe.error))}catch{}}e.invalidateQueries({queryKey:["messages",k]})},[e,O,y]),j=m.useCallback(async k=>{var J;if(!k.trim()||n){console.log("[sendMessage] early return",{hasContent:!!(k!=null&&k.trim()),isLoading:n});return}let A=t,U=[];if(A)U=R;else{const ne=H8(k);A=(await f.mutateAsync(ne)).id,r(A),U=[]}await v.mutateAsync({conversation_id:A,role:"user",content:k.trim(),was_multi_step:!1}),s(!0),o(""),l([]);const M=U.filter(ne=>ne.status==="ready"),Q=U.filter(ne=>ne.status==="crawling"),q=U.length>0,X=Rh();let z=!1,F=null;if(q&&X)try{const{data:{session:ne}}=await ee.auth.getSession(),fe=await fetch(`${X}/chat-with-rag`,{method:"POST",headers:{"Content-Type":"application/json",...ne!=null&&ne.access_token?{Authorization:`Bearer ${ne.access_token}`}:{}},body:JSON.stringify({conversationId:A,userMessage:k.trim()})});if(fe.ok){const _e=(J=fe.body)==null?void 0:J.getReader(),Pe=new TextDecoder;let I="";const G=[];if(_e)try{for(;;){const{done:he,value:Se}=await _e.read();if(he)break;I+=Pe.decode(Se,{stream:!0});const Ye=I.split(`
`);I=Ye.pop()??"";for(const qe of Ye)if(qe.trim())try{const Oe=JSON.parse(qe);if(Oe.step!=null&&Oe.label&&Oe.totalSteps!=null){const St=Number(Oe.step),kt=Number(Oe.totalSteps),cn=String(Oe.label),sc=G.findIndex(vt=>vt.current===St);sc>=0?G[sc]={current:St,total:kt,label:cn}:(G.push({current:St,total:kt,label:cn}),G.sort((vt,$n)=>vt.current-$n.current)),l([...G])}if(Oe.done===!0&&Oe.message){const St=Oe;e.invalidateQueries({queryKey:["messages",A]}),St.suggestedTitle?(console.log("[chat] RAG returned suggestedTitle:",JSON.stringify(St.suggestedTitle),"| invalidating conversations to refresh sidebar"),e.invalidateQueries({queryKey:["conversations"]})):console.log("[chat] RAG done event received with no suggestedTitle (first-message title update skipped or not first message)"),s(!1);return}if(Oe.error){z=!0,F=String(Oe.error);break}}catch{}}if(I.trim())try{const he=JSON.parse(I);if(he.done===!0&&he.message){e.invalidateQueries({queryKey:["messages",A]}),he.suggestedTitle?(console.log("[chat] RAG returned suggestedTitle (buffer):",JSON.stringify(he.suggestedTitle),"| invalidating conversations to refresh sidebar"),e.invalidateQueries({queryKey:["conversations"]})):console.log("[chat] RAG done event (buffer) with no suggestedTitle"),s(!1);return}he.error&&(z=!0,F=String(he.error))}catch{}}finally{}else e.invalidateQueries({queryKey:["messages",A]});if(!(z&&F)){s(!1);return}}else{z=!0;try{const _e=await fe.json();F=(_e==null?void 0:_e.error)??(_e==null?void 0:_e.message)??`HTTP ${fe.status}`}catch{F=`HTTP ${fe.status}`}console.error("[chat-with-rag]",fe.status,F)}}catch(ne){z=!0,F=ne instanceof Error?ne.message:"Network or request failed",console.error("[chat-with-rag]",F)}const te=z&&q?F?`The assistant couldn't answer: **${F}**  Check that the crawl finished, chunks are indexed, and the Edge Function has the \`OPENAI_API_KEY\` secret set.`:"The assistant couldn't answer right now. Make sure the crawl has finished and chunks are indexed (check the source drawer), then try again.":G8(k,M.length>0,Q.length>0),re=te.split(" ");for(let ne=0;ne<re.length;ne++)await new Promise(fe=>setTimeout(fe,30+Math.random()*20)),o(fe=>fe+(ne===0?"":" ")+re[ne]);await v.mutateAsync({conversation_id:A,role:"assistant",content:te,was_multi_step:!1}),o(""),s(!1)},[t,n,R,f,v,e]);return{conversations:C,activeConversation:E,activeConversationId:t,currentSources:R,isLoading:n||u,streamingMessage:i,ragStepProgress:a,createNewConversation:P,selectConversation:D,deleteConversation:W,sendMessage:j,addSourceToConversation:B,removeSourceFromConversation:Z,recrawlSource:N,updateDynamicMode:L,addPageToSource:O,addPageAndContinueResponse:$}},Cm="scholia-sidebar-width",hN=200,pN=900,Nm=600;function Tm(e){return Math.max(hN,Math.min(pN,Math.round(e)))}function J8(){if(typeof window>"u")return Nm;try{const e=localStorage.getItem(Cm);if(e!=null){const t=parseInt(e,10);if(!Number.isNaN(t))return Tm(t)}}catch{}return Nm}function eB(){const{user:e}=wr(),[t,r]=m.useState(J8),[n,s]=m.useState(!1);m.useEffect(()=>{e?rd.get(e.id).then(o=>{if((o==null?void 0:o.sidebar_width)!=null){const a=Tm(o.sidebar_width);r(a);try{localStorage.setItem(Cm,String(a))}catch{}}}).catch(()=>{}).finally(()=>s(!0)):s(!0)},[e]);const i=m.useCallback(o=>{const a=Tm(o);try{localStorage.setItem(Cm,String(a))}catch{}e&&rd.upsertSidebarWidth(e.id,a).catch(()=>{})},[e]);return{sidebarWidth:t,setSidebarWidth:r,saveWidth:i,loaded:n,min:hN,max:pN,default:Nm}}const tB=e=>{try{return new URL(e.startsWith("http")?e:`https://${e}`).hostname.replace("www.","")}catch{return e}},rB=()=>{const{user:e,loading:t}=wr(),r=qd(),{sidebarWidth:n,setSidebarWidth:s,saveWidth:i,loaded:o,min:a,max:l}=eB(),[c,u]=m.useState(!0),[f,p]=m.useState(!1),[h,x]=m.useState(null),[v,y]=m.useState(!1),g=m.useRef(null),{conversations:w,activeConversation:b,activeConversationId:_,currentSources:S,isLoading:C,streamingMessage:E,createNewConversation:R,selectConversation:P,deleteConversation:D,sendMessage:W,addSourceToConversation:B,removeSourceFromConversation:Z,recrawlSource:N,updateDynamicMode:L,addPageToSource:O,addPageAndContinueResponse:$}=X8(),j=m.useCallback(()=>{u(X=>!X)},[]),k=m.useCallback(X=>{X.preventDefault(),p(!0),g.current={startX:X.clientX,startWidth:n}},[n]);m.useEffect(()=>{if(!f)return;const X=F=>{if(!g.current)return;const te=F.clientX-g.current.startX,re=Math.max(a,Math.min(l,g.current.startWidth+te));g.current.lastWidth=re,s(re)},z=()=>{if(g.current){const F=g.current.lastWidth??g.current.startWidth;i(F)}p(!1),g.current=null};return document.addEventListener("mousemove",X),document.addEventListener("mouseup",z),document.body.style.cursor="col-resize",document.body.style.userSelect="none",()=>{document.removeEventListener("mousemove",X),document.removeEventListener("mouseup",z),document.body.style.cursor="",document.body.style.userSelect=""}},[f,a,l,i,s]);const A=m.useCallback(()=>{if(!e){y(!0);return}R()},[e,R]),U=m.useCallback(X=>{if(!e&&!_){y(!0);return}W(X)},[e,_,W]),M=m.useCallback(async(X,z,F)=>{if(!e)return y(!0),null;const te=Em(X),re=tB(te),J={id:"",initial_url:te,domain:re,status:"crawling",crawlDepth:z,suggestionMode:z==="dynamic"?F.suggestionMode??"surface":"surface",sameDomainOnly:F.sameDomainOnly,pagesIndexed:0,totalPages:0,lastUpdated:new Date,discoveredPages:[]};return B(J)},[e,B]);m.useEffect(()=>{x(null)},[_]);const Q=m.useCallback(X=>{_&&L(_,X)},[_,L]),q=m.useCallback(async(X,z,F,te,re)=>{const J=Em(X);if(console.log("[AddSuggestedPage] called",{url:J,sourceId:z,questionToReask:F,messageId:te,indexedPageDisplay:re,activeConversationId:_}),!_){console.warn("[AddSuggestedPage] no activeConversationId, aborting");return}x(z);try{F!=null&&F.trim()&&te?await $(_,z,J,te,F.trim(),re):(await O(_,z,J),F!=null&&F.trim()&&(await new Promise(ne=>setTimeout(ne,500)),W(F.trim())))}catch(ne){throw console.error("[AddSuggestedPage] error:",ne),ne}finally{x(null)}},[_,O,$,W]);return t?d.jsx("div",{className:"h-screen flex items-center justify-center bg-background",children:d.jsx(bn,{className:"h-8 w-8 animate-spin text-primary"})}):d.jsxs("div",{className:"h-screen overflow-hidden bg-background flex",children:[d.jsxs("div",{className:K("shrink-0 border-r border-border overflow-hidden relative",o&&!f&&"transition-[width] duration-300 ease-out"),style:{width:c?n:0},children:[d.jsx("div",{className:"h-full",style:{width:n},children:d.jsx(l8,{conversations:w,activeConversationId:_,isOpen:c,onToggle:j,onNewChat:A,onSelectConversation:P,onDeleteConversation:D,currentSources:S,addingPageSourceId:h})}),c&&d.jsx("div",{className:"absolute top-0 right-0 w-1.5 h-full cursor-col-resize hover:bg-primary/30 transition-colors z-10 group",onMouseDown:k,children:d.jsxs("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 flex flex-col gap-0.5 opacity-40 group-hover:opacity-70 transition-opacity",children:[d.jsx("div",{className:"w-0.5 h-0.5 rounded-full bg-muted-foreground"}),d.jsx("div",{className:"w-0.5 h-0.5 rounded-full bg-muted-foreground"}),d.jsx("div",{className:"w-0.5 h-0.5 rounded-full bg-muted-foreground"})]})})]}),d.jsxs("div",{className:"flex-1 min-w-0 relative",children:[d.jsx(L8,{conversation:b,sources:S,isLoading:C,streamingMessage:E,onSendMessage:U,onAddSource:M,onRemoveSource:Z,onRecrawlSource:N,sidebarOpen:c,onToggleSidebar:j,showSignIn:!e,onSignIn:()=>r("/auth"),onGuestRequired:e?void 0:()=>y(!0),onDynamicModeChange:Q,onAddSuggestedPage:q,addingPageSourceId:h}),d.jsx(F8,{open:v,onOpenChange:y,onLogIn:()=>r("/auth")})]})]})};var Ae;(function(e){e.assertEqual=s=>{};function t(s){}e.assertIs=t;function r(s){throw new Error}e.assertNever=r,e.arrayToEnum=s=>{const i={};for(const o of s)i[o]=o;return i},e.getValidEnumValues=s=>{const i=e.objectKeys(s).filter(a=>typeof s[s[a]]!="number"),o={};for(const a of i)o[a]=s[a];return e.objectValues(o)},e.objectValues=s=>e.objectKeys(s).map(function(i){return s[i]}),e.objectKeys=typeof Object.keys=="function"?s=>Object.keys(s):s=>{const i=[];for(const o in s)Object.prototype.hasOwnProperty.call(s,o)&&i.push(o);return i},e.find=(s,i)=>{for(const o of s)if(i(o))return o},e.isInteger=typeof Number.isInteger=="function"?s=>Number.isInteger(s):s=>typeof s=="number"&&Number.isFinite(s)&&Math.floor(s)===s;function n(s,i=" | "){return s.map(o=>typeof o=="string"?`'${o}'`:o).join(i)}e.joinValues=n,e.jsonStringifyReplacer=(s,i)=>typeof i=="bigint"?i.toString():i})(Ae||(Ae={}));var mx;(function(e){e.mergeShapes=(t,r)=>({...t,...r})})(mx||(mx={}));const le=Ae.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),Yn=e=>{switch(typeof e){case"undefined":return le.undefined;case"string":return le.string;case"number":return Number.isNaN(e)?le.nan:le.number;case"boolean":return le.boolean;case"function":return le.function;case"bigint":return le.bigint;case"symbol":return le.symbol;case"object":return Array.isArray(e)?le.array:e===null?le.null:e.then&&typeof e.then=="function"&&e.catch&&typeof e.catch=="function"?le.promise:typeof Map<"u"&&e instanceof Map?le.map:typeof Set<"u"&&e instanceof Set?le.set:typeof Date<"u"&&e instanceof Date?le.date:le.object;default:return le.unknown}},H=Ae.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class On extends Error{get errors(){return this.issues}constructor(t){super(),this.issues=[],this.addIssue=n=>{this.issues=[...this.issues,n]},this.addIssues=(n=[])=>{this.issues=[...this.issues,...n]};const r=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,r):this.__proto__=r,this.name="ZodError",this.issues=t}format(t){const r=t||function(i){return i.message},n={_errors:[]},s=i=>{for(const o of i.issues)if(o.code==="invalid_union")o.unionErrors.map(s);else if(o.code==="invalid_return_type")s(o.returnTypeError);else if(o.code==="invalid_arguments")s(o.argumentsError);else if(o.path.length===0)n._errors.push(r(o));else{let a=n,l=0;for(;l<o.path.length;){const c=o.path[l];l===o.path.length-1?(a[c]=a[c]||{_errors:[]},a[c]._errors.push(r(o))):a[c]=a[c]||{_errors:[]},a=a[c],l++}}};return s(this),n}static assert(t){if(!(t instanceof On))throw new Error(`Not a ZodError: ${t}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,Ae.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(t=r=>r.message){const r={},n=[];for(const s of this.issues)if(s.path.length>0){const i=s.path[0];r[i]=r[i]||[],r[i].push(t(s))}else n.push(t(s));return{formErrors:n,fieldErrors:r}}get formErrors(){return this.flatten()}}On.create=e=>new On(e);const Rm=(e,t)=>{let r;switch(e.code){case H.invalid_type:e.received===le.undefined?r="Required":r=`Expected ${e.expected}, received ${e.received}`;break;case H.invalid_literal:r=`Invalid literal value, expected ${JSON.stringify(e.expected,Ae.jsonStringifyReplacer)}`;break;case H.unrecognized_keys:r=`Unrecognized key(s) in object: ${Ae.joinValues(e.keys,", ")}`;break;case H.invalid_union:r="Invalid input";break;case H.invalid_union_discriminator:r=`Invalid discriminator value. Expected ${Ae.joinValues(e.options)}`;break;case H.invalid_enum_value:r=`Invalid enum value. Expected ${Ae.joinValues(e.options)}, received '${e.received}'`;break;case H.invalid_arguments:r="Invalid function arguments";break;case H.invalid_return_type:r="Invalid function return type";break;case H.invalid_date:r="Invalid date";break;case H.invalid_string:typeof e.validation=="object"?"includes"in e.validation?(r=`Invalid input: must include "${e.validation.includes}"`,typeof e.validation.position=="number"&&(r=`${r} at one or more positions greater than or equal to ${e.validation.position}`)):"startsWith"in e.validation?r=`Invalid input: must start with "${e.validation.startsWith}"`:"endsWith"in e.validation?r=`Invalid input: must end with "${e.validation.endsWith}"`:Ae.assertNever(e.validation):e.validation!=="regex"?r=`Invalid ${e.validation}`:r="Invalid";break;case H.too_small:e.type==="array"?r=`Array must contain ${e.exact?"exactly":e.inclusive?"at least":"more than"} ${e.minimum} element(s)`:e.type==="string"?r=`String must contain ${e.exact?"exactly":e.inclusive?"at least":"over"} ${e.minimum} character(s)`:e.type==="number"?r=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="bigint"?r=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="date"?r=`Date must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(e.minimum))}`:r="Invalid input";break;case H.too_big:e.type==="array"?r=`Array must contain ${e.exact?"exactly":e.inclusive?"at most":"less than"} ${e.maximum} element(s)`:e.type==="string"?r=`String must contain ${e.exact?"exactly":e.inclusive?"at most":"under"} ${e.maximum} character(s)`:e.type==="number"?r=`Number must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="bigint"?r=`BigInt must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="date"?r=`Date must be ${e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(e.maximum))}`:r="Invalid input";break;case H.custom:r="Invalid input";break;case H.invalid_intersection_types:r="Intersection results could not be merged";break;case H.not_multiple_of:r=`Number must be a multiple of ${e.multipleOf}`;break;case H.not_finite:r="Number must be finite";break;default:r=t.defaultError,Ae.assertNever(e)}return{message:r}};let nB=Rm;function sB(){return nB}const iB=e=>{const{data:t,path:r,errorMaps:n,issueData:s}=e,i=[...r,...s.path||[]],o={...s,path:i};if(s.message!==void 0)return{...s,path:i,message:s.message};let a="";const l=n.filter(c=>!!c).slice().reverse();for(const c of l)a=c(o,{data:t,defaultError:a}).message;return{...s,path:i,message:a}};function ie(e,t){const r=sB(),n=iB({issueData:t,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,r,r===Rm?void 0:Rm].filter(s=>!!s)});e.common.issues.push(n)}class ir{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(t,r){const n=[];for(const s of r){if(s.status==="aborted")return ge;s.status==="dirty"&&t.dirty(),n.push(s.value)}return{status:t.value,value:n}}static async mergeObjectAsync(t,r){const n=[];for(const s of r){const i=await s.key,o=await s.value;n.push({key:i,value:o})}return ir.mergeObjectSync(t,n)}static mergeObjectSync(t,r){const n={};for(const s of r){const{key:i,value:o}=s;if(i.status==="aborted"||o.status==="aborted")return ge;i.status==="dirty"&&t.dirty(),o.status==="dirty"&&t.dirty(),i.value!=="__proto__"&&(typeof o.value<"u"||s.alwaysSet)&&(n[i.value]=o.value)}return{status:t.value,value:n}}}const ge=Object.freeze({status:"aborted"}),Ta=e=>({status:"dirty",value:e}),br=e=>({status:"valid",value:e}),gx=e=>e.status==="aborted",vx=e=>e.status==="dirty",Go=e=>e.status==="valid",dd=e=>typeof Promise<"u"&&e instanceof Promise;var ce;(function(e){e.errToObj=t=>typeof t=="string"?{message:t}:t||{},e.toString=t=>typeof t=="string"?t:t==null?void 0:t.message})(ce||(ce={}));class Os{constructor(t,r,n,s){this._cachedPath=[],this.parent=t,this.data=r,this._path=n,this._key=s}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const yx=(e,t)=>{if(Go(t))return{success:!0,data:t.value};if(!e.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const r=new On(e.common.issues);return this._error=r,this._error}}};function ke(e){if(!e)return{};const{errorMap:t,invalid_type_error:r,required_error:n,description:s}=e;if(t&&(r||n))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return t?{errorMap:t,description:s}:{errorMap:(o,a)=>{const{message:l}=e;return o.code==="invalid_enum_value"?{message:l??a.defaultError}:typeof a.data>"u"?{message:l??n??a.defaultError}:o.code!=="invalid_type"?{message:a.defaultError}:{message:l??r??a.defaultError}},description:s}}class je{get description(){return this._def.description}_getType(t){return Yn(t.data)}_getOrReturnCtx(t,r){return r||{common:t.parent.common,data:t.data,parsedType:Yn(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}_processInputParams(t){return{status:new ir,ctx:{common:t.parent.common,data:t.data,parsedType:Yn(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}}_parseSync(t){const r=this._parse(t);if(dd(r))throw new Error("Synchronous parse encountered promise.");return r}_parseAsync(t){const r=this._parse(t);return Promise.resolve(r)}parse(t,r){const n=this.safeParse(t,r);if(n.success)return n.data;throw n.error}safeParse(t,r){const n={common:{issues:[],async:(r==null?void 0:r.async)??!1,contextualErrorMap:r==null?void 0:r.errorMap},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:Yn(t)},s=this._parseSync({data:t,path:n.path,parent:n});return yx(n,s)}"~validate"(t){var n,s;const r={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:Yn(t)};if(!this["~standard"].async)try{const i=this._parseSync({data:t,path:[],parent:r});return Go(i)?{value:i.value}:{issues:r.common.issues}}catch(i){(s=(n=i==null?void 0:i.message)==null?void 0:n.toLowerCase())!=null&&s.includes("encountered")&&(this["~standard"].async=!0),r.common={issues:[],async:!0}}return this._parseAsync({data:t,path:[],parent:r}).then(i=>Go(i)?{value:i.value}:{issues:r.common.issues})}async parseAsync(t,r){const n=await this.safeParseAsync(t,r);if(n.success)return n.data;throw n.error}async safeParseAsync(t,r){const n={common:{issues:[],contextualErrorMap:r==null?void 0:r.errorMap,async:!0},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:Yn(t)},s=this._parse({data:t,path:n.path,parent:n}),i=await(dd(s)?s:Promise.resolve(s));return yx(n,i)}refine(t,r){const n=s=>typeof r=="string"||typeof r>"u"?{message:r}:typeof r=="function"?r(s):r;return this._refinement((s,i)=>{const o=t(s),a=()=>i.addIssue({code:H.custom,...n(s)});return typeof Promise<"u"&&o instanceof Promise?o.then(l=>l?!0:(a(),!1)):o?!0:(a(),!1)})}refinement(t,r){return this._refinement((n,s)=>t(n)?!0:(s.addIssue(typeof r=="function"?r(n,s):r),!1))}_refinement(t){return new Yo({schema:this,typeName:ve.ZodEffects,effect:{type:"refinement",refinement:t}})}superRefine(t){return this._refinement(t)}constructor(t){this.spa=this.safeParseAsync,this._def=t,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:r=>this["~validate"](r)}}optional(){return Ts.create(this,this._def)}nullable(){return Zo.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return tn.create(this)}promise(){return md.create(this,this._def)}or(t){return hd.create([this,t],this._def)}and(t){return pd.create(this,t,this._def)}transform(t){return new Yo({...ke(this._def),schema:this,typeName:ve.ZodEffects,effect:{type:"transform",transform:t}})}default(t){const r=typeof t=="function"?t:()=>t;return new Am({...ke(this._def),innerType:this,defaultValue:r,typeName:ve.ZodDefault})}brand(){return new TB({typeName:ve.ZodBranded,type:this,...ke(this._def)})}catch(t){const r=typeof t=="function"?t:()=>t;return new Pm({...ke(this._def),innerType:this,catchValue:r,typeName:ve.ZodCatch})}describe(t){const r=this.constructor;return new r({...this._def,description:t})}pipe(t){return Zv.create(this,t)}readonly(){return Om.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const oB=/^c[^\s-]{8,}$/i,aB=/^[0-9a-z]+$/,lB=/^[0-9A-HJKMNP-TV-Z]{26}$/i,cB=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,uB=/^[a-z0-9_-]{21}$/i,dB=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,fB=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,hB=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,pB="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let jh;const mB=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,gB=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,vB=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,yB=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,wB=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,xB=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,mN="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",bB=new RegExp(`^${mN}$`);function gN(e){let t="[0-5]\\d";e.precision?t=`${t}\\.\\d{${e.precision}}`:e.precision==null&&(t=`${t}(\\.\\d+)?`);const r=e.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${t})${r}`}function _B(e){return new RegExp(`^${gN(e)}$`)}function SB(e){let t=`${mN}T${gN(e)}`;const r=[];return r.push(e.local?"Z?":"Z"),e.offset&&r.push("([+-]\\d{2}:?\\d{2})"),t=`${t}(${r.join("|")})`,new RegExp(`^${t}$`)}function kB(e,t){return!!((t==="v4"||!t)&&mB.test(e)||(t==="v6"||!t)&&vB.test(e))}function EB(e,t){if(!dB.test(e))return!1;try{const[r]=e.split(".");if(!r)return!1;const n=r.replace(/-/g,"+").replace(/_/g,"/").padEnd(r.length+(4-r.length%4)%4,"="),s=JSON.parse(atob(n));return!(typeof s!="object"||s===null||"typ"in s&&(s==null?void 0:s.typ)!=="JWT"||!s.alg||t&&s.alg!==t)}catch{return!1}}function CB(e,t){return!!((t==="v4"||!t)&&gB.test(e)||(t==="v6"||!t)&&yB.test(e))}class gs extends je{_parse(t){if(this._def.coerce&&(t.data=String(t.data)),this._getType(t)!==le.string){const i=this._getOrReturnCtx(t);return ie(i,{code:H.invalid_type,expected:le.string,received:i.parsedType}),ge}const n=new ir;let s;for(const i of this._def.checks)if(i.kind==="min")t.data.length<i.value&&(s=this._getOrReturnCtx(t,s),ie(s,{code:H.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),n.dirty());else if(i.kind==="max")t.data.length>i.value&&(s=this._getOrReturnCtx(t,s),ie(s,{code:H.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),n.dirty());else if(i.kind==="length"){const o=t.data.length>i.value,a=t.data.length<i.value;(o||a)&&(s=this._getOrReturnCtx(t,s),o?ie(s,{code:H.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}):a&&ie(s,{code:H.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}),n.dirty())}else if(i.kind==="email")hB.test(t.data)||(s=this._getOrReturnCtx(t,s),ie(s,{validation:"email",code:H.invalid_string,message:i.message}),n.dirty());else if(i.kind==="emoji")jh||(jh=new RegExp(pB,"u")),jh.test(t.data)||(s=this._getOrReturnCtx(t,s),ie(s,{validation:"emoji",code:H.invalid_string,message:i.message}),n.dirty());else if(i.kind==="uuid")cB.test(t.data)||(s=this._getOrReturnCtx(t,s),ie(s,{validation:"uuid",code:H.invalid_string,message:i.message}),n.dirty());else if(i.kind==="nanoid")uB.test(t.data)||(s=this._getOrReturnCtx(t,s),ie(s,{validation:"nanoid",code:H.invalid_string,message:i.message}),n.dirty());else if(i.kind==="cuid")oB.test(t.data)||(s=this._getOrReturnCtx(t,s),ie(s,{validation:"cuid",code:H.invalid_string,message:i.message}),n.dirty());else if(i.kind==="cuid2")aB.test(t.data)||(s=this._getOrReturnCtx(t,s),ie(s,{validation:"cuid2",code:H.invalid_string,message:i.message}),n.dirty());else if(i.kind==="ulid")lB.test(t.data)||(s=this._getOrReturnCtx(t,s),ie(s,{validation:"ulid",code:H.invalid_string,message:i.message}),n.dirty());else if(i.kind==="url")try{new URL(t.data)}catch{s=this._getOrReturnCtx(t,s),ie(s,{validation:"url",code:H.invalid_string,message:i.message}),n.dirty()}else i.kind==="regex"?(i.regex.lastIndex=0,i.regex.test(t.data)||(s=this._getOrReturnCtx(t,s),ie(s,{validation:"regex",code:H.invalid_string,message:i.message}),n.dirty())):i.kind==="trim"?t.data=t.data.trim():i.kind==="includes"?t.data.includes(i.value,i.position)||(s=this._getOrReturnCtx(t,s),ie(s,{code:H.invalid_string,validation:{includes:i.value,position:i.position},message:i.message}),n.dirty()):i.kind==="toLowerCase"?t.data=t.data.toLowerCase():i.kind==="toUpperCase"?t.data=t.data.toUpperCase():i.kind==="startsWith"?t.data.startsWith(i.value)||(s=this._getOrReturnCtx(t,s),ie(s,{code:H.invalid_string,validation:{startsWith:i.value},message:i.message}),n.dirty()):i.kind==="endsWith"?t.data.endsWith(i.value)||(s=this._getOrReturnCtx(t,s),ie(s,{code:H.invalid_string,validation:{endsWith:i.value},message:i.message}),n.dirty()):i.kind==="datetime"?SB(i).test(t.data)||(s=this._getOrReturnCtx(t,s),ie(s,{code:H.invalid_string,validation:"datetime",message:i.message}),n.dirty()):i.kind==="date"?bB.test(t.data)||(s=this._getOrReturnCtx(t,s),ie(s,{code:H.invalid_string,validation:"date",message:i.message}),n.dirty()):i.kind==="time"?_B(i).test(t.data)||(s=this._getOrReturnCtx(t,s),ie(s,{code:H.invalid_string,validation:"time",message:i.message}),n.dirty()):i.kind==="duration"?fB.test(t.data)||(s=this._getOrReturnCtx(t,s),ie(s,{validation:"duration",code:H.invalid_string,message:i.message}),n.dirty()):i.kind==="ip"?kB(t.data,i.version)||(s=this._getOrReturnCtx(t,s),ie(s,{validation:"ip",code:H.invalid_string,message:i.message}),n.dirty()):i.kind==="jwt"?EB(t.data,i.alg)||(s=this._getOrReturnCtx(t,s),ie(s,{validation:"jwt",code:H.invalid_string,message:i.message}),n.dirty()):i.kind==="cidr"?CB(t.data,i.version)||(s=this._getOrReturnCtx(t,s),ie(s,{validation:"cidr",code:H.invalid_string,message:i.message}),n.dirty()):i.kind==="base64"?wB.test(t.data)||(s=this._getOrReturnCtx(t,s),ie(s,{validation:"base64",code:H.invalid_string,message:i.message}),n.dirty()):i.kind==="base64url"?xB.test(t.data)||(s=this._getOrReturnCtx(t,s),ie(s,{validation:"base64url",code:H.invalid_string,message:i.message}),n.dirty()):Ae.assertNever(i);return{status:n.value,value:t.data}}_regex(t,r,n){return this.refinement(s=>t.test(s),{validation:r,code:H.invalid_string,...ce.errToObj(n)})}_addCheck(t){return new gs({...this._def,checks:[...this._def.checks,t]})}email(t){return this._addCheck({kind:"email",...ce.errToObj(t)})}url(t){return this._addCheck({kind:"url",...ce.errToObj(t)})}emoji(t){return this._addCheck({kind:"emoji",...ce.errToObj(t)})}uuid(t){return this._addCheck({kind:"uuid",...ce.errToObj(t)})}nanoid(t){return this._addCheck({kind:"nanoid",...ce.errToObj(t)})}cuid(t){return this._addCheck({kind:"cuid",...ce.errToObj(t)})}cuid2(t){return this._addCheck({kind:"cuid2",...ce.errToObj(t)})}ulid(t){return this._addCheck({kind:"ulid",...ce.errToObj(t)})}base64(t){return this._addCheck({kind:"base64",...ce.errToObj(t)})}base64url(t){return this._addCheck({kind:"base64url",...ce.errToObj(t)})}jwt(t){return this._addCheck({kind:"jwt",...ce.errToObj(t)})}ip(t){return this._addCheck({kind:"ip",...ce.errToObj(t)})}cidr(t){return this._addCheck({kind:"cidr",...ce.errToObj(t)})}datetime(t){return typeof t=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:t}):this._addCheck({kind:"datetime",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,offset:(t==null?void 0:t.offset)??!1,local:(t==null?void 0:t.local)??!1,...ce.errToObj(t==null?void 0:t.message)})}date(t){return this._addCheck({kind:"date",message:t})}time(t){return typeof t=="string"?this._addCheck({kind:"time",precision:null,message:t}):this._addCheck({kind:"time",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,...ce.errToObj(t==null?void 0:t.message)})}duration(t){return this._addCheck({kind:"duration",...ce.errToObj(t)})}regex(t,r){return this._addCheck({kind:"regex",regex:t,...ce.errToObj(r)})}includes(t,r){return this._addCheck({kind:"includes",value:t,position:r==null?void 0:r.position,...ce.errToObj(r==null?void 0:r.message)})}startsWith(t,r){return this._addCheck({kind:"startsWith",value:t,...ce.errToObj(r)})}endsWith(t,r){return this._addCheck({kind:"endsWith",value:t,...ce.errToObj(r)})}min(t,r){return this._addCheck({kind:"min",value:t,...ce.errToObj(r)})}max(t,r){return this._addCheck({kind:"max",value:t,...ce.errToObj(r)})}length(t,r){return this._addCheck({kind:"length",value:t,...ce.errToObj(r)})}nonempty(t){return this.min(1,ce.errToObj(t))}trim(){return new gs({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new gs({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new gs({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(t=>t.kind==="datetime")}get isDate(){return!!this._def.checks.find(t=>t.kind==="date")}get isTime(){return!!this._def.checks.find(t=>t.kind==="time")}get isDuration(){return!!this._def.checks.find(t=>t.kind==="duration")}get isEmail(){return!!this._def.checks.find(t=>t.kind==="email")}get isURL(){return!!this._def.checks.find(t=>t.kind==="url")}get isEmoji(){return!!this._def.checks.find(t=>t.kind==="emoji")}get isUUID(){return!!this._def.checks.find(t=>t.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(t=>t.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(t=>t.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(t=>t.kind==="cuid2")}get isULID(){return!!this._def.checks.find(t=>t.kind==="ulid")}get isIP(){return!!this._def.checks.find(t=>t.kind==="ip")}get isCIDR(){return!!this._def.checks.find(t=>t.kind==="cidr")}get isBase64(){return!!this._def.checks.find(t=>t.kind==="base64")}get isBase64url(){return!!this._def.checks.find(t=>t.kind==="base64url")}get minLength(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxLength(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}}gs.create=e=>new gs({checks:[],typeName:ve.ZodString,coerce:(e==null?void 0:e.coerce)??!1,...ke(e)});function NB(e,t){const r=(e.toString().split(".")[1]||"").length,n=(t.toString().split(".")[1]||"").length,s=r>n?r:n,i=Number.parseInt(e.toFixed(s).replace(".","")),o=Number.parseInt(t.toFixed(s).replace(".",""));return i%o/10**s}class El extends je{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(t){if(this._def.coerce&&(t.data=Number(t.data)),this._getType(t)!==le.number){const i=this._getOrReturnCtx(t);return ie(i,{code:H.invalid_type,expected:le.number,received:i.parsedType}),ge}let n;const s=new ir;for(const i of this._def.checks)i.kind==="int"?Ae.isInteger(t.data)||(n=this._getOrReturnCtx(t,n),ie(n,{code:H.invalid_type,expected:"integer",received:"float",message:i.message}),s.dirty()):i.kind==="min"?(i.inclusive?t.data<i.value:t.data<=i.value)&&(n=this._getOrReturnCtx(t,n),ie(n,{code:H.too_small,minimum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),s.dirty()):i.kind==="max"?(i.inclusive?t.data>i.value:t.data>=i.value)&&(n=this._getOrReturnCtx(t,n),ie(n,{code:H.too_big,maximum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),s.dirty()):i.kind==="multipleOf"?NB(t.data,i.value)!==0&&(n=this._getOrReturnCtx(t,n),ie(n,{code:H.not_multiple_of,multipleOf:i.value,message:i.message}),s.dirty()):i.kind==="finite"?Number.isFinite(t.data)||(n=this._getOrReturnCtx(t,n),ie(n,{code:H.not_finite,message:i.message}),s.dirty()):Ae.assertNever(i);return{status:s.value,value:t.data}}gte(t,r){return this.setLimit("min",t,!0,ce.toString(r))}gt(t,r){return this.setLimit("min",t,!1,ce.toString(r))}lte(t,r){return this.setLimit("max",t,!0,ce.toString(r))}lt(t,r){return this.setLimit("max",t,!1,ce.toString(r))}setLimit(t,r,n,s){return new El({...this._def,checks:[...this._def.checks,{kind:t,value:r,inclusive:n,message:ce.toString(s)}]})}_addCheck(t){return new El({...this._def,checks:[...this._def.checks,t]})}int(t){return this._addCheck({kind:"int",message:ce.toString(t)})}positive(t){return this._addCheck({kind:"min",value:0,inclusive:!1,message:ce.toString(t)})}negative(t){return this._addCheck({kind:"max",value:0,inclusive:!1,message:ce.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:0,inclusive:!0,message:ce.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:0,inclusive:!0,message:ce.toString(t)})}multipleOf(t,r){return this._addCheck({kind:"multipleOf",value:t,message:ce.toString(r)})}finite(t){return this._addCheck({kind:"finite",message:ce.toString(t)})}safe(t){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:ce.toString(t)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:ce.toString(t)})}get minValue(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxValue(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}get isInt(){return!!this._def.checks.find(t=>t.kind==="int"||t.kind==="multipleOf"&&Ae.isInteger(t.value))}get isFinite(){let t=null,r=null;for(const n of this._def.checks){if(n.kind==="finite"||n.kind==="int"||n.kind==="multipleOf")return!0;n.kind==="min"?(r===null||n.value>r)&&(r=n.value):n.kind==="max"&&(t===null||n.value<t)&&(t=n.value)}return Number.isFinite(r)&&Number.isFinite(t)}}El.create=e=>new El({checks:[],typeName:ve.ZodNumber,coerce:(e==null?void 0:e.coerce)||!1,...ke(e)});class Cl extends je{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(t){if(this._def.coerce)try{t.data=BigInt(t.data)}catch{return this._getInvalidInput(t)}if(this._getType(t)!==le.bigint)return this._getInvalidInput(t);let n;const s=new ir;for(const i of this._def.checks)i.kind==="min"?(i.inclusive?t.data<i.value:t.data<=i.value)&&(n=this._getOrReturnCtx(t,n),ie(n,{code:H.too_small,type:"bigint",minimum:i.value,inclusive:i.inclusive,message:i.message}),s.dirty()):i.kind==="max"?(i.inclusive?t.data>i.value:t.data>=i.value)&&(n=this._getOrReturnCtx(t,n),ie(n,{code:H.too_big,type:"bigint",maximum:i.value,inclusive:i.inclusive,message:i.message}),s.dirty()):i.kind==="multipleOf"?t.data%i.value!==BigInt(0)&&(n=this._getOrReturnCtx(t,n),ie(n,{code:H.not_multiple_of,multipleOf:i.value,message:i.message}),s.dirty()):Ae.assertNever(i);return{status:s.value,value:t.data}}_getInvalidInput(t){const r=this._getOrReturnCtx(t);return ie(r,{code:H.invalid_type,expected:le.bigint,received:r.parsedType}),ge}gte(t,r){return this.setLimit("min",t,!0,ce.toString(r))}gt(t,r){return this.setLimit("min",t,!1,ce.toString(r))}lte(t,r){return this.setLimit("max",t,!0,ce.toString(r))}lt(t,r){return this.setLimit("max",t,!1,ce.toString(r))}setLimit(t,r,n,s){return new Cl({...this._def,checks:[...this._def.checks,{kind:t,value:r,inclusive:n,message:ce.toString(s)}]})}_addCheck(t){return new Cl({...this._def,checks:[...this._def.checks,t]})}positive(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:ce.toString(t)})}negative(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:ce.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:ce.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:ce.toString(t)})}multipleOf(t,r){return this._addCheck({kind:"multipleOf",value:t,message:ce.toString(r)})}get minValue(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxValue(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}}Cl.create=e=>new Cl({checks:[],typeName:ve.ZodBigInt,coerce:(e==null?void 0:e.coerce)??!1,...ke(e)});class wx extends je{_parse(t){if(this._def.coerce&&(t.data=!!t.data),this._getType(t)!==le.boolean){const n=this._getOrReturnCtx(t);return ie(n,{code:H.invalid_type,expected:le.boolean,received:n.parsedType}),ge}return br(t.data)}}wx.create=e=>new wx({typeName:ve.ZodBoolean,coerce:(e==null?void 0:e.coerce)||!1,...ke(e)});class fd extends je{_parse(t){if(this._def.coerce&&(t.data=new Date(t.data)),this._getType(t)!==le.date){const i=this._getOrReturnCtx(t);return ie(i,{code:H.invalid_type,expected:le.date,received:i.parsedType}),ge}if(Number.isNaN(t.data.getTime())){const i=this._getOrReturnCtx(t);return ie(i,{code:H.invalid_date}),ge}const n=new ir;let s;for(const i of this._def.checks)i.kind==="min"?t.data.getTime()<i.value&&(s=this._getOrReturnCtx(t,s),ie(s,{code:H.too_small,message:i.message,inclusive:!0,exact:!1,minimum:i.value,type:"date"}),n.dirty()):i.kind==="max"?t.data.getTime()>i.value&&(s=this._getOrReturnCtx(t,s),ie(s,{code:H.too_big,message:i.message,inclusive:!0,exact:!1,maximum:i.value,type:"date"}),n.dirty()):Ae.assertNever(i);return{status:n.value,value:new Date(t.data.getTime())}}_addCheck(t){return new fd({...this._def,checks:[...this._def.checks,t]})}min(t,r){return this._addCheck({kind:"min",value:t.getTime(),message:ce.toString(r)})}max(t,r){return this._addCheck({kind:"max",value:t.getTime(),message:ce.toString(r)})}get minDate(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t!=null?new Date(t):null}get maxDate(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t!=null?new Date(t):null}}fd.create=e=>new fd({checks:[],coerce:(e==null?void 0:e.coerce)||!1,typeName:ve.ZodDate,...ke(e)});class xx extends je{_parse(t){if(this._getType(t)!==le.symbol){const n=this._getOrReturnCtx(t);return ie(n,{code:H.invalid_type,expected:le.symbol,received:n.parsedType}),ge}return br(t.data)}}xx.create=e=>new xx({typeName:ve.ZodSymbol,...ke(e)});class bx extends je{_parse(t){if(this._getType(t)!==le.undefined){const n=this._getOrReturnCtx(t);return ie(n,{code:H.invalid_type,expected:le.undefined,received:n.parsedType}),ge}return br(t.data)}}bx.create=e=>new bx({typeName:ve.ZodUndefined,...ke(e)});class _x extends je{_parse(t){if(this._getType(t)!==le.null){const n=this._getOrReturnCtx(t);return ie(n,{code:H.invalid_type,expected:le.null,received:n.parsedType}),ge}return br(t.data)}}_x.create=e=>new _x({typeName:ve.ZodNull,...ke(e)});class Sx extends je{constructor(){super(...arguments),this._any=!0}_parse(t){return br(t.data)}}Sx.create=e=>new Sx({typeName:ve.ZodAny,...ke(e)});class kx extends je{constructor(){super(...arguments),this._unknown=!0}_parse(t){return br(t.data)}}kx.create=e=>new kx({typeName:ve.ZodUnknown,...ke(e)});class Ds extends je{_parse(t){const r=this._getOrReturnCtx(t);return ie(r,{code:H.invalid_type,expected:le.never,received:r.parsedType}),ge}}Ds.create=e=>new Ds({typeName:ve.ZodNever,...ke(e)});class Ex extends je{_parse(t){if(this._getType(t)!==le.undefined){const n=this._getOrReturnCtx(t);return ie(n,{code:H.invalid_type,expected:le.void,received:n.parsedType}),ge}return br(t.data)}}Ex.create=e=>new Ex({typeName:ve.ZodVoid,...ke(e)});class tn extends je{_parse(t){const{ctx:r,status:n}=this._processInputParams(t),s=this._def;if(r.parsedType!==le.array)return ie(r,{code:H.invalid_type,expected:le.array,received:r.parsedType}),ge;if(s.exactLength!==null){const o=r.data.length>s.exactLength.value,a=r.data.length<s.exactLength.value;(o||a)&&(ie(r,{code:o?H.too_big:H.too_small,minimum:a?s.exactLength.value:void 0,maximum:o?s.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:s.exactLength.message}),n.dirty())}if(s.minLength!==null&&r.data.length<s.minLength.value&&(ie(r,{code:H.too_small,minimum:s.minLength.value,type:"array",inclusive:!0,exact:!1,message:s.minLength.message}),n.dirty()),s.maxLength!==null&&r.data.length>s.maxLength.value&&(ie(r,{code:H.too_big,maximum:s.maxLength.value,type:"array",inclusive:!0,exact:!1,message:s.maxLength.message}),n.dirty()),r.common.async)return Promise.all([...r.data].map((o,a)=>s.type._parseAsync(new Os(r,o,r.path,a)))).then(o=>ir.mergeArray(n,o));const i=[...r.data].map((o,a)=>s.type._parseSync(new Os(r,o,r.path,a)));return ir.mergeArray(n,i)}get element(){return this._def.type}min(t,r){return new tn({...this._def,minLength:{value:t,message:ce.toString(r)}})}max(t,r){return new tn({...this._def,maxLength:{value:t,message:ce.toString(r)}})}length(t,r){return new tn({...this._def,exactLength:{value:t,message:ce.toString(r)}})}nonempty(t){return this.min(1,t)}}tn.create=(e,t)=>new tn({type:e,minLength:null,maxLength:null,exactLength:null,typeName:ve.ZodArray,...ke(t)});function Gi(e){if(e instanceof Je){const t={};for(const r in e.shape){const n=e.shape[r];t[r]=Ts.create(Gi(n))}return new Je({...e._def,shape:()=>t})}else return e instanceof tn?new tn({...e._def,type:Gi(e.element)}):e instanceof Ts?Ts.create(Gi(e.unwrap())):e instanceof Zo?Zo.create(Gi(e.unwrap())):e instanceof Ei?Ei.create(e.items.map(t=>Gi(t))):e}class Je extends je{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const t=this._def.shape(),r=Ae.objectKeys(t);return this._cached={shape:t,keys:r},this._cached}_parse(t){if(this._getType(t)!==le.object){const c=this._getOrReturnCtx(t);return ie(c,{code:H.invalid_type,expected:le.object,received:c.parsedType}),ge}const{status:n,ctx:s}=this._processInputParams(t),{shape:i,keys:o}=this._getCached(),a=[];if(!(this._def.catchall instanceof Ds&&this._def.unknownKeys==="strip"))for(const c in s.data)o.includes(c)||a.push(c);const l=[];for(const c of o){const u=i[c],f=s.data[c];l.push({key:{status:"valid",value:c},value:u._parse(new Os(s,f,s.path,c)),alwaysSet:c in s.data})}if(this._def.catchall instanceof Ds){const c=this._def.unknownKeys;if(c==="passthrough")for(const u of a)l.push({key:{status:"valid",value:u},value:{status:"valid",value:s.data[u]}});else if(c==="strict")a.length>0&&(ie(s,{code:H.unrecognized_keys,keys:a}),n.dirty());else if(c!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const c=this._def.catchall;for(const u of a){const f=s.data[u];l.push({key:{status:"valid",value:u},value:c._parse(new Os(s,f,s.path,u)),alwaysSet:u in s.data})}}return s.common.async?Promise.resolve().then(async()=>{const c=[];for(const u of l){const f=await u.key,p=await u.value;c.push({key:f,value:p,alwaysSet:u.alwaysSet})}return c}).then(c=>ir.mergeObjectSync(n,c)):ir.mergeObjectSync(n,l)}get shape(){return this._def.shape()}strict(t){return ce.errToObj,new Je({...this._def,unknownKeys:"strict",...t!==void 0?{errorMap:(r,n)=>{var i,o;const s=((o=(i=this._def).errorMap)==null?void 0:o.call(i,r,n).message)??n.defaultError;return r.code==="unrecognized_keys"?{message:ce.errToObj(t).message??s}:{message:s}}}:{}})}strip(){return new Je({...this._def,unknownKeys:"strip"})}passthrough(){return new Je({...this._def,unknownKeys:"passthrough"})}extend(t){return new Je({...this._def,shape:()=>({...this._def.shape(),...t})})}merge(t){return new Je({unknownKeys:t._def.unknownKeys,catchall:t._def.catchall,shape:()=>({...this._def.shape(),...t._def.shape()}),typeName:ve.ZodObject})}setKey(t,r){return this.augment({[t]:r})}catchall(t){return new Je({...this._def,catchall:t})}pick(t){const r={};for(const n of Ae.objectKeys(t))t[n]&&this.shape[n]&&(r[n]=this.shape[n]);return new Je({...this._def,shape:()=>r})}omit(t){const r={};for(const n of Ae.objectKeys(this.shape))t[n]||(r[n]=this.shape[n]);return new Je({...this._def,shape:()=>r})}deepPartial(){return Gi(this)}partial(t){const r={};for(const n of Ae.objectKeys(this.shape)){const s=this.shape[n];t&&!t[n]?r[n]=s:r[n]=s.optional()}return new Je({...this._def,shape:()=>r})}required(t){const r={};for(const n of Ae.objectKeys(this.shape))if(t&&!t[n])r[n]=this.shape[n];else{let i=this.shape[n];for(;i instanceof Ts;)i=i._def.innerType;r[n]=i}return new Je({...this._def,shape:()=>r})}keyof(){return vN(Ae.objectKeys(this.shape))}}Je.create=(e,t)=>new Je({shape:()=>e,unknownKeys:"strip",catchall:Ds.create(),typeName:ve.ZodObject,...ke(t)});Je.strictCreate=(e,t)=>new Je({shape:()=>e,unknownKeys:"strict",catchall:Ds.create(),typeName:ve.ZodObject,...ke(t)});Je.lazycreate=(e,t)=>new Je({shape:e,unknownKeys:"strip",catchall:Ds.create(),typeName:ve.ZodObject,...ke(t)});class hd extends je{_parse(t){const{ctx:r}=this._processInputParams(t),n=this._def.options;function s(i){for(const a of i)if(a.result.status==="valid")return a.result;for(const a of i)if(a.result.status==="dirty")return r.common.issues.push(...a.ctx.common.issues),a.result;const o=i.map(a=>new On(a.ctx.common.issues));return ie(r,{code:H.invalid_union,unionErrors:o}),ge}if(r.common.async)return Promise.all(n.map(async i=>{const o={...r,common:{...r.common,issues:[]},parent:null};return{result:await i._parseAsync({data:r.data,path:r.path,parent:o}),ctx:o}})).then(s);{let i;const o=[];for(const l of n){const c={...r,common:{...r.common,issues:[]},parent:null},u=l._parseSync({data:r.data,path:r.path,parent:c});if(u.status==="valid")return u;u.status==="dirty"&&!i&&(i={result:u,ctx:c}),c.common.issues.length&&o.push(c.common.issues)}if(i)return r.common.issues.push(...i.ctx.common.issues),i.result;const a=o.map(l=>new On(l));return ie(r,{code:H.invalid_union,unionErrors:a}),ge}}get options(){return this._def.options}}hd.create=(e,t)=>new hd({options:e,typeName:ve.ZodUnion,...ke(t)});function jm(e,t){const r=Yn(e),n=Yn(t);if(e===t)return{valid:!0,data:e};if(r===le.object&&n===le.object){const s=Ae.objectKeys(t),i=Ae.objectKeys(e).filter(a=>s.indexOf(a)!==-1),o={...e,...t};for(const a of i){const l=jm(e[a],t[a]);if(!l.valid)return{valid:!1};o[a]=l.data}return{valid:!0,data:o}}else if(r===le.array&&n===le.array){if(e.length!==t.length)return{valid:!1};const s=[];for(let i=0;i<e.length;i++){const o=e[i],a=t[i],l=jm(o,a);if(!l.valid)return{valid:!1};s.push(l.data)}return{valid:!0,data:s}}else return r===le.date&&n===le.date&&+e==+t?{valid:!0,data:e}:{valid:!1}}class pd extends je{_parse(t){const{status:r,ctx:n}=this._processInputParams(t),s=(i,o)=>{if(gx(i)||gx(o))return ge;const a=jm(i.value,o.value);return a.valid?((vx(i)||vx(o))&&r.dirty(),{status:r.value,value:a.data}):(ie(n,{code:H.invalid_intersection_types}),ge)};return n.common.async?Promise.all([this._def.left._parseAsync({data:n.data,path:n.path,parent:n}),this._def.right._parseAsync({data:n.data,path:n.path,parent:n})]).then(([i,o])=>s(i,o)):s(this._def.left._parseSync({data:n.data,path:n.path,parent:n}),this._def.right._parseSync({data:n.data,path:n.path,parent:n}))}}pd.create=(e,t,r)=>new pd({left:e,right:t,typeName:ve.ZodIntersection,...ke(r)});class Ei extends je{_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==le.array)return ie(n,{code:H.invalid_type,expected:le.array,received:n.parsedType}),ge;if(n.data.length<this._def.items.length)return ie(n,{code:H.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),ge;!this._def.rest&&n.data.length>this._def.items.length&&(ie(n,{code:H.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),r.dirty());const i=[...n.data].map((o,a)=>{const l=this._def.items[a]||this._def.rest;return l?l._parse(new Os(n,o,n.path,a)):null}).filter(o=>!!o);return n.common.async?Promise.all(i).then(o=>ir.mergeArray(r,o)):ir.mergeArray(r,i)}get items(){return this._def.items}rest(t){return new Ei({...this._def,rest:t})}}Ei.create=(e,t)=>{if(!Array.isArray(e))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new Ei({items:e,typeName:ve.ZodTuple,rest:null,...ke(t)})};class Cx extends je{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==le.map)return ie(n,{code:H.invalid_type,expected:le.map,received:n.parsedType}),ge;const s=this._def.keyType,i=this._def.valueType,o=[...n.data.entries()].map(([a,l],c)=>({key:s._parse(new Os(n,a,n.path,[c,"key"])),value:i._parse(new Os(n,l,n.path,[c,"value"]))}));if(n.common.async){const a=new Map;return Promise.resolve().then(async()=>{for(const l of o){const c=await l.key,u=await l.value;if(c.status==="aborted"||u.status==="aborted")return ge;(c.status==="dirty"||u.status==="dirty")&&r.dirty(),a.set(c.value,u.value)}return{status:r.value,value:a}})}else{const a=new Map;for(const l of o){const c=l.key,u=l.value;if(c.status==="aborted"||u.status==="aborted")return ge;(c.status==="dirty"||u.status==="dirty")&&r.dirty(),a.set(c.value,u.value)}return{status:r.value,value:a}}}}Cx.create=(e,t,r)=>new Cx({valueType:t,keyType:e,typeName:ve.ZodMap,...ke(r)});class Nl extends je{_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==le.set)return ie(n,{code:H.invalid_type,expected:le.set,received:n.parsedType}),ge;const s=this._def;s.minSize!==null&&n.data.size<s.minSize.value&&(ie(n,{code:H.too_small,minimum:s.minSize.value,type:"set",inclusive:!0,exact:!1,message:s.minSize.message}),r.dirty()),s.maxSize!==null&&n.data.size>s.maxSize.value&&(ie(n,{code:H.too_big,maximum:s.maxSize.value,type:"set",inclusive:!0,exact:!1,message:s.maxSize.message}),r.dirty());const i=this._def.valueType;function o(l){const c=new Set;for(const u of l){if(u.status==="aborted")return ge;u.status==="dirty"&&r.dirty(),c.add(u.value)}return{status:r.value,value:c}}const a=[...n.data.values()].map((l,c)=>i._parse(new Os(n,l,n.path,c)));return n.common.async?Promise.all(a).then(l=>o(l)):o(a)}min(t,r){return new Nl({...this._def,minSize:{value:t,message:ce.toString(r)}})}max(t,r){return new Nl({...this._def,maxSize:{value:t,message:ce.toString(r)}})}size(t,r){return this.min(t,r).max(t,r)}nonempty(t){return this.min(1,t)}}Nl.create=(e,t)=>new Nl({valueType:e,minSize:null,maxSize:null,typeName:ve.ZodSet,...ke(t)});class Nx extends je{get schema(){return this._def.getter()}_parse(t){const{ctx:r}=this._processInputParams(t);return this._def.getter()._parse({data:r.data,path:r.path,parent:r})}}Nx.create=(e,t)=>new Nx({getter:e,typeName:ve.ZodLazy,...ke(t)});class Tx extends je{_parse(t){if(t.data!==this._def.value){const r=this._getOrReturnCtx(t);return ie(r,{received:r.data,code:H.invalid_literal,expected:this._def.value}),ge}return{status:"valid",value:t.data}}get value(){return this._def.value}}Tx.create=(e,t)=>new Tx({value:e,typeName:ve.ZodLiteral,...ke(t)});function vN(e,t){return new Qo({values:e,typeName:ve.ZodEnum,...ke(t)})}class Qo extends je{_parse(t){if(typeof t.data!="string"){const r=this._getOrReturnCtx(t),n=this._def.values;return ie(r,{expected:Ae.joinValues(n),received:r.parsedType,code:H.invalid_type}),ge}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(t.data)){const r=this._getOrReturnCtx(t),n=this._def.values;return ie(r,{received:r.data,code:H.invalid_enum_value,options:n}),ge}return br(t.data)}get options(){return this._def.values}get enum(){const t={};for(const r of this._def.values)t[r]=r;return t}get Values(){const t={};for(const r of this._def.values)t[r]=r;return t}get Enum(){const t={};for(const r of this._def.values)t[r]=r;return t}extract(t,r=this._def){return Qo.create(t,{...this._def,...r})}exclude(t,r=this._def){return Qo.create(this.options.filter(n=>!t.includes(n)),{...this._def,...r})}}Qo.create=vN;class Rx extends je{_parse(t){const r=Ae.getValidEnumValues(this._def.values),n=this._getOrReturnCtx(t);if(n.parsedType!==le.string&&n.parsedType!==le.number){const s=Ae.objectValues(r);return ie(n,{expected:Ae.joinValues(s),received:n.parsedType,code:H.invalid_type}),ge}if(this._cache||(this._cache=new Set(Ae.getValidEnumValues(this._def.values))),!this._cache.has(t.data)){const s=Ae.objectValues(r);return ie(n,{received:n.data,code:H.invalid_enum_value,options:s}),ge}return br(t.data)}get enum(){return this._def.values}}Rx.create=(e,t)=>new Rx({values:e,typeName:ve.ZodNativeEnum,...ke(t)});class md extends je{unwrap(){return this._def.type}_parse(t){const{ctx:r}=this._processInputParams(t);if(r.parsedType!==le.promise&&r.common.async===!1)return ie(r,{code:H.invalid_type,expected:le.promise,received:r.parsedType}),ge;const n=r.parsedType===le.promise?r.data:Promise.resolve(r.data);return br(n.then(s=>this._def.type.parseAsync(s,{path:r.path,errorMap:r.common.contextualErrorMap})))}}md.create=(e,t)=>new md({type:e,typeName:ve.ZodPromise,...ke(t)});class Yo extends je{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===ve.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(t){const{status:r,ctx:n}=this._processInputParams(t),s=this._def.effect||null,i={addIssue:o=>{ie(n,o),o.fatal?r.abort():r.dirty()},get path(){return n.path}};if(i.addIssue=i.addIssue.bind(i),s.type==="preprocess"){const o=s.transform(n.data,i);if(n.common.async)return Promise.resolve(o).then(async a=>{if(r.value==="aborted")return ge;const l=await this._def.schema._parseAsync({data:a,path:n.path,parent:n});return l.status==="aborted"?ge:l.status==="dirty"||r.value==="dirty"?Ta(l.value):l});{if(r.value==="aborted")return ge;const a=this._def.schema._parseSync({data:o,path:n.path,parent:n});return a.status==="aborted"?ge:a.status==="dirty"||r.value==="dirty"?Ta(a.value):a}}if(s.type==="refinement"){const o=a=>{const l=s.refinement(a,i);if(n.common.async)return Promise.resolve(l);if(l instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return a};if(n.common.async===!1){const a=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});return a.status==="aborted"?ge:(a.status==="dirty"&&r.dirty(),o(a.value),{status:r.value,value:a.value})}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(a=>a.status==="aborted"?ge:(a.status==="dirty"&&r.dirty(),o(a.value).then(()=>({status:r.value,value:a.value}))))}if(s.type==="transform")if(n.common.async===!1){const o=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});if(!Go(o))return ge;const a=s.transform(o.value,i);if(a instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:r.value,value:a}}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(o=>Go(o)?Promise.resolve(s.transform(o.value,i)).then(a=>({status:r.value,value:a})):ge);Ae.assertNever(s)}}Yo.create=(e,t,r)=>new Yo({schema:e,typeName:ve.ZodEffects,effect:t,...ke(r)});Yo.createWithPreprocess=(e,t,r)=>new Yo({schema:t,effect:{type:"preprocess",transform:e},typeName:ve.ZodEffects,...ke(r)});class Ts extends je{_parse(t){return this._getType(t)===le.undefined?br(void 0):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}Ts.create=(e,t)=>new Ts({innerType:e,typeName:ve.ZodOptional,...ke(t)});class Zo extends je{_parse(t){return this._getType(t)===le.null?br(null):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}Zo.create=(e,t)=>new Zo({innerType:e,typeName:ve.ZodNullable,...ke(t)});class Am extends je{_parse(t){const{ctx:r}=this._processInputParams(t);let n=r.data;return r.parsedType===le.undefined&&(n=this._def.defaultValue()),this._def.innerType._parse({data:n,path:r.path,parent:r})}removeDefault(){return this._def.innerType}}Am.create=(e,t)=>new Am({innerType:e,typeName:ve.ZodDefault,defaultValue:typeof t.default=="function"?t.default:()=>t.default,...ke(t)});class Pm extends je{_parse(t){const{ctx:r}=this._processInputParams(t),n={...r,common:{...r.common,issues:[]}},s=this._def.innerType._parse({data:n.data,path:n.path,parent:{...n}});return dd(s)?s.then(i=>({status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new On(n.common.issues)},input:n.data})})):{status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new On(n.common.issues)},input:n.data})}}removeCatch(){return this._def.innerType}}Pm.create=(e,t)=>new Pm({innerType:e,typeName:ve.ZodCatch,catchValue:typeof t.catch=="function"?t.catch:()=>t.catch,...ke(t)});class jx extends je{_parse(t){if(this._getType(t)!==le.nan){const n=this._getOrReturnCtx(t);return ie(n,{code:H.invalid_type,expected:le.nan,received:n.parsedType}),ge}return{status:"valid",value:t.data}}}jx.create=e=>new jx({typeName:ve.ZodNaN,...ke(e)});class TB extends je{_parse(t){const{ctx:r}=this._processInputParams(t),n=r.data;return this._def.type._parse({data:n,path:r.path,parent:r})}unwrap(){return this._def.type}}class Zv extends je{_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.common.async)return(async()=>{const i=await this._def.in._parseAsync({data:n.data,path:n.path,parent:n});return i.status==="aborted"?ge:i.status==="dirty"?(r.dirty(),Ta(i.value)):this._def.out._parseAsync({data:i.value,path:n.path,parent:n})})();{const s=this._def.in._parseSync({data:n.data,path:n.path,parent:n});return s.status==="aborted"?ge:s.status==="dirty"?(r.dirty(),{status:"dirty",value:s.value}):this._def.out._parseSync({data:s.value,path:n.path,parent:n})}}static create(t,r){return new Zv({in:t,out:r,typeName:ve.ZodPipeline})}}class Om extends je{_parse(t){const r=this._def.innerType._parse(t),n=s=>(Go(s)&&(s.value=Object.freeze(s.value)),s);return dd(r)?r.then(s=>n(s)):n(r)}unwrap(){return this._def.innerType}}Om.create=(e,t)=>new Om({innerType:e,typeName:ve.ZodReadonly,...ke(t)});Je.lazycreate;var ve;(function(e){e.ZodString="ZodString",e.ZodNumber="ZodNumber",e.ZodNaN="ZodNaN",e.ZodBigInt="ZodBigInt",e.ZodBoolean="ZodBoolean",e.ZodDate="ZodDate",e.ZodSymbol="ZodSymbol",e.ZodUndefined="ZodUndefined",e.ZodNull="ZodNull",e.ZodAny="ZodAny",e.ZodUnknown="ZodUnknown",e.ZodNever="ZodNever",e.ZodVoid="ZodVoid",e.ZodArray="ZodArray",e.ZodObject="ZodObject",e.ZodUnion="ZodUnion",e.ZodDiscriminatedUnion="ZodDiscriminatedUnion",e.ZodIntersection="ZodIntersection",e.ZodTuple="ZodTuple",e.ZodRecord="ZodRecord",e.ZodMap="ZodMap",e.ZodSet="ZodSet",e.ZodFunction="ZodFunction",e.ZodLazy="ZodLazy",e.ZodLiteral="ZodLiteral",e.ZodEnum="ZodEnum",e.ZodEffects="ZodEffects",e.ZodNativeEnum="ZodNativeEnum",e.ZodOptional="ZodOptional",e.ZodNullable="ZodNullable",e.ZodDefault="ZodDefault",e.ZodCatch="ZodCatch",e.ZodPromise="ZodPromise",e.ZodBranded="ZodBranded",e.ZodPipeline="ZodPipeline",e.ZodReadonly="ZodReadonly"})(ve||(ve={}));const Dm=gs.create;Ds.create;tn.create;const yN=Je.create;Je.strictCreate;hd.create;pd.create;Ei.create;Qo.create;md.create;Ts.create;Zo.create;const Im=m.forwardRef(({className:e,...t},r)=>d.jsx("div",{ref:r,className:K("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));Im.displayName="Card";const Mm=m.forwardRef(({className:e,...t},r)=>d.jsx("div",{ref:r,className:K("flex flex-col space-y-1.5 p-6",e),...t}));Mm.displayName="CardHeader";const fu=m.forwardRef(({className:e,...t},r)=>d.jsx("h3",{ref:r,className:K("text-2xl font-semibold leading-none tracking-tight",e),...t}));fu.displayName="CardTitle";const hu=m.forwardRef(({className:e,...t},r)=>d.jsx("p",{ref:r,className:K("text-sm text-muted-foreground",e),...t}));hu.displayName="CardDescription";const $m=m.forwardRef(({className:e,...t},r)=>d.jsx("div",{ref:r,className:K("p-6 pt-0",e),...t}));$m.displayName="CardContent";const RB=m.forwardRef(({className:e,...t},r)=>d.jsx("div",{ref:r,className:K("flex items-center p-6 pt-0",e),...t}));RB.displayName="CardFooter";var bf="Tabs",[jB,ZB]=yr(bf,[Zd]),wN=Zd(),[AB,Xv]=jB(bf),xN=m.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,onValueChange:s,defaultValue:i,orientation:o="horizontal",dir:a,activationMode:l="automatic",...c}=e,u=Gd(a),[f,p]=Ti({prop:n,onChange:s,defaultProp:i??"",caller:bf});return d.jsx(AB,{scope:r,baseId:Es(),value:f,onValueChange:p,orientation:o,dir:u,activationMode:l,children:d.jsx(be.div,{dir:u,"data-orientation":o,...c,ref:t})})});xN.displayName=bf;var bN="TabsList",_N=m.forwardRef((e,t)=>{const{__scopeTabs:r,loop:n=!0,...s}=e,i=Xv(bN,r),o=wN(r);return d.jsx(Mk,{asChild:!0,...o,orientation:i.orientation,dir:i.dir,loop:n,children:d.jsx(be.div,{role:"tablist","aria-orientation":i.orientation,...s,ref:t})})});_N.displayName=bN;var SN="TabsTrigger",kN=m.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,disabled:s=!1,...i}=e,o=Xv(SN,r),a=wN(r),l=NN(o.baseId,n),c=TN(o.baseId,n),u=n===o.value;return d.jsx($k,{asChild:!0,...a,focusable:!s,active:u,children:d.jsx(be.button,{type:"button",role:"tab","aria-selected":u,"aria-controls":c,"data-state":u?"active":"inactive","data-disabled":s?"":void 0,disabled:s,id:l,...i,ref:t,onMouseDown:oe(e.onMouseDown,f=>{!s&&f.button===0&&f.ctrlKey===!1?o.onValueChange(n):f.preventDefault()}),onKeyDown:oe(e.onKeyDown,f=>{[" ","Enter"].includes(f.key)&&o.onValueChange(n)}),onFocus:oe(e.onFocus,()=>{const f=o.activationMode!=="manual";!u&&!s&&f&&o.onValueChange(n)})})})});kN.displayName=SN;var EN="TabsContent",CN=m.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,forceMount:s,children:i,...o}=e,a=Xv(EN,r),l=NN(a.baseId,n),c=TN(a.baseId,n),u=n===a.value,f=m.useRef(u);return m.useEffect(()=>{const p=requestAnimationFrame(()=>f.current=!1);return()=>cancelAnimationFrame(p)},[]),d.jsx(It,{present:s||u,children:({present:p})=>d.jsx(be.div,{"data-state":u?"active":"inactive","data-orientation":a.orientation,role:"tabpanel","aria-labelledby":l,hidden:!p,id:c,tabIndex:0,...o,ref:t,style:{...e.style,animationDuration:f.current?"0s":void 0},children:p&&i})})});CN.displayName=EN;function NN(e,t){return`${e}-trigger-${t}`}function TN(e,t){return`${e}-content-${t}`}var PB=xN,RN=_N,jN=kN,AN=CN;const OB=PB,PN=m.forwardRef(({className:e,...t},r)=>d.jsx(RN,{ref:r,className:K("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...t}));PN.displayName=RN.displayName;const Lm=m.forwardRef(({className:e,...t},r)=>d.jsx(jN,{ref:r,className:K("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",e),...t}));Lm.displayName=jN.displayName;const Fm=m.forwardRef(({className:e,...t},r)=>d.jsx(AN,{ref:r,className:K("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));Fm.displayName=AN.displayName;const DB=yN({email:Dm().trim().email({message:"Please enter a valid email address"})}),IB=yN({email:Dm().trim().email({message:"Please enter a valid email address"}),password:Dm().min(6,{message:"Password must be at least 6 characters"})}),MB=()=>{const{user:e,loading:t,signIn:r,signUp:n,resetPassword:s}=wr(),i=qd(),{toast:o}=Ig(),[a,l]=m.useState("auth"),[c,u]=m.useState(!1),[f,p]=m.useState(""),[h,x]=m.useState(""),[v,y]=m.useState({});if(t)return d.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:d.jsx(bn,{className:"h-8 w-8 animate-spin text-primary"})});if(e)return d.jsx(qD,{to:"/",replace:!0});const g=()=>{const E=IB.safeParse({email:f,password:h});if(!E.success){const R={};return E.error.errors.forEach(P=>{P.path[0]==="email"&&(R.email=P.message),P.path[0]==="password"&&(R.password=P.message)}),y(R),!1}return y({}),!0},w=()=>{const E=DB.safeParse({email:f});return E.success?(y({}),!0):(y({email:E.error.errors[0].message}),!1)},b=async E=>{if(E.preventDefault(),!g())return;u(!0);const{error:R}=await r(f,h);u(!1),R&&o({variant:"destructive",title:"Sign in failed",description:R.message==="Invalid login credentials"?"Invalid email or password. Please try again.":R.message})},_=async E=>{if(E.preventDefault(),!g())return;u(!0);const{error:R}=await n(f,h);if(u(!1),R){let P=R.message;R.message.includes("already registered")&&(P="This email is already registered. Please sign in instead."),o({variant:"destructive",title:"Sign up failed",description:P})}else o({title:"Check your email",description:"We've sent you a confirmation link to complete your registration."})},S=async E=>{if(E.preventDefault(),!w())return;u(!0);const{error:R}=await s(f);u(!1),R?o({variant:"destructive",title:"Reset failed",description:R.message}):(o({title:"Check your email",description:"We've sent you a password reset link."}),l("auth"))},C=()=>{i("/")};return a==="forgot-password"?d.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center p-4",children:d.jsxs("div",{className:"w-full max-w-md -mt-16",children:[d.jsxs("div",{className:"text-center mb-8",children:[d.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 rounded-full bg-primary/10 mb-4",children:d.jsx(x0,{className:"h-8 w-8 text-primary"})}),d.jsx("h1",{className:"text-3xl font-serif font-semibold text-gradient",children:"Scholia"}),d.jsx("p",{className:"text-muted-foreground mt-2",children:"Your research companion"})]}),d.jsxs(Im,{className:"border-border bg-card",children:[d.jsxs(Mm,{children:[d.jsxs(Te,{variant:"ghost",size:"sm",onClick:()=>l("auth"),className:"w-fit -ml-2 text-muted-foreground hover:text-foreground",children:[d.jsx(dA,{className:"h-4 w-4 mr-2"}),"Back to sign in"]}),d.jsx(fu,{className:"text-xl",children:"Reset password"}),d.jsx(hu,{children:"Enter your email and we'll send you a reset link"})]}),d.jsx($m,{children:d.jsxs("form",{onSubmit:S,className:"space-y-4",children:[d.jsxs("div",{className:"space-y-2",children:[d.jsx(Jt,{htmlFor:"reset-email",children:"Email"}),d.jsx(Gs,{id:"reset-email",type:"email",placeholder:"you@example.com",value:f,onChange:E=>p(E.target.value),className:"bg-secondary border-border",disabled:c}),v.email&&d.jsx("p",{className:"text-sm text-destructive",children:v.email})]}),d.jsx(Te,{type:"submit",className:"w-full bg-primary text-primary-foreground hover:bg-primary/90",disabled:c,children:c?d.jsxs(d.Fragment,{children:[d.jsx(bn,{className:"mr-2 h-4 w-4 animate-spin"}),"Sending..."]}):"Send Reset Link"})]})})]})]})}):d.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center p-4",children:d.jsxs("div",{className:"w-full max-w-md -mt-16",children:[d.jsxs("div",{className:"text-center mb-8",children:[d.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 rounded-full bg-primary/10 mb-4",children:d.jsx(x0,{className:"h-8 w-8 text-primary"})}),d.jsx("h1",{className:"text-3xl font-serif font-semibold text-gradient",children:"Scholia"}),d.jsx("p",{className:"text-muted-foreground mt-2",children:"Your Knowledge Companion"})]}),d.jsx(Im,{className:"border-border bg-card",children:d.jsxs(OB,{defaultValue:"signin",className:"w-full",children:[d.jsx(Mm,{className:"pb-4",children:d.jsxs(PN,{className:"grid w-full grid-cols-2 bg-secondary",children:[d.jsx(Lm,{value:"signin",className:"data-[state=active]:bg-primary data-[state=active]:text-primary-foreground",children:"Sign In"}),d.jsx(Lm,{value:"signup",className:"data-[state=active]:bg-primary data-[state=active]:text-primary-foreground",children:"Sign Up"})]})}),d.jsxs($m,{children:[d.jsxs(Fm,{value:"signin",className:"mt-0",children:[d.jsx(fu,{className:"text-xl mb-2",children:"Welcome back"}),d.jsx(hu,{className:"mb-6",children:"Sign in to continue your journey"}),d.jsxs("form",{onSubmit:b,className:"space-y-4",children:[d.jsxs("div",{className:"space-y-2",children:[d.jsx(Jt,{htmlFor:"signin-email",children:"Email"}),d.jsx(Gs,{id:"signin-email",type:"email",placeholder:"you@example.com",value:f,onChange:E=>p(E.target.value),className:"bg-secondary border-border",disabled:c}),v.email&&d.jsx("p",{className:"text-sm text-destructive",children:v.email})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsx(Jt,{htmlFor:"signin-password",children:"Password"}),d.jsx(Te,{type:"button",variant:"link",className:"px-0 h-auto text-xs text-muted-foreground hover:text-primary",onClick:()=>l("forgot-password"),children:"Forgot password?"})]}),d.jsx(Gs,{id:"signin-password",type:"password",placeholder:"",value:h,onChange:E=>x(E.target.value),className:"bg-secondary border-border",disabled:c}),v.password&&d.jsx("p",{className:"text-sm text-destructive",children:v.password})]}),d.jsx(Te,{type:"submit",className:"w-full bg-primary text-primary-foreground hover:bg-primary/90",disabled:c,children:c?d.jsxs(d.Fragment,{children:[d.jsx(bn,{className:"mr-2 h-4 w-4 animate-spin"}),"Signing in..."]}):"Sign In"})]})]}),d.jsxs(Fm,{value:"signup",className:"mt-0",children:[d.jsx(fu,{className:"text-xl mb-2",children:"Create account"}),d.jsx(hu,{className:"mb-6",children:"Start your knowledge journey today"}),d.jsxs("form",{onSubmit:_,className:"space-y-4",children:[d.jsxs("div",{className:"space-y-2",children:[d.jsx(Jt,{htmlFor:"signup-email",children:"Email"}),d.jsx(Gs,{id:"signup-email",type:"email",placeholder:"you@example.com",value:f,onChange:E=>p(E.target.value),className:"bg-secondary border-border",disabled:c}),v.email&&d.jsx("p",{className:"text-sm text-destructive",children:v.email})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(Jt,{htmlFor:"signup-password",children:"Password"}),d.jsx(Gs,{id:"signup-password",type:"password",placeholder:"",value:h,onChange:E=>x(E.target.value),className:"bg-secondary border-border",disabled:c}),v.password&&d.jsx("p",{className:"text-sm text-destructive",children:v.password})]}),d.jsx(Te,{type:"submit",className:"w-full bg-primary text-primary-foreground hover:bg-primary/90",disabled:c,children:c?d.jsxs(d.Fragment,{children:[d.jsx(bn,{className:"mr-2 h-4 w-4 animate-spin"}),"Creating account..."]}):"Create Account"})]})]}),d.jsx("div",{className:"mt-6 pt-6 border-t border-border",children:d.jsx(Te,{type:"button",variant:"outline",className:"w-full border-border text-muted-foreground hover:text-foreground hover:bg-secondary",onClick:C,children:"Continue without an account"})})]})]})})]})})},$B=()=>{const e=Vd();return m.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",e.pathname)},[e.pathname]),d.jsx("div",{className:"flex min-h-screen items-center justify-center bg-muted",children:d.jsxs("div",{className:"text-center",children:[d.jsx("h1",{className:"mb-4 text-4xl font-bold",children:"404"}),d.jsx("p",{className:"mb-4 text-xl text-muted-foreground",children:"Oops! Page not found"}),d.jsx("a",{href:"/",className:"text-primary underline hover:text-primary/90",children:"Return to Home"})]})})},LB=new BO,FB=()=>d.jsx(HO,{client:LB,children:d.jsx(O$,{children:d.jsxs(Wl,{children:[d.jsx(c2,{}),d.jsx(z2,{}),d.jsx(YD,{future:{v7_startTransition:!0,v7_relativeSplatPath:!0},children:d.jsxs(HD,{children:[d.jsx(iu,{path:"/",element:d.jsx(rB,{})}),d.jsx(iu,{path:"/auth",element:d.jsx(MB,{})}),d.jsx(iu,{path:"*",element:d.jsx($B,{})})]})})]})})});t1(document.getElementById("root")).render(d.jsx(Y.StrictMode,{children:d.jsx(FB,{})}));
